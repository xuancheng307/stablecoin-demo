<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ±ä¸€é›†åœ˜ç©©å®šå¹£ç”Ÿæ…‹ç³»çµ±å‰µæ–°æ‡‰ç”¨ææ¡ˆ</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .main-container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 25px 70px rgba(0,0,0,0.15);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.8em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin-bottom: 30px;
            height: 80vh;
        }
        
        #ecosystem-container {
            background: #fafafa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }
        
        #ecosystem-svg {
            width: 100%;
            height: 100%;
            cursor: default;
        }
        
        .sidebar {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            overflow-y: auto;
            max-height: 100%;
        }
        
        .controls {
            margin-bottom: 25px;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group h3 {
            color: #2c3e50;
            font-size: 1.1em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .control-group h3::before {
            content: '';
            width: 4px;
            height: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 2px;
        }
        
        button {
            width: 100%;
            padding: 12px 20px;
            margin-bottom: 8px;
            border: none;
            border-radius: 8px;
            background: #fff;
            color: #2c3e50;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .legend {
            margin-top: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .legend-item:hover {
            background: #f0f0f0 !important;
            transform: translateX(2px);
        }
        
        .legend-color {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .legend-label {
            font-size: 14px;
            color: #555;
            flex: 1;
        }
        
        .legend-count {
            font-size: 12px;
            color: #999;
            background: #f0f0f0;
            padding: 2px 8px;
            border-radius: 12px;
        }
        
        .tooltip {
            position: absolute;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.95);
            color: white;
            border-radius: 10px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
            max-width: 350px;
            line-height: 1.5;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .tooltip::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-style: solid;
            border-width: 0 8px 8px 8px;
            border-color: transparent transparent rgba(0, 0, 0, 0.95) transparent;
        }
        
        .info-panel {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            display: none;
            animation: slideIn 0.3s ease;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1001;
            background: white;
        }
        
        /* åƒ¹å€¼æµå‹•å¡ç‰‡æ¨£å¼ */
        .flow-card {
            padding: 20px;
            border-radius: 12px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }
        
        .flow-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .flow-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .flow-name {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .flow-amount {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .flow-frequency {
            font-size: 12px;
            color: #6c757d;
            font-weight: 500;
        }
        
        .flow-card.large .flow-name {
            font-size: 18px;
        }
        
        .flow-card.large .flow-amount {
            font-size: 24px;
        }
        
        .flow-card.medium .flow-name {
            font-size: 16px;
        }
        
        .flow-card.medium .flow-amount {
            font-size: 18px;
        }
        
        .flow-card.small .flow-name {
            font-size: 14px;
        }
        
        .flow-card.small .flow-amount {
            font-size: 16px;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .info-panel h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-panel .icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .info-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .info-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .info-section h4 {
            color: #34495e;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .info-section p {
            color: #555;
            line-height: 1.6;
            margin: 5px 0;
        }
        
        .info-section ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .info-section li {
            color: #666;
            margin: 5px 0;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .flow-indicator {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #e74c3c;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
        }
        
        .search-box {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 15px;
            transition: border-color 0.3s;
        }
        
        .search-box:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .zoom-controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .zoom-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .sidebar {
                order: -1;
            }
            
            #ecosystem-container {
                height: 60vh;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .main-container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .info-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <header>
            <h1>çµ±ä¸€é›†åœ˜ç©©å®šå¹£ç”Ÿæ…‹ç³»çµ±</h1>
            <p class="subtitle">Web3å‰µæ–°æ‡‰ç”¨æ•´åˆææ¡ˆ - æ¦‚å¿µå±•ç¤º</p>
            <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin: 20px 0; font-size: 0.9em; color: #856404;">
                <strong>ğŸ“‹ é‡è¦èªªæ˜ï¼š</strong> æœ¬å±•ç¤ºç‚ºçµ±ä¸€é›†åœ˜Web3å‰µæ–°æ‡‰ç”¨æ•´åˆææ¡ˆçš„æ¦‚å¿µç¤ºæ„åœ–ï¼Œå±•ç¤ºå…§å®¹åŒ…å«ç¾æœ‰æ¥­å‹™æ•´åˆèˆ‡æœªä¾†å‰µæ–°æ‡‰ç”¨æ§‹æƒ³ã€‚éƒ¨åˆ†åŠŸèƒ½èˆ‡æ•¸æ“šç‚ºæ¦‚å¿µæ€§å±•ç¤ºï¼Œå¯¦éš›å¯¦æ–½éœ€ä¾æ“šæ³•è¦ç’°å¢ƒã€æŠ€è¡“ç™¼å±•åŠå•†æ¥­è©•ä¼°è€Œå®šã€‚
            </div>
        </header>
        
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value">15-60å„„</div>
                <div class="stat-label">å¹´æ‰‹çºŒè²»ç¯€çœ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">1-3å„„</div>
                <div class="stat-label">åŒ¯å…Œæˆæœ¬ç¯€çœ/å¹´</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2.5å„„</div>
                <div class="stat-label">é£Ÿå“å¬å›æˆæœ¬é™ä½/æ¡ˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">28.5-102.5å„„</div>
                <div class="stat-label">ç¸½æ•ˆç›Šæ½›åŠ›/å¹´</div>
            </div>
        </div>
        
        <div class="dashboard" id="main-dashboard">
            <div id="ecosystem-container">
                <svg id="ecosystem-svg"></svg>
                <div class="zoom-controls">
                    <button class="zoom-btn" onclick="zoomIn()">+</button>
                    <button class="zoom-btn" onclick="zoomOut()">âˆ’</button>
                    <button class="zoom-btn" onclick="resetZoom()">âŸ²</button>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="controls">
                    <input type="text" class="search-box" placeholder="æœå°‹æ¥­å‹™å–®ä½..." oninput="searchNodes(this.value)">
                    
                    <div class="control-group">
                        <h3>æ¥­å‹™æµç¨‹</h3>
                        <button onclick="highlightFlow('retail')">
                            <span>ğŸ›’</span> é›¶å”®æ”¯ä»˜æµç¨‹
                        </button>
                        <button onclick="highlightFlow('supply')">
                            <span>ğŸ“¦</span> ä¾›æ‡‰éˆæµç¨‹
                        </button>
                        <button onclick="highlightFlow('finance')">
                            <span>ğŸ’°</span> é‡‘èæœå‹™æµç¨‹
                        </button>
                        <button onclick="highlightFlow('cross')">
                            <span>ğŸŒ</span> è·¨å¢ƒäº¤æ˜“æµç¨‹
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <h3>æ ¸å¿ƒæ•ˆç›Šåˆ†æ</h3>
                        <button onclick="showEfficiencyAnalysis()">
                            <span>ğŸ’°</span> ç¶œåˆæ•ˆç›Šåˆ†æ
                        </button>
                        <button onclick="showRiskMap()">
                            <span>âš ï¸</span> é¢¨éšªç¯€é»åˆ†æ
                        </button>
                        <button onclick="showTechInfrastructureAnalysis()">
                            <span>âš™ï¸</span> åŸºç¤è¨­æ–½èƒ½åŠ›è©•ä¼°
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <h3>è¦–åœ–æ§åˆ¶</h3>
                        <button onclick="toggleAnimation()">
                            <span>ğŸ¬</span> å‹•ç•«æ•ˆæœ
                        </button>
                        <button onclick="showAllConnections()">
                            <span>ğŸ”—</span> é¡¯ç¤ºæ‰€æœ‰é€£æ¥
                        </button>
                        <button onclick="resetView()">
                            <span>ğŸ”„</span> é‡ç½®è¦–åœ–
                        </button>
                        
                        <!-- å°‡åœ–ä¾‹èªªæ˜ç§»åˆ°è¦–åœ–æ§åˆ¶çµ„å…§ï¼Œæ˜ç¢ºå…¶é©ç”¨ç¯„åœ -->
                        <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #e0e0e0;">
                            <h4 style="color: #2c3e50; font-size: 1.1em; margin-bottom: 10px;">ç¯€é»é¡å‹ç¯©é¸</h4>
                            <div class="legend-item" onclick="filterByType('core')" style="margin-bottom: 8px; padding: 10px 12px; border-radius: 6px; cursor: pointer; transition: background 0.2s;">
                                <div class="legend-color" style="background: #FF6B6B; width: 14px; height: 14px; border-radius: 50%; display: inline-block; margin-right: 10px;"></div>
                                <span class="legend-label" style="font-size: 15px; font-weight: 500; color: #2c3e50;">æ ¸å¿ƒæŠ€è¡“</span>
                                <span class="legend-count" style="font-size: 13px; color: #666; margin-left: 6px;">(2)</span>
                            </div>
                            <div class="legend-item" onclick="filterByType('business')" style="margin-bottom: 8px; padding: 10px 12px; border-radius: 6px; cursor: pointer; transition: background 0.2s;">
                                <div class="legend-color" style="background: #FF9F40; width: 14px; height: 14px; border-radius: 50%; display: inline-block; margin-right: 10px;"></div>
                                <span class="legend-label" style="font-size: 15px; font-weight: 500; color: #2c3e50;">æ¥­å‹™å–®ä½</span>
                                <span class="legend-count" style="font-size: 13px; color: #666; margin-left: 6px;">(7)</span>
                            </div>
                            <div class="legend-item" onclick="filterByType('finance')" style="margin-bottom: 8px; padding: 10px 12px; border-radius: 6px; cursor: pointer; transition: background 0.2s;">
                                <div class="legend-color" style="background: #4ECDC4; width: 14px; height: 14px; border-radius: 50%; display: inline-block; margin-right: 10px;"></div>
                                <span class="legend-label" style="font-size: 15px; font-weight: 500; color: #2c3e50;">é‡‘èæœå‹™</span>
                                <span class="legend-count" style="font-size: 13px; color: #666; margin-left: 6px;">(2)</span>
                            </div>
                            <div class="legend-item" onclick="filterByType('partner')" style="margin-bottom: 8px; padding: 10px 12px; border-radius: 6px; cursor: pointer; transition: background 0.2s;">
                                <div class="legend-color" style="background: #6C5CE7; width: 14px; height: 14px; border-radius: 50%; display: inline-block; margin-right: 10px;"></div>
                                <span class="legend-label" style="font-size: 15px; font-weight: 500; color: #2c3e50;">åˆä½œå¤¥ä¼´</span>
                                <span class="legend-count" style="font-size: 13px; color: #666; margin-left: 6px;">(1)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç§»é™¤ç¨ç«‹çš„åœ–ä¾‹å€å¡Š -->
                
                <div class="flow-description" id="flow-description" style="display: none;">
                    <div class="control-group">
                        <button onclick="returnToMain()" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; margin-bottom: 20px;">
                            <span>ğŸ”™</span> è¿”å›ä¸»é é¢
                        </button>
                    </div>
                    
                    <div class="flow-header">
                        <h2 id="flow-title" style="margin-bottom: 10px; font-size: 1.4em;"></h2>
                        <p id="flow-desc" style="color: #666; line-height: 1.6; margin-bottom: 25px; font-size: 1em;"></p>
                    </div>
                    
                    <div class="flow-content">
                        <div class="flow-section">
                            <div id="flow-steps"></div>
                        </div>
                        <div class="flow-section">
                            <div id="flow-benefits"></div>
                        </div>
                        <div class="flow-section">
                            <div id="flow-nodes"></div>
                        </div>
                        <div class="flow-section">
                            <div id="flow-metrics"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æµç¨‹è©³æƒ…é é¢ -->
        <div class="flow-detail-page" id="flow-detail-page" style="display: none;">
            <div class="flow-detail-header">
                <button class="back-btn" onclick="backToMain()">
                    <span>ğŸ”™</span> è¿”å›ä¸»é é¢
                </button>
                <div class="flow-detail-title">
                    <h1 id="detail-title"></h1>
                    <p id="detail-subtitle"></p>
                </div>
            </div>
            
            <div class="flow-detail-content">
                <div class="flow-detail-main">
                    <div class="detail-section">
                        <h2>ğŸ“‹ æµç¨‹æ¦‚è¿°</h2>
                        <div class="detail-card">
                            <p id="detail-description"></p>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h2>ğŸ”„ å¯¦æ–½æ­¥é©Ÿ</h2>
                        <div class="detail-card">
                            <div id="detail-steps"></div>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h2>âœ¨ æ ¸å¿ƒæ•ˆç›Š</h2>
                        <div class="detail-card">
                            <div id="detail-benefits"></div>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h2>ğŸ“Š é—œéµç¸¾æ•ˆæŒ‡æ¨™</h2>
                        <div class="detail-card">
                            <div id="detail-kpi" class="kpi-grid"></div>
                        </div>
                    </div>
                </div>
                
                <div class="flow-detail-sidebar">
                    <div class="detail-section">
                        <h2>ğŸ¯ æµç¨‹è·¯å¾‘</h2>
                        <div class="detail-card">
                            <div id="detail-path"></div>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h2>ğŸ”— ç›¸é—œç¯€é»</h2>
                        <div class="detail-card">
                            <div id="detail-nodes" class="related-nodes"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flow-detail-ecosystem">
                <h2>ğŸŒ ç›¸é—œç”Ÿæ…‹ç¯€é»</h2>
                <div class="mini-ecosystem" id="mini-ecosystem">
                    <svg id="mini-ecosystem-svg" width="100%" height="700"></svg>
                </div>
            </div>
        </div>
        
        <div id="info-panel" class="info-panel">
            <div style="position: absolute; top: 15px; right: 20px; cursor: pointer; font-size: 24px; color: #999;" onclick="hideInfoPanel()">&times;</div>
            <h3>
                <div class="icon" id="info-icon"></div>
                <span id="info-title"></span>
            </h3>
            <div class="info-content">
                <div class="info-section">
                    <h4>ğŸ“‹ è©³ç´°èªªæ˜</h4>
                    <p id="info-description"></p>
                </div>
                <div class="info-section">
                    <div id="info-connections"></div>
                </div>
                <div class="info-section">
                    <div id="info-applications"></div>
                </div>
                <div class="info-section">
                    <div id="info-metrics"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="tooltip" id="tooltip"></div>
    <div class="flow-indicator" id="flow-indicator"></div>
    <div class="info-panel-overlay" id="info-panel-overlay" onclick="hideInfoPanel()"></div>
    
    <script>
        // æ“´å±•çš„ç¯€é»æ•¸æ“š - æ ¹æ“šæ¶æ§‹åœ–èª¿æ•´
        const nodes = [
            // æ ¸å¿ƒå±¤ - ç©©å®šå¹£å’Œå€å¡Šéˆï¼ˆä¸­å¿ƒä½ç½®ï¼‰
            { 
                id: 'stablecoin', 
                name: 'ç©©å®šå¹£', 
                type: 'core', 
                x: 450, 
                y: 350,
                info: 'ã€ææ¡ˆæ¦‚å¿µã€‘çµ±ä¸€é›†åœ˜ç©©å®šå¹£ï¼ŒéŒ¨å®šæ–°å°å¹£ï¼Œä½œç‚ºæ•´å€‹ç”Ÿæ…‹ç³»çµ±çš„åƒ¹å€¼äº¤æ›åª’ä»‹ï¼Œå„²å‚™è­‰æ˜é€æ˜åŒ–',
                connections: ['blockchain', 'retail', 'food', 'partner', 'exchange', 'leisure', 'crossborder', 'construction', 'integration', 'other_business'],
                applications: ['è·¨å¢ƒæ”¯ä»˜', 'ä¾›æ‡‰éˆèè³‡', 'å¿ èª åº¦çå‹µ', 'B2Bçµç®—', 'å„²å‚™å¯©è¨ˆé–‹æ”¾ç¬¬ä¸‰æ–¹å³æ™‚é©—è­‰'],
                metrics: { 'å„²å‚™æ¯”ä¾‹': '110%(æ¨ä¼°)', 'æ—¥äº¤æ˜“é‡': '1,000è¬ç­†(æ¨ä¼°)', 'ç¯€çœæˆæœ¬': '1.5-3%' },
                annualVolume: '2,500å„„',
                settlementRate: 'high'
            },
            { 
                id: 'blockchain', 
                name: 'å€å¡Šéˆ', 
                type: 'core', 
                x: 600, 
                y: 350,
                info: 'ã€ææ¡ˆæ¦‚å¿µã€‘æ¡ç”¨è¯ç›Ÿéˆæ¶æ§‹ï¼Œç¢ºä¿äº¤æ˜“é€Ÿåº¦èˆ‡å®‰å…¨æ€§çš„å¹³è¡¡',
                connections: ['stablecoin', 'food', 'construction', 'other_business'],
                applications: ['æ™ºèƒ½åˆç´„åŸ·è¡Œ', 'äº¤æ˜“è¨˜éŒ„', 'èº«ä»½é©—è­‰', 'è³‡ç”¢è¿½è¹¤'],
                metrics: { 'TPS': '10,000+', 'ç¯€é»æ•¸': '20+', 'å¯ç”¨æ€§': '99.99%' }
            },
            
            // å·¦ä¸Šæ¥­å‹™å–®ä½ - ä¼‘é–’å¨›æ¨‚
            { 
                id: 'leisure', 
                name: 'ä¼‘é–’\nå¨›æ¨‚', 
                type: 'business', 
                x: 250, 
                y: 200,
                info: 'çµ±ä¸€å¤¢æ™‚ä»£ã€7-ELEVENè¯åå¨›æ¨‚å ´é¤¨ã€KTVã€é›»å½±ç¥¨å‹™ã€W Hotelç­‰åº¦å‡å¨›æ¨‚å ´æ™¯',
                connections: ['stablecoin'],
                applications: ['çµ±ä¸€å¤¢æ™‚ä»£å•†å ´æ•´åˆæ”¯ä»˜', 'é›»å½±ç¥¨å‹™æ•¸ä½åŒ–', 'KTVæœƒå“¡ç©åˆ†ç³»çµ±', 'W Hotelåº¦å‡æ•´åˆæœå‹™'],
                metrics: { 'å¨›æ¨‚å ´é¤¨': '50+(æ¨ä¼°)', 'å¹´æœå‹™äººæ¬¡': '500è¬+(æ¨ä¼°)', 'æ•¸ä½åŒ–ç¥¨å‹™': '100è¬ç­†/æœˆ' }
            },
            // å³ä¸Šæ¥­å‹™å–®ä½ - é›¶å”®é€šè·¯  
            { 
                id: 'retail', 
                name: 'é›¶å”®\né€šè·¯', 
                type: 'business', 
                x: 650, 
                y: 200,
                info: '7-ELEVENã€åº·æ˜¯ç¾ã€è–å¨œå¤šå ¡ã€æ˜Ÿå·´å…‹(è¯ååˆä½œ)ã€PChome(çµ±ä¸€æŒè‚¡)',
                connections: ['stablecoin'],
                applications: ['é›¶å”®é€£é–çµ±ä¸€æ”¯ä»˜(ç¾æœ‰)', 'ç·šä¸Šç·šä¸‹æ•´åˆæœƒå“¡ç³»çµ±(ç¾æœ‰)', 'è·¨åº—ç©åˆ†æ•´åˆ(ç¾æœ‰)', 'ã€ææ¡ˆã€‘ç©©å®šå¹£B2Bçµç®—'],
                metrics: { 'é–€å¸‚æ•¸': '7,110', '2024ç‡Ÿæ”¶': '3,379å„„', 'å¸‚ä½”ç‡': '51.8%', 'æœƒå“¡æ•¸': '1,800è¬+' },
                annualVolume: '1,500å„„',
                settlementRate: 'high',
                profitability: {
                    costSaving: '22.5-45å„„', // 1,500å„„ Ã— 1.5-3% æ‰‹çºŒè²»ç¯€çœ
                    newRevenue: 'ä½', 
                    totalBenefit: '22.5-45å„„/å¹´',
                    roi: 'é«˜',
                    priority: 'high',
                    strategy: 'å„ªå…ˆå…¨é¢æ¨é€²'
                },
                techRequirements: {
                    chainType: 'è¯ç›Ÿéˆ',
                    tps: '1,500-2,000',
                    sla: '99.9%',
                    latency: '<1ç§’',
                    specialNeeds: ['é«˜é »äº¤æ˜“', 'å³æ™‚çµç®—', 'ä½å»¶é²'],
                    priority: 'é«˜æŠ€è¡“è¦æ±‚',
                    infrastructure: 'éœ€å„ªå…ˆå»ºè¨­'
                }
            },
            // å·¦ä¸­æ¥­å‹™å–®ä½ - è·¨åœ‹è²¿æ˜“
            { 
                id: 'crossborder', 
                name: 'è·¨åœ‹\nè²¿æ˜“', 
                type: 'business', 
                x: 200, 
                y: 350,
                info: 'æ—¥æœ¬ã€æ³°åœ‹ã€è²å¾‹è³“ã€ä¸­åœ‹å¤§é™¸çš„åŸæ–™ã€é£Ÿå“ã€é›¶å”®ä¾›æ‡‰éˆæ¡è³¼èˆ‡B2Bæµé€š',
                connections: ['stablecoin'],
                applications: ['äºå¤ªå€åŸæ–™æ¡è³¼', 'é£Ÿå“ä¾›æ‡‰éˆæµé€š', 'B2Bè·¨å¢ƒçµç®—', 'DID/Travel Ruleåˆè¦'],
                metrics: { 'äº¤æ˜“åœ‹å®¶': '4+', 'ç¯€çœåŒ¯å…Œæˆæœ¬': '2-5%', 'çµç®—æ™‚é–“': 'å³æ™‚' },
                profitability: {
                    costSaving: 'åŒ¯å…Œæˆæœ¬ç¯€çœ 1-3å„„', 
                    newRevenue: 'åˆ©å·®æ”¶ç›Šä½', 
                    totalBenefit: '1-3å„„/å¹´',
                    roi: 'ä¸­',
                    priority: 'medium',
                    strategy: 'è¼”åŠ©æ¨é€²'
                },
                techRequirements: {
                    chainType: 'å…¬æœ‰éˆ+è·¨éˆæ©‹',
                    tps: '500-1,000',
                    sla: '99.9%',
                    latency: '<5ç§’',
                    specialNeeds: ['åŒ¯ç‡é¢¨æ§', 'åˆè¦æ•¸æ“šç•™å­˜', 'è·¨å¢ƒåŒæ­¥'],
                    priority: 'ç›£ç®¡å„ªå…ˆé—œæ³¨',
                    infrastructure: 'å¯å»¶å¾Œå„ªåŒ–'
                }
            },
            
            // å³ä¸­æ¥­å‹™å–®ä½ - é£Ÿå“ä¾›æ‡‰éˆ
            { 
                id: 'food', 
                name: 'é£Ÿå“\nä¾›æ‡‰éˆ', 
                type: 'business', 
                x: 750, 
                y: 350,
                info: 'å†·éˆè¾²ç”¢ â†’ åŠ å·¥ â†’ å€‰å„² â†’ é…é€ä¸­å¿ƒ â†’ é–€å¸‚ï¼ˆèˆ‡ç¾æœ‰å†·éˆç®¡ç†æ•´åˆï¼‰',
                connections: ['blockchain'],
                applications: ['å†·éˆç‰©æµè¿½è¹¤', 'æº«åº¦ç›£æ§ä¸Šéˆ', 'é£Ÿå®‰å³æ™‚é©—è­‰', 'ä¾›æ‡‰å•†çµç®—è‡ªå‹•åŒ–'],
                metrics: { 'å†·éˆç¯€é»': '1000+', 'ä¾›æ‡‰å•†': '500+', 'é£Ÿå®‰è¿½æº¯': '100%' },
                profitability: {
                    costSaving: '8-24å„„', // 800å„„ Ã— 1-3% æ‰‹çºŒè²»ç¯€çœ
                    newRevenue: 'ä¾›æ‡‰éˆèè³‡æ”¶ç›Š', 
                    totalBenefit: '10-30å„„/å¹´',
                    roi: 'é«˜',
                    priority: 'high',
                    strategy: 'å„ªå…ˆå…¨é¢æ¨é€²'
                },
                techRequirements: {
                    chainType: 'è¯ç›Ÿéˆ',
                    tps: '500-1,000',
                    sla: '99.9%',
                    latency: '<3ç§’',
                    specialNeeds: ['æ‰¹æ¬¡çµç®—', 'å†·éˆç³»çµ±å°æ¥', 'IoTæ•´åˆ'],
                    priority: 'é«˜æŠ€è¡“è¦æ±‚',
                    infrastructure: 'éœ€å„ªå…ˆå»ºè¨­'
                }
            },
            
            // å·¦ä¸‹æ¥­å‹™å–®ä½ - å»ºè¨­
            { 
                id: 'construction', 
                name: 'å»ºè¨­', 
                type: 'business', 
                x: 300, 
                y: 500,
                info: 'ã€ç¾æœ‰+ææ¡ˆã€‘çµ±ä¸€é›†åœ˜å»ºè¨­æ¥­å‹™ï¼ŒåŒ…å«å•†å ´ã€å€‰å„²ã€ç‰©æµåœ’å€ã€ç‰©æ¥­ç­‰è³‡ç”¢é–‹ç™¼ï¼Œèˆ‡å¤šå€‹æ‡‰ç”¨å ´æ™¯é€£çµ',
                connections: ['stablecoin', 'rwa', 'blockchain'],
                applications: ['ã€ææ¡ˆã€‘ç©©å®šå¹£å·¥ç¨‹æ¬¾æ”¯ä»˜', 'ã€ææ¡ˆã€‘å»ºè¨­è³‡ç”¢ä¸Šéˆè¿½æº¯', 'ã€ææ¡ˆã€‘å»ºè¨­è³‡ç”¢RWAåŒ–', 'ã€ç¾æœ‰ã€‘BOTé–‹ç™¼æ¡ˆ', 'ã€ç¾æœ‰ã€‘ç‰©æµåœ’å€å»ºè¨­', 'ã€ç¾æœ‰ã€‘å•†å ´é–‹ç™¼'],
                metrics: { 'å»ºè¨­æŠ•è³‡': '300å„„+(å°ä¸­)', 'BOTæ¡ˆ': '5.62å„„(å¤§é‡Œ)', 'ç‰©æµåœ’å€': '235å„„(æ¡ƒåœ’)' },
                annualVolume: '120å„„',
                settlementRate: 'low',
                profitability: {
                    costSaving: 'ç„¡ç›´æ¥æˆæœ¬æ•ˆç›Š', 
                    newRevenue: 'RWAè³‡ç”¢ä»£å¹£åŒ–æ”¶ç›Š', 
                    totalBenefit: 'é•·æœŸæ”¶ç›Šé«˜',
                    roi: 'é«˜',
                    priority: 'medium-high',
                    strategy: 'è¬¹æ…æ“´å±•ã€å…ˆè©¦é»'
                },
                techRequirements: {
                    chainType: 'è¯ç›Ÿéˆ+å…¬æœ‰éˆ',
                    tps: '100-500',
                    sla: '99.95%',
                    latency: '<5ç§’',
                    specialNeeds: ['å¤§é¡çµç®—', 'RWAç™¼è¡Œ', 'è·¨éˆåŒæ­¥'],
                    priority: 'é«˜æŠ€è¡“è¦æ±‚',
                    infrastructure: 'éœ€å„ªå…ˆå»ºè¨­'
                }
            },
            // ä¸­ä¸‹æ¥­å‹™å–®ä½ - çµ±ä¸€è­‰  
            { 
                id: 'integration', 
                name: 'çµ±ä¸€è­‰', 
                type: 'business', 
                x: 525, 
                y: 450,
                info: 'ã€çµåˆææ¡ˆã€‘æ•¸ä½èº«ä»½èˆ‡æ¬Šç›Šæ•´åˆå¹³å°ï¼Œæœªä¾†å¯æ•´åˆç©©å®šå¹£æ‡‰ç”¨',
                connections: ['construction', 'partner'],
                applications: ['å»ºè¨­', 'çµ±ä¸€'], 
                metrics: { 'è¨»å†Šç”¨æˆ¶': '500è¬+(æ¨ä¼°)', 'æ•´åˆæœå‹™': '30+', 'èªè­‰æ™‚é–“': 'ç§’ç´š' }
            },
            
            // ä¸‹æ–¹é‡‘èæœå‹™ - RWA
            { 
                id: 'rwa', 
                name: 'RWA', 
                type: 'finance', 
                x: 400, 
                y: 550,
                info: 'ã€ææ¡ˆæ¦‚å¿µã€‘å¯¦ç‰©è³‡ç”¢æ•¸ä½åŒ–ï¼Œæé«˜è³‡ç”¢æµå‹•æ€§',
                connections: ['integration', 'exchange'],
                applications: ['ä¸å‹•ç”¢ä»£å¹£', 'è¨­å‚™ç§Ÿè³ƒ', 'æ‡‰æ”¶å¸³æ¬¾', 'ç¢³æ¬Šäº¤æ˜“'],
                metrics: { 'ä»£å¹£åŒ–è³‡ç”¢': '100å„„+(æ¨ä¼°)', 'æŠ•è³‡è€…': '10è¬+(æ¨ä¼°)', 'æµå‹•æ€§æå‡': '300%(æ¨ä¼°)' },
                annualVolume: '100å„„',
                settlementRate: 'low',
                profitability: {
                    costSaving: 'ç„¡ç›´æ¥æˆæœ¬æ•ˆç›Š', 
                    newRevenue: 'ä»£å¹£åŒ–æ‰‹çºŒè²»èˆ‡ç®¡ç†è²»', 
                    totalBenefit: 'é•·æœŸæ”¶ç›Šé«˜',
                    roi: 'é«˜',
                    priority: 'medium-high',
                    strategy: 'è¬¹æ…æ“´å±•ã€å…ˆè©¦é»'
                },
                techRequirements: {
                    chainType: 'å…¬æœ‰éˆ',
                    tps: '200-1,000',
                    sla: '99.99%',
                    latency: '<10ç§’',
                    specialNeeds: ['é€æ˜åº¦é©—è­‰', 'Merkle Proof', 'è·¨éˆå…¼å®¹'],
                    priority: 'é«˜æŠ€è¡“è¦æ±‚',
                    infrastructure: 'éœ€å„ªå…ˆå»ºè¨­'
                }
            },
            // ä¸‹æ–¹é‡‘èæœå‹™ - äº¤æ˜“æ‰€
            { 
                id: 'exchange', 
                name: 'äº¤æ˜“æ‰€', 
                type: 'finance', 
                x: 550, 
                y: 550,
                info: 'ã€ææ¡ˆæ¦‚å¿µã€‘æä¾›ç©©å®šå¹£èˆ‡å…¶ä»–è³‡ç”¢çš„äº¤æ˜“æœå‹™',
                connections: ['rwa', 'partner'],
                applications: ['æ³•å®šå¹£å…¥é‡‘ç®¡é“', 'è™›æ“¬è³‡ç”¢äº¤æ˜“', 'è¡ç”Ÿæ€§å•†å“äº¤æ˜“'],
                metrics: { '24häº¤æ˜“é‡': '10-100å„„(æ¨ä¼°)', 'äº¤æ˜“å°': '100-2000(æ¨ä¼°)', 'ç”¨æˆ¶æ•¸': '100è¬+(æ¨ä¼°)' },
                profitability: {
                    costSaving: 'ç„¡ç›´æ¥æˆæœ¬æ•ˆç›Š', 
                    newRevenue: 'æ‰‹çºŒè²»èˆ‡åˆ©å·®æ”¶ç›Šä¸­ç­‰', 
                    totalBenefit: 'ä¸­ç­‰æ”¶ç›Š',
                    roi: 'ä¸­',
                    priority: 'medium',
                    strategy: 'è¼”åŠ©æ¨é€²'
                },
                techRequirements: {
                    chainType: 'å…¬æœ‰éˆ+è·¨éˆæ©‹',
                    tps: '1,000-5,000',
                    sla: '99.99%',
                    latency: '<2ç§’',
                    specialNeeds: ['é«˜å®‰å…¨æ€§', 'å³æ™‚å„²å‚™é©—è­‰', 'å¤šéˆæ”¯æŒ'],
                    priority: 'é«˜æŠ€è¡“è¦æ±‚',
                    infrastructure: 'éœ€å„ªå…ˆå»ºè¨­'
                }
            },
            
            // å·¦é‚Šæ¥­å‹™å–®ä½ - çµ±ä¸€å…¶ä»–æ¥­å‹™
            { 
                id: 'other_business', 
                name: 'çµ±ä¸€å…¶ä»–\næ¥­å‹™', 
                type: 'business', 
                x: 150, 
                y: 450,
                info: 'ã€ç¾æœ‰æ¥­å‹™ã€‘æ—…è¡Œç¤¾ã€èƒ½æºã€å…¶ä»–æœå‹™æ¥­å‹™ï¼Œæ¶µè“‹æ”¯ä»˜ã€è¿½æº¯ã€ç´€éŒ„ç­‰é‡‘éŒ¢ç›¸é—œæ‡‰ç”¨',
                connections: ['stablecoin', 'blockchain'],
                applications: ['ã€ææ¡ˆã€‘ç©©å®šå¹£å°é¡æ”¯ä»˜', 'ã€ææ¡ˆã€‘äº¤æ˜“ç´€éŒ„ä¸Šéˆ', 'ã€ææ¡ˆã€‘ä¾›æ‡‰éˆè¿½æº¯', 'ã€ç¾æœ‰ã€‘æ—…è¡Œç¤¾åœ˜è²»ä»£æ”¶', 'ã€ç¾æœ‰ã€‘èƒ½æºæ¡è³¼'],
                metrics: { 'æ¥­å‹™é¡å‹': 'å¤šå…ƒåŒ–', 'äº¤æ˜“è¦æ¨¡': 'å°é¡', 'å„ªå…ˆç´š': 'ä½' },
                profitability: {
                    costSaving: 'äººåŠ›æˆæœ¬èˆ‡æµç¨‹æˆæœ¬ç•¥å¾®ä¸‹é™', 
                    newRevenue: 'ç„¡', 
                    totalBenefit: 'å¾®å°æ•ˆç›Š',
                    roi: 'ä½',
                    priority: 'low',
                    strategy: 'è¼”åŠ©æ¨é€²'
                },
                techRequirements: {
                    chainType: 'è¯ç›Ÿéˆ',
                    tps: '100-300',
                    sla: '99.5%',
                    latency: '<10ç§’',
                    specialNeeds: ['åŸºç¤å…§éƒ¨çµç®—', 'ç°¡åŒ–æµç¨‹'],
                    priority: 'å¯å»¶å¾Œå„ªåŒ–',
                    infrastructure: 'ç„¡é«˜å¼·åº¦éœ€æ±‚'
                }
            },
            
            // å³ä¸‹åˆä½œå¤¥ä¼´ - åˆä½œç™¼è¡Œå•†
            { 
                id: 'partner', 
                name: 'åˆä½œ\nç™¼è¡Œå•†', 
                type: 'partner', 
                x: 700, 
                y: 450,
                info: 'èˆ‡éŠ€è¡Œã€é‡‘èæ©Ÿæ§‹åˆä½œç¢ºä¿ç©©å®šå¹£çš„ä¿¡ä»»èˆ‡æµå‹•æ€§',
                connections: ['stablecoin', 'exchange', 'integration'],
                applications: ['åˆä½œç™¼è¡Œ', 'åˆä½œè¨­ç«‹'],
                metrics: { 'åˆä½œéŠ€è¡Œ': '7å®¶ä¸»è¦è¡Œåº«', 'å„²å‚™è³‡ç”¢': '110%', 'å¯©è¨ˆé »ç‡': 'æ¯å­£' }
            },
        ];
        
        // é€£æ¥ç·šæ•¸æ“š - æ ¹æ“šæ¶æ§‹åœ–èª¿æ•´
        const links = [
            // æ ¸å¿ƒæŠ€è¡“é€£æ¥
            { source: 'blockchain', target: 'stablecoin', type: 'core', strength: 3 },
            
            // ç©©å®šå¹£åˆ°å„æ¥­å‹™å–®ä½çš„æ”¯ä»˜é€£æ¥ - æŒ‰è³‡é‡‘æµé‡åˆ†ç´š
            { source: 'leisure', target: 'stablecoin', type: 'business', strength: 2, flowType: 'medium', style: 'solid', volume: '300å„„', frequency: 'medium' },
            { source: 'retail', target: 'stablecoin', type: 'business', strength: 5, flowType: 'high', style: 'solid', volume: '1,500å„„', frequency: 'high' }, // æœ€å¤§è³‡é‡‘æµ
            { source: 'crossborder', target: 'stablecoin', type: 'business', strength: 3, flowType: 'medium', style: 'solid', volume: '800å„„', frequency: 'medium' },
            { source: 'construction', target: 'stablecoin', type: 'business', strength: 4, flowType: 'high', style: 'dashed', volume: '120å„„', frequency: 'low' }, // å¤§é¡ä½†ä½é »
            { source: 'other_business', target: 'stablecoin', type: 'business', strength: 1, flowType: 'low', style: 'solid', volume: '50å„„', frequency: 'low' }, // å°é¡æ”¯ä»˜å ´æ™¯
            
            // å€å¡ŠéˆæŠ€è¡“æ”¯æ´ - è¿½æº¯ã€ç´€éŒ„ã€é©—è­‰
            { source: 'blockchain', target: 'food', type: 'tech', strength: 2 },
            { source: 'blockchain', target: 'construction', type: 'tech', strength: 2 }, // å»ºè¨­è³‡ç”¢ä¸Šéˆè¿½æº¯
            { source: 'blockchain', target: 'other_business', type: 'tech', strength: 1 }, // äº¤æ˜“ç´€éŒ„èˆ‡è¿½æº¯
            
            // å»ºè¨­æ¥­å‹™é€£æ¥ - è³‡ç”¢ä»£å¹£åŒ–
            { source: 'construction', target: 'rwa', type: 'finance', strength: 4, flowType: 'high', style: 'dashed', volume: '100å„„', frequency: 'low' }, // è³‡ç”¢ä»£å¹£åŒ–ï¼Œé•·æœŸé–å€‰
            
            // çµ±ä¸€è­‰èˆ‡åˆä½œç™¼è¡Œå•†
            { source: 'integration', target: 'partner', type: 'partner', strength: 2 },
            
            // é‡‘èæœå‹™é€£æ¥
            { source: 'integration', target: 'rwa', type: 'finance', strength: 2 },
            { source: 'integration', target: 'exchange', type: 'finance', strength: 2 },
            { source: 'rwa', target: 'exchange', type: 'finance', strength: 3 },
            { source: 'partner', target: 'exchange', type: 'partner', strength: 2 },
            
            // é•·å¹´åˆä½œé—œä¿‚
            { source: 'partner', target: 'stablecoin', type: 'partner', strength: 3 }
        ];
        
        // å…¨å±€è®Šé‡
        let svg, tooltip, container;
        let animationEnabled = true;
        let currentZoom = 1;
        let isDragging = false;
        let startX, startY;
        let translateX = 0, translateY = 0;
        
        // åˆå§‹åŒ–SVG
        function initSVG() {
            // ç²å–DOMå…ƒç´ 
            svg = document.getElementById('ecosystem-svg');
            tooltip = document.getElementById('tooltip');
            container = document.getElementById('ecosystem-container');
            
            
            if (!svg) {
                console.error('SVG element not found');
                return;
            }
            
            svg.innerHTML = '';
            
            // è¨­ç½®viewBox - èª¿æ•´ç‚ºæ›´ç·Šæ¹Šçš„è¦–åœ–
            svg.setAttribute('viewBox', '100 50 800 700');
            svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
            
            // å‰µå»ºä¸»è¦çµ„
            const mainGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            mainGroup.setAttribute('id', 'main-group');
            mainGroup.setAttribute('transform', `scale(${currentZoom})`);
            
            // æ·»åŠ å®šç¾©
            const defs = createDefs();
            svg.appendChild(defs);
            
            // æ·»åŠ èƒŒæ™¯ç¶²æ ¼
            const grid = createGrid();
            mainGroup.appendChild(grid);
            
            // ç¹ªè£½é€£æ¥ç·š
            const linksGroup = createLinks();
            mainGroup.appendChild(linksGroup);
            
            // ç¹ªè£½ç¯€é»
            const nodesGroup = createNodes();
            mainGroup.appendChild(nodesGroup);
            
            svg.appendChild(mainGroup);
            
            // æ·»åŠ æ‹–å‹•åŠŸèƒ½
            setupDragAndZoom();
        }
        
        // å‰µå»ºå®šç¾©å…ƒç´ 
        function createDefs() {
            const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            
            // ç¯€é»æ¼¸è®Š
            const gradients = [
                { id: 'coreGradient', colors: ['#FF6B6B', '#FF5252'] },
                { id: 'businessGradient', colors: ['#FF9F40', '#FF8A00'] },
                { id: 'financeGradient', colors: ['#4ECDC4', '#00BFA5'] },
                { id: 'partnerGradient', colors: ['#6C5CE7', '#5F3DC4'] }
            ];
            
            gradients.forEach(g => {
                const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'radialGradient');
                gradient.setAttribute('id', g.id);
                gradient.innerHTML = `
                    <stop offset="0%" style="stop-color:${g.colors[0]};stop-opacity:1" />
                    <stop offset="100%" style="stop-color:${g.colors[1]};stop-opacity:1" />
                `;
                defs.appendChild(gradient);
            });
            
            // é™°å½±æ¿¾é¡
            const filter = document.createElementNS('http://www.w3.org/2000/svg', 'filter');
            filter.setAttribute('id', 'shadow');
            filter.setAttribute('x', '-50%');
            filter.setAttribute('y', '-50%');
            filter.setAttribute('width', '200%');
            filter.setAttribute('height', '200%');
            filter.innerHTML = `
                <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
                <feOffset dx="0" dy="2" result="offsetblur"/>
                <feComponentTransfer>
                    <feFuncA type="linear" slope="0.3"/>
                </feComponentTransfer>
                <feMerge>
                    <feMergeNode/>
                    <feMergeNode in="SourceGraphic"/>
                </feMerge>
            `;
            defs.appendChild(filter);
            
            // ç®­é ­æ¨™è¨˜
            const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
            arrow.setAttribute('id', 'arrowhead');
            arrow.setAttribute('markerWidth', '10');
            arrow.setAttribute('markerHeight', '7');
            arrow.setAttribute('refX', '9');
            arrow.setAttribute('refY', '3.5');
            arrow.setAttribute('orient', 'auto');
            arrow.innerHTML = '<polygon points="0 0, 10 3.5, 0 7" fill="#999" />';
            defs.appendChild(arrow);
            
            return defs;
        }
        
        // å‰µå»ºèƒŒæ™¯ç¶²æ ¼
        function createGrid() {
            const grid = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            grid.setAttribute('id', 'grid');
            grid.setAttribute('opacity', '0.1');
            
            // å‚ç›´ç·š
            for (let x = 100; x <= 900; x += 50) {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', x);
                line.setAttribute('y1', 50);
                line.setAttribute('x2', x);
                line.setAttribute('y2', 650);
                line.setAttribute('stroke', '#999');
                line.setAttribute('stroke-width', x % 100 === 0 ? '1' : '0.5');
                grid.appendChild(line);
            }
            
            // æ°´å¹³ç·š
            for (let y = 50; y <= 650; y += 50) {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', 100);
                line.setAttribute('y1', y);
                line.setAttribute('x2', 900);
                line.setAttribute('y2', y);
                line.setAttribute('stroke', '#999');
                line.setAttribute('stroke-width', y % 100 === 0 ? '1' : '0.5');
                grid.appendChild(line);
            }
            
            return grid;
        }
        
        // å‰µå»ºé€£æ¥ç·š
        function createLinks() {
            const linksGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            linksGroup.setAttribute('id', 'links');
            
            links.forEach((link, index) => {
                const sourceNode = nodes.find(n => n.id === link.source);
                const targetNode = nodes.find(n => n.id === link.target);
                
                if (!sourceNode || !targetNode) return;
                
                // è¨ˆç®—æ›²ç·šè·¯å¾‘
                const dx = targetNode.x - sourceNode.x;
                const dy = targetNode.y - sourceNode.y;
                const dr = Math.sqrt(dx * dx + dy * dy);
                
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                const d = `M ${sourceNode.x},${sourceNode.y} Q ${(sourceNode.x + targetNode.x) / 2},${(sourceNode.y + targetNode.y) / 2 - dr / 4} ${targetNode.x},${targetNode.y}`;
                
                path.setAttribute('d', d);
                path.setAttribute('fill', 'none');
                path.setAttribute('stroke', getLineColor(link.type));
                
                // æ ¹æ“šè³‡é‡‘æµé‡è¨­å®šç·šæ¢ç²—ç´°
                const strokeWidth = link.strength ? link.strength * 1.5 : 2;
                path.setAttribute('stroke-width', strokeWidth);
                
                // æ ¹æ“šæµå‹•é¡å‹è¨­å®šç·šæ¢æ¨£å¼
                if (link.style === 'dashed') {
                    path.setAttribute('stroke-dasharray', '8,4'); // é•·æœŸæ²‰æ¾±/é–å€‰
                } else {
                    path.setAttribute('stroke-dasharray', '0'); // å¯¦ç·šï¼šé«˜é »æ”¯ä»˜
                }
                
                path.setAttribute('opacity', '0.7');
                path.setAttribute('class', `link link-${link.type} flow-${link.flowType || 'normal'}`);
                path.setAttribute('data-source', link.source);
                path.setAttribute('data-target', link.target);
                path.setAttribute('data-volume', link.volume || '');
                path.setAttribute('data-frequency', link.frequency || '');
                
                // é›™å‘ç®­é ­æ¨™è¨˜
                if (link.type === 'business' || link.type === 'finance') {
                    path.setAttribute('marker-end', 'url(#arrowhead)');
                }
                
                // æ·»åŠ å‹•ç•«
                if (animationEnabled && link.type === 'flow') {
                    const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
                    animate.setAttribute('attributeName', 'stroke-dashoffset');
                    animate.setAttribute('from', '0');
                    animate.setAttribute('to', '10');
                    animate.setAttribute('dur', '2s');
                    animate.setAttribute('repeatCount', 'indefinite');
                    path.appendChild(animate);
                }
                
                // æ·»åŠ æ‡¸åœæ•ˆæœ
                path.addEventListener('mouseenter', () => {
                    path.setAttribute('stroke-width', (link.strength || 2) + 2);
                    path.setAttribute('opacity', '1');
                });
                
                path.addEventListener('mouseleave', () => {
                    path.setAttribute('stroke-width', link.strength || 2);
                    path.setAttribute('opacity', '0.6');
                });
                
                linksGroup.appendChild(path);
            });
            
            return linksGroup;
        }
        
        // å‰µå»ºç¯€é»
        function createNodes() {
            const nodesGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            nodesGroup.setAttribute('id', 'nodes');
            
            nodes.forEach((node, index) => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                g.setAttribute('class', `node node-${node.type}`);
                g.setAttribute('transform', `translate(${node.x}, ${node.y})`);
                g.setAttribute('data-id', node.id);
                g.style.cursor = 'pointer';
                
                // å¤–åœˆå…‰æšˆ
                if (node.type === 'core') {
                    const halo = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    halo.setAttribute('r', '70');
                    halo.setAttribute('fill', 'none');
                    halo.setAttribute('stroke', getNodeColor(node.type));
                    halo.setAttribute('stroke-width', '2');
                    halo.setAttribute('opacity', '0.3');
                    
                    if (animationEnabled) {
                        const animateRadius = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
                        animateRadius.setAttribute('attributeName', 'r');
                        animateRadius.setAttribute('values', '70;80;70');
                        animateRadius.setAttribute('dur', '3s');
                        animateRadius.setAttribute('repeatCount', 'indefinite');
                        halo.appendChild(animateRadius);
                        
                        const animateOpacity = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
                        animateOpacity.setAttribute('attributeName', 'opacity');
                        animateOpacity.setAttribute('values', '0.3;0.1;0.3');
                        animateOpacity.setAttribute('dur', '3s');
                        animateOpacity.setAttribute('repeatCount', 'indefinite');
                        halo.appendChild(animateOpacity);
                    }
                    
                    g.appendChild(halo);
                }
                
                // ç¯€é»åœ“åœˆ
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                const radius = node.type === 'core' ? 55 : 45;
                circle.setAttribute('r', radius);
                circle.setAttribute('fill', `url(#${node.type}Gradient)`);
                circle.setAttribute('filter', 'url(#shadow)');
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '3');
                
                // ç¯€é»åœ–æ¨™èƒŒæ™¯
                const iconBg = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                iconBg.setAttribute('r', radius - 15);
                iconBg.setAttribute('fill', 'rgba(255,255,255,0.2)');
                
                // ç¯€é»æ–‡å­—
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('dy', '5');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', node.type === 'core' ? '16' : '14');
                text.setAttribute('font-weight', 'bold');
                text.style.pointerEvents = 'none';
                
                // è™•ç†è¼ƒé•·çš„æ–‡å­—
                if (node.name.length > 5) {
                    const words = node.name.split(/(?=[A-Z])|(?=[\u4e00-\u9fa5]{3})/);
                    text.innerHTML = '';
                    words.forEach((word, i) => {
                        const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
                        tspan.textContent = word;
                        tspan.setAttribute('x', '0');
                        tspan.setAttribute('dy', i === 0 ? '-5' : '18');
                        text.appendChild(tspan);
                    });
                } else {
                    text.textContent = node.name;
                }
                
                // æ·»åŠ äº¤äº’æ•ˆæœ
                g.addEventListener('mouseenter', (e) => {
                    circle.setAttribute('filter', 'url(#glow)');
                    circle.setAttribute('r', radius + 5);
                    showTooltip(e, node);
                });
                
                g.addEventListener('mouseleave', () => {
                    circle.setAttribute('filter', 'url(#shadow)');
                    circle.setAttribute('r', radius);
                    hideTooltip();
                });
                
                g.addEventListener('click', () => {
                    showDetailedInfo(node);
                    highlightConnections(node.id);
                });
                
                // æ·»åŠ å¹´åº¦äº¤æ˜“é¡æ¨™è¨»ï¼ˆå³ä¸‹è§’ï¼‰
                if (node.annualVolume) {
                    const volumeTag = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                    volumeTag.setAttribute('transform', `translate(${radius - 10}, ${radius - 10})`);
                    
                    const tagBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    tagBg.setAttribute('x', '-20');
                    tagBg.setAttribute('y', '-8');
                    tagBg.setAttribute('width', '40');
                    tagBg.setAttribute('height', '16');
                    tagBg.setAttribute('rx', '8');
                    tagBg.setAttribute('fill', '#2c3e50');
                    tagBg.setAttribute('opacity', '0.8');
                    
                    const tagText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    tagText.setAttribute('text-anchor', 'middle');
                    tagText.setAttribute('dy', '3');
                    tagText.setAttribute('fill', 'white');
                    tagText.setAttribute('font-size', '10');
                    tagText.textContent = node.annualVolume;
                    
                    volumeTag.appendChild(tagBg);
                    volumeTag.appendChild(tagText);
                    g.appendChild(volumeTag);
                }
                
                // æ·»åŠ æ²‰æ¾±ç‡è‰²å¡Šæ¨™ç¤ºï¼ˆå·¦ä¸Šè§’ï¼‰
                if (node.settlementRate) {
                    const rateIndicator = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    rateIndicator.setAttribute('cx', -radius + 15);
                    rateIndicator.setAttribute('cy', -radius + 15);
                    rateIndicator.setAttribute('r', '8');
                    
                    // æ ¹æ“šå‘¨è½‰ç‡è¨­å®šé¡è‰²
                    const rateColor = node.settlementRate === 'high' ? '#2ECC71' : 
                                     node.settlementRate === 'medium' ? '#F39C12' : '#E74C3C';
                    rateIndicator.setAttribute('fill', rateColor);
                    rateIndicator.setAttribute('stroke', 'white');
                    rateIndicator.setAttribute('stroke-width', '2');
                    
                    g.appendChild(rateIndicator);
                }
                
                g.appendChild(circle);
                g.appendChild(iconBg);
                g.appendChild(text);
                nodesGroup.appendChild(g);
            });
            
            return nodesGroup;
        }
        
        // ç²å–ç¯€é»é¡è‰²
        function getNodeColor(type) {
            const colors = {
                'core': '#FF6B6B',
                'business': '#FF9F40',
                'finance': '#4ECDC4',
                'partner': '#6C5CE7'
            };
            return colors[type] || '#95A5A6';
        }
        
        // ç²å–é‡‘èæœå‹™æµç¨‹ç¯€é»é¡è‰²
        function getFinanceServiceNodeColor(type) {
            const colors = {
                'settlement': '#FF9F40',    // æ©˜è‰² - åŸºç¤æ”¯ä»˜å±¤
                'core': '#FF6B6B',          // ç´…è‰² - ç©©å®šå¹£æ ¸å¿ƒ
                'finance': '#4ECDC4',       // è—è‰² - é‡‘èå¢å€¼å±¤
                'assets': '#4ECDC4',        // è—è‰² - é‡‘èå¢å€¼å±¤
                'crossborder': '#4ECDC4',   // è—è‰² - é‡‘èå¢å€¼å±¤
                'exchange': '#6C5CE7',      // ç´«è‰² - åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤
                'banking': '#6C5CE7',       // ç´«è‰² - åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤
                'compliance': '#9B59B6'     // ç´«è‰² - ç›£ç®¡åˆè¦å±¤
            };
            return colors[type] || '#95A5A6';
        }
        
        // ç²å–é€£ç·šé¡è‰²
        function getLineColor(type) {
            const colors = {
                'core': '#E74C3C',
                'business': '#F39C12',
                'flow': '#95A5A6',
                'finance': '#3498DB',
                'partner': '#9B59B6',
                'tech': '#2ECC71'
            };
            return colors[type] || '#BDC3C7';
        }
        
        // é¡¯ç¤ºæç¤ºæ¡†
        function showTooltip(e, node) {
            tooltip.innerHTML = `
                <strong>${node.name}</strong><br>
                ${node.info}
            `;
            tooltip.style.opacity = '1';
            updateTooltipPosition(e);
        }
        
        // éš±è—æç¤ºæ¡†
        function hideTooltip() {
            tooltip.style.opacity = '0';
        }
        
        // æ›´æ–°æç¤ºæ¡†ä½ç½®
        function updateTooltipPosition(e) {
            const rect = container.getBoundingClientRect();
            const x = e.clientX - rect.left + 10;
            const y = e.clientY - rect.top - 40;
            tooltip.style.left = x + 'px';
            tooltip.style.top = y + 'px';
        }
        
        // é¡¯ç¤ºè©³ç´°ä¿¡æ¯
        function showDetailedInfo(node) {
            const panel = document.getElementById('info-panel');
            const overlay = document.getElementById('info-panel-overlay');
            const icon = document.getElementById('info-icon');
            const title = document.getElementById('info-title');
            const description = document.getElementById('info-description');
            const connections = document.getElementById('info-connections');
            const applications = document.getElementById('info-applications');
            const metrics = document.getElementById('info-metrics');
            
            // è¨­ç½®åœ–æ¨™é¡è‰²
            icon.style.background = getNodeColor(node.type);
            icon.innerHTML = getNodeIcon(node.type);
            
            // è¨­ç½®åŸºæœ¬ä¿¡æ¯
            title.textContent = node.name;
            description.textContent = node.info;
            
            // è¨­ç½®é€£æ¥é—œä¿‚
            connections.innerHTML = '<h4>ğŸ”— é€£æ¥é—œä¿‚</h4><ul>' + 
                node.connections.map(conn => {
                    const connNode = nodes.find(n => n.id === conn);
                    return `<li>${connNode ? connNode.name : conn}</li>`;
                }).join('') + 
                '</ul>';
            
            // è¨­ç½®æ‡‰ç”¨å ´æ™¯
            applications.innerHTML = '<h4>ğŸ’¡ æ‡‰ç”¨å ´æ™¯</h4><ul>' + 
                node.applications.map(app => `<li>${app}</li>`).join('') + 
                '</ul>';
            
            // è¨­ç½®é—œéµæŒ‡æ¨™
            metrics.innerHTML = '<h4>ğŸ“Š é—œéµæŒ‡æ¨™</h4>' + Object.entries(node.metrics)
                .map(([key, value]) => `<p><strong>${key}:</strong> ${value}</p>`)
                .join('');
            
            overlay.style.display = 'block';
            panel.style.display = 'block';
        }
        
        // éš±è—è³‡è¨Šé¢æ¿
        function hideInfoPanel() {
            const panel = document.getElementById('info-panel');
            const overlay = document.getElementById('info-panel-overlay');
            panel.style.display = 'none';
            overlay.style.display = 'none';
        }
        
        // é¡¯ç¤ºæµç¨‹èªªæ˜
        function showFlowDescription(flow, flowType) {
            const controls = document.querySelector('.controls');
            const legend = document.querySelector('.legend');
            const flowDesc = document.getElementById('flow-description');
            const flowTitle = document.getElementById('flow-title');
            const flowDescText = document.getElementById('flow-desc');
            const flowSteps = document.getElementById('flow-steps');
            const flowBenefits = document.getElementById('flow-benefits');
            const flowNodes = document.getElementById('flow-nodes');
            const flowMetrics = document.getElementById('flow-metrics');
            
            // éš±è—æ§åˆ¶é …å’Œåœ–ä¾‹ï¼Œé¡¯ç¤ºæµç¨‹èªªæ˜
            controls.style.display = 'none';
            legend.style.display = 'none';
            flowDesc.style.display = 'block';
            flowDesc.style.borderLeftColor = flow.color;
            
            // è¨­ç½®æ¨™é¡Œå’Œæè¿°
            flowTitle.textContent = flow.title;
            flowTitle.style.color = flow.color;
            flowDescText.textContent = flow.description;
            
            // è¨­ç½®æµç¨‹æ­¥é©Ÿ
            flowSteps.innerHTML = '<h4>ğŸ”„ æµç¨‹æ­¥é©Ÿ</h4><ul>' + 
                flow.steps.map(step => `<li>${step}</li>`).join('') + 
                '</ul>';
            
            // è¨­ç½®ä¸»è¦æ•ˆç›Š
            flowBenefits.innerHTML = '<h4>âœ¨ ä¸»è¦æ•ˆç›Š</h4><ul>' + 
                flow.benefits.map(benefit => `<li>${benefit}</li>`).join('') + 
                '</ul>';
            
            // è¨­ç½®ç›¸é—œç¯€é»è·¯å¾‘
            flowNodes.innerHTML = '<h4>ğŸ¯ æµç¨‹è·¯å¾‘</h4><div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border: 2px dashed ' + flow.color + ';">' + 
                flow.nodes.map((nodeId, index) => {
                    const node = nodes.find(n => n.id === nodeId);
                    const isLast = index === flow.nodes.length - 1;
                    return `<span style="background: ${flow.color}; color: white; padding: 8px 12px; border-radius: 20px; font-weight: bold; margin: 5px;">${node ? node.name : nodeId}</span>${isLast ? '' : ' <span style="color: ' + flow.color + '; font-size: 1.2em;">â†’</span> '}`;
                }).join('') + 
                '</div>';
                
            // æ·»åŠ é—œéµæ•¸æ“šæŒ‡æ¨™
            const keyMetrics = getFlowMetrics(flowType);
            if (keyMetrics.length > 0) {
                flowMetrics.innerHTML = '<h4>ğŸ“Š é—œéµæŒ‡æ¨™</h4>' + 
                    keyMetrics.map(metric => `<div style="background: white; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid ${flow.color};"><strong style="color: ${flow.color};">${metric.label}:</strong> <span style="font-size: 1.1em; font-weight: bold;">${metric.value}</span></div>`).join('');
            }
        }
        
        // ç²å–æµç¨‹é—œéµæŒ‡æ¨™
        function getFlowMetrics(flowType) {
            const metrics = {
                'retail': [
                    { label: 'æˆæœ¬ç¯€çœ', value: '1.5-3%æ‰‹çºŒè²»' },
                    { label: 'äº¤æ˜“é€Ÿåº¦', value: '3ç§’çµå¸³' },
                    { label: 'è¦†è“‹é–€å¸‚', value: '7,110' },
                    { label: 'æ—¥äº¤æ˜“é‡', value: '1,000è¬ç­†(æ¨ä¼°)' }
                ],
                'supply': [
                    { label: 'ä¾›æ‡‰å•†æ•¸é‡', value: '200+å®¶' },
                    { label: 'å¹´äº¤æ˜“é¡', value: '600å„„' },
                    { label: 'å†·éˆç¯€é»', value: '1000+å€‹' },
                    { label: 'è¿½æº¯è¦†è“‹ç‡', value: '100%' },
                    { label: 'çµç®—æ•ˆç‡æå‡', value: 'å³æ™‚' },
                    { label: 'å¹´æˆæœ¬ç¯€çœ', value: '10-30å„„' }
                ],
                'finance': [
                    { label: 'æ¥­å‹™æ¿å¡Š', value: '8+' },
                    { label: 'å¹´è³‡é‡‘æµ', value: '1000å„„+' },
                    { label: 'è³‡ç”¢ä»£å¹£åŒ–', value: 'RWAå¹³å°' },
                    { label: 'æ”¯ä»˜æ•ˆç‡æå‡', value: '50%' }
                ],
                'cross': [
                    { label: 'äº¤æ˜“åœ‹å®¶', value: '4+åœ‹' },
                    { label: 'å¹´è²¿æ˜“é¡', value: '800å„„(æ¨ä¼°)' },
                    { label: 'åŒ¯å…Œæˆæœ¬ç¯€çœ', value: '2-5%' },
                    { label: 'çµç®—é€Ÿåº¦', value: 'å³æ™‚' },
                    { label: 'åˆè¦æ¡†æ¶', value: 'DID/Travel Rule' },
                    { label: 'é¢¨éšªæ§åˆ¶', value: 'å¤šå±¤ç´š' }
                ]
            };
            
            return metrics[flowType] || [];
        }
        
        // é¡¯ç¤ºæµç¨‹è©³æƒ…é é¢
        function showFlowDetailPage(flow, flowType) {
            // éš±è—ä¸»é é¢ï¼Œé¡¯ç¤ºè©³æƒ…é é¢
            document.getElementById('main-dashboard').style.display = 'none';
            document.getElementById('flow-detail-page').style.display = 'block';
            
            // è¨­ç½®æ¨™é¡Œå’Œæè¿°
            document.getElementById('detail-title').textContent = flow.title;
            document.getElementById('detail-subtitle').textContent = flow.description;
            document.getElementById('detail-description').textContent = flow.description;
            
            // è¨­ç½®è©³æƒ…é é¢çš„ä¸»é¡Œè‰²
            const detailPage = document.getElementById('flow-detail-page');
            const detailCards = detailPage.querySelectorAll('.detail-card');
            detailCards.forEach(card => {
                card.style.borderLeftColor = flow.color;
            });
            
            // è¨­ç½®æµç¨‹æ­¥é©Ÿ
            const stepsHtml = flow.steps.map((step, index) => 
                `<div style="display: flex; align-items: flex-start; margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid ${flow.color};">
                    <div style="background: ${flow.color}; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; flex-shrink: 0;">${index + 1}</div>
                    <div style="flex: 1; font-size: 1.05em; line-height: 1.6;">${step}</div>
                </div>`
            ).join('');
            document.getElementById('detail-steps').innerHTML = stepsHtml;
            
            // è¨­ç½®æ ¸å¿ƒæ•ˆç›Š
            const benefitsHtml = `<ul style="list-style: none; padding: 0;">` +
                flow.benefits.map(benefit => 
                    `<li style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid ${flow.color}; position: relative;">
                        <span style="color: ${flow.color}; font-size: 1.2em; margin-right: 10px;">âœ¨</span>${benefit}
                    </li>`
                ).join('') + `</ul>`;
            document.getElementById('detail-benefits').innerHTML = benefitsHtml;
            
            // è¨­ç½®KPIæŒ‡æ¨™
            let keyMetrics = getFlowMetrics(flowType);
            // å¦‚æœæœ‰keyMetricså±¬æ€§ï¼Œä½¿ç”¨flowä¸­çš„æ•¸æ“š
            if (flow.keyMetrics) {
                keyMetrics = flow.keyMetrics.map(metric => ({
                    label: metric.label,
                    value: `${metric.value}${metric.unit}`
                }));
            }
            
            const kpiHtml = keyMetrics.map(metric => 
                `<div class="kpi-item" style="border-left-color: ${flow.color};">
                    <div class="kpi-value" style="color: ${flow.color};">${metric.value}</div>
                    <div class="kpi-label">${metric.label}</div>
                </div>`
            ).join('');
            document.getElementById('detail-kpi').innerHTML = kpiHtml;
            
            // è¨­ç½®æµç¨‹è·¯å¾‘
            const pathHtml = `<div style="display: flex; flex-direction: column; gap: 15px; align-items: center;">` +
                flow.nodes.map((nodeId, index) => {
                    const node = nodes.find(n => n.id === nodeId);
                    const isLast = index === flow.nodes.length - 1;
                    return `
                        <div style="text-align: center;">
                            <div style="background: ${flow.color}; color: white; padding: 12px 20px; border-radius: 25px; font-weight: bold; margin-bottom: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                                ${node ? node.name : nodeId}
                            </div>
                            ${!isLast ? `<div style="color: ${flow.color}; font-size: 1.5em; margin: 10px 0;">â†“</div>` : ''}
                        </div>
                    `;
                }).join('') + `</div>`;
            document.getElementById('detail-path').innerHTML = pathHtml;
            
            // è¨­ç½®ç›¸é—œç¯€é»
            let nodesHtml = '';
            if (flow.relatedNodes) {
                nodesHtml = flow.relatedNodes.map(category => `
                    <div class="related-category" style="margin-bottom: 20px;">
                        <h4 style="color: ${flow.color}; font-size: 14px; margin-bottom: 10px; border-bottom: 2px solid ${flow.color}; padding-bottom: 5px;">
                            ${category.category}
                        </h4>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            ${category.nodes.map(node => `
                                <div class="related-node-item" style="border-left: 3px solid ${flow.color}; background: #f8f9fa; padding: 10px; border-radius: 8px;">
                                    <div class="related-node-name" style="color: ${flow.color}; font-weight: bold; margin-bottom: 5px;">
                                        ${node.icon} ${node.name}
                                    </div>
                                    <div class="related-node-desc" style="font-size: 12px; color: #666; line-height: 1.4;">
                                        ${node.role}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `).join('');
            } else {
                // å¦‚æœæ²’æœ‰ç›¸é—œç¯€é»è³‡è¨Šï¼Œå‰‡é¡¯ç¤ºæµç¨‹ç¯€é»
                nodesHtml = flow.nodes.map(nodeId => {
                    const node = nodes.find(n => n.id === nodeId);
                    if (!node) return '';
                    return `
                        <div class="related-node-item" style="border-left-color: ${flow.color};">
                            <div class="related-node-name" style="color: ${flow.color};">${node.name}</div>
                            <div class="related-node-desc">${node.info}</div>
                        </div>
                    `;
                }).join('');
            }
            document.getElementById('detail-nodes').innerHTML = nodesHtml;
            
            // å‰µå»ºè¿·ä½ ç”Ÿæ…‹åœ–
            createMiniEcosystem(flow);
        }
        
        // é‡æ–°åˆ†ä½ˆç¯€é»åˆ°4åˆ—ç¶²æ ¼æ’åˆ—
        function repositionMiniEcosystem(nodes) {
            return nodes.map((node, index) => ({
                ...node,
                x: 200 + (index % 4) * 320, 
                y: 150 + Math.floor(index / 4) * 240
            }));
        }

        // è‡ªå‹•è¨ˆç®—ä¸¦è¨­ç½® mini-ecosystem çš„ viewBox
        function setMiniViewBox(miniNodes) {
            const maxX = Math.max(...miniNodes.map(n => n.x));
            const maxY = Math.max(...miniNodes.map(n => n.y));
            const svg = document.getElementById('mini-ecosystem-svg');
            svg.setAttribute('viewBox', `0 0 ${maxX + 400} ${maxY + 300}`);
            svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
        }

        // å‰µå»ºè¿·ä½ ç”Ÿæ…‹åœ–
        function createMiniEcosystem(flow) {
            const miniSvg = document.getElementById('mini-ecosystem-svg');
            miniSvg.innerHTML = '';
            
            // å¦‚æœæœ‰è©³ç´°ç¯€é»çµæ§‹ï¼Œé‡æ–°åˆ†ä½ˆç¯€é»ä¸¦ä½¿ç”¨å°æ‡‰çš„è©³ç´°ç¹ªè£½å‡½æ•¸
            if (flow.detailedNodes) {
                // é‡æ–°åˆ†ä½ˆè©³ç´°ç¯€é»
                const repositionedDetailedNodes = repositionMiniEcosystem(flow.detailedNodes);
                const modifiedFlow = { ...flow, detailedNodes: repositionedDetailedNodes };
                
                // è‡ªå‹•è¨­ç½® viewBox
                setMiniViewBox(repositionedDetailedNodes);
                
                if (flow.title.includes('é£Ÿå“ä¾›æ‡‰éˆ')) {
                    createDetailedSupplyChainSvg(miniSvg, modifiedFlow);
                } else if (flow.title.includes('é›¶å”®æ”¯ä»˜')) {
                    createDetailedRetailPaymentSvg(miniSvg, modifiedFlow);
                } else if (flow.title.includes('è·¨å¢ƒäº¤æ˜“')) {
                    createDetailedCrossBorderSvg(miniSvg, modifiedFlow);
                } else if (flow.title.includes('é‡‘èæœå‹™')) {
                    createDetailedFinanceServiceSvg(miniSvg, modifiedFlow);
                } else {
                    createDetailedSupplyChainSvg(miniSvg, modifiedFlow); // é»˜èªä½¿ç”¨ä¾›æ‡‰éˆç¹ªè£½æ–¹å¼
                }
            } else {
                // ä½¿ç”¨æ–°çš„é‡æ–°åˆ†ä½ˆç¯€é»é¡¯ç¤º
                const relatedNodes = nodes.filter(n => flow.nodes.includes(n.id));
                
                // é‡æ–°åˆ†ä½ˆç¯€é»åº§æ¨™
                const repositionedNodes = repositionMiniEcosystem(relatedNodes);
                
                // è‡ªå‹•è¨­ç½® viewBox
                setMiniViewBox(repositionedNodes);
                
                repositionedNodes.forEach((node, index) => {
                    // å‰µå»ºç¯€é»çµ„
                    const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                    g.setAttribute('transform', `translate(${node.x}, ${node.y})`);
                    
                    // ç¯€é»åœ“åœˆ
                    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    circle.setAttribute('r', '50');
                    circle.setAttribute('fill', flow.color);
                    circle.setAttribute('stroke', '#fff');
                    circle.setAttribute('stroke-width', '4');
                    circle.setAttribute('filter', 'drop-shadow(2px 2px 4px rgba(0,0,0,0.3))');
                    
                    // ç¯€é»æ–‡å­—
                    const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    text.setAttribute('text-anchor', 'middle');
                    text.setAttribute('dy', '6');
                    text.setAttribute('fill', '#fff');
                    text.setAttribute('font-size', '14');
                    text.setAttribute('font-weight', 'bold');
                    text.textContent = node.name;
                    
                    // ç¯€é»æ¨™ç±¤
                    const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    label.setAttribute('text-anchor', 'middle');
                    label.setAttribute('dy', '80');
                    label.setAttribute('fill', '#333');
                    label.setAttribute('font-size', '17');
                    label.setAttribute('font-weight', 'bold');
                    label.textContent = node.name;
                    
                    g.appendChild(circle);
                    g.appendChild(text);
                    g.appendChild(label);
                    miniSvg.appendChild(g);
                });
                
                // å…ˆæ·»åŠ é€£æ¥ç·šåˆ°åº•å±¤ï¼Œç„¶å¾Œé‡æ–°æ·»åŠ æ‰€æœ‰ç¯€é»åˆ°ä¸Šå±¤
                for (let i = 0; i < repositionedNodes.length - 1; i++) {
                    const currentNode = repositionedNodes[i];
                    const nextNode = repositionedNodes[i + 1];
                    
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const { startX, startY, endX, endY } = getEdgePosition(currentNode, nextNode, 55);
                    line.setAttribute('x1', startX);
                    line.setAttribute('y1', startY);
                    line.setAttribute('x2', endX);
                    line.setAttribute('y2', endY);
                    line.setAttribute('stroke', flow.color);
                    line.setAttribute('stroke-width', '3');
                    line.setAttribute('stroke-dasharray', '8,4');
                    line.setAttribute('opacity', '0.7');
                    line.setAttribute('marker-end', 'url(#mini-arrow)');
                    line.setAttribute('filter', 'drop-shadow(1px 1px 2px rgba(0,0,0,0.1))');
                    // å°‡é€£æ¥ç·šæ’å…¥åˆ°ç¬¬ä¸€å€‹ä½ç½®ï¼ˆåº•å±¤ï¼‰
                    miniSvg.insertBefore(line, miniSvg.firstChild);
                }
            }
            
            // æ·»åŠ ç®­é ­æ¨™è¨˜
            const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
            marker.setAttribute('id', 'mini-arrow');
            marker.setAttribute('markerWidth', '10');
            marker.setAttribute('markerHeight', '7');
            marker.setAttribute('refX', '9');
            marker.setAttribute('refY', '3.5');
            marker.setAttribute('orient', 'auto');
            marker.innerHTML = `<polygon points="0 0, 10 3.5, 0 7" fill="${flow.color}" />`;
            defs.appendChild(marker);
            miniSvg.insertBefore(defs, miniSvg.firstChild);
        }

        // å‰µå»ºè©³ç´°ä¾›æ‡‰éˆSVGåœ–
        function createDetailedSupplyChainSvg(svg, flow) {
            const mainNodes = flow.detailedNodes.filter(n => ['source', 'process', 'storage', 'logistics', 'retail'].includes(n.type));
            const supportNodes = flow.detailedNodes.filter(n => ['tech', 'finance'].includes(n.type));
            
            // å…ˆç¹ªè£½æ‰€æœ‰é€£æ¥ç·šï¼ˆæ”¾åœ¨æœ€åº•å±¤ï¼‰
            // 1. ä¸»è¦ä¾›æ‡‰éˆæµç¨‹é€£æ¥ç·š
            for (let i = 0; i < mainNodes.length - 1; i++) {
                const node = mainNodes[i];
                const nextNode = mainNodes[i + 1];
                
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                const { startX, startY, endX, endY } = getEdgePosition(node, nextNode, 80);
                line.setAttribute('x1', startX);
                line.setAttribute('y1', startY);
                line.setAttribute('x2', endX);
                line.setAttribute('y2', endY);
                line.setAttribute('stroke', '#4ECDC4');
                line.setAttribute('stroke-width', '3');
                line.setAttribute('marker-end', 'url(#mini-arrow)');
                svg.appendChild(line);
            }
            
            // 2. æ”¯æ’ç¯€é»é€£æ¥ç·š
            supportNodes.forEach(node => {
                mainNodes.forEach(mainNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const supportSource = { x: node.x, y: node.type === 'tech' ? node.y + 44 : node.y - 44 };
                    const supportTarget = { x: mainNode.x, y: node.type === 'tech' ? mainNode.y - 80 : mainNode.y + 80 };
                    const { startX: supportStartX, startY: supportStartY, endX: supportEndX, endY: supportEndY } = getEdgePosition(supportSource, supportTarget, node.type === 'tech' ? 90 : 80);
                    line.setAttribute('x1', supportStartX);
                    line.setAttribute('y1', supportStartY);
                    line.setAttribute('x2', supportEndX);
                    line.setAttribute('y2', supportEndY);
                    line.setAttribute('stroke', node.type === 'tech' ? '#3498DB' : '#E67E22');
                    line.setAttribute('stroke-width', '2');
                    line.setAttribute('stroke-dasharray', '6,3');
                    line.setAttribute('opacity', '0.7');
                    svg.appendChild(line);
                });
            });
            
            // ç„¶å¾Œç¹ªè£½ä¸»è¦ä¾›æ‡‰éˆæµç¨‹ç¯€é»ï¼ˆæ”¾åœ¨ä¸Šå±¤ï¼‰
            mainNodes.forEach((node, index) => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // ä¸»ä¾›æ‡‰éˆç¯€é»ï¼ˆåœ“å½¢ï¼‰
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', node.x);
                circle.setAttribute('cy', node.y);
                circle.setAttribute('r', '80');
                circle.setAttribute('fill', getSupplyChainNodeColor(node.type));
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '4');
                circle.setAttribute('filter', 'drop-shadow(3px 3px 8px rgba(0,0,0,0.2))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '22');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æ•¸æ“šæ¨™ç±¤ï¼ˆä¸Šæ–¹ï¼‰
                const dataLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dataLabel.setAttribute('x', node.x);
                dataLabel.setAttribute('y', node.y - 95);
                dataLabel.setAttribute('text-anchor', 'middle');
                dataLabel.setAttribute('fill', '#333');
                dataLabel.setAttribute('font-size', '16');
                dataLabel.setAttribute('font-weight', 'bold');
                dataLabel.textContent = node.data;
                
                // è³‡è¨Šæµæ¨™ç±¤ï¼ˆä¸‹æ–¹ï¼‰
                const infoLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                infoLabel.setAttribute('x', node.x);
                infoLabel.setAttribute('y', node.y + 100);
                infoLabel.setAttribute('text-anchor', 'middle');
                infoLabel.setAttribute('fill', '#2E8B57');
                infoLabel.setAttribute('font-size', '15');
                infoLabel.setAttribute('font-weight', 'bold');
                infoLabel.textContent = node.infoFlow;
                
                // è³‡é‡‘æµæ¨™ç±¤ï¼ˆæœ€ä¸‹æ–¹ï¼‰
                const cashLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                cashLabel.setAttribute('x', node.x);
                cashLabel.setAttribute('y', node.y + 120);
                cashLabel.setAttribute('text-anchor', 'middle');
                cashLabel.setAttribute('fill', '#E74C3C');
                cashLabel.setAttribute('font-size', '14');
                cashLabel.textContent = node.cashFlow;
                
                g.appendChild(circle);
                g.appendChild(text);
                g.appendChild(dataLabel);
                g.appendChild(infoLabel);
                g.appendChild(cashLabel);
                svg.appendChild(g);
            });
            
            // ç¹ªè£½æ”¯æ’åŸºç¤è¨­æ–½ï¼ˆä¸Šä¸‹æ–¹å‘ï¼‰
            supportNodes.forEach(node => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // æ”¯æ’ç¯€é»ï¼ˆæ©¢åœ“å½¢ï¼‰
                const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                ellipse.setAttribute('cx', node.x);
                ellipse.setAttribute('cy', node.y);
                ellipse.setAttribute('rx', '140');
                ellipse.setAttribute('ry', '70');
                ellipse.setAttribute('fill', node.type === 'tech' ? '#3498DB' : '#E67E22');
                ellipse.setAttribute('stroke', '#fff');
                ellipse.setAttribute('stroke-width', '3');
                ellipse.setAttribute('opacity', '0.9');
                ellipse.setAttribute('filter', 'drop-shadow(2px 2px 6px rgba(0,0,0,0.15))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '20');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æ•¸æ“šæ¨™ç±¤
                const dataLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dataLabel.setAttribute('x', node.x);
                dataLabel.setAttribute('y', node.y + (node.type === 'tech' ? -85 : 85));
                dataLabel.setAttribute('text-anchor', 'middle');
                dataLabel.setAttribute('fill', '#666');
                dataLabel.setAttribute('font-size', '14');
                dataLabel.textContent = node.data;
                
                // è³‡è¨Šæµæ¨™ç±¤
                const infoLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                infoLabel.setAttribute('x', node.x);
                infoLabel.setAttribute('y', node.y + (node.type === 'tech' ? -65 : 105));
                infoLabel.setAttribute('text-anchor', 'middle');
                infoLabel.setAttribute('fill', '#2E8B57');
                infoLabel.setAttribute('font-size', '13');
                infoLabel.textContent = node.infoFlow;
                
                // è³‡é‡‘æµæ¨™ç±¤
                const cashLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                cashLabel.setAttribute('x', node.x);
                cashLabel.setAttribute('y', node.y + (node.type === 'tech' ? -45 : 125));
                cashLabel.setAttribute('text-anchor', 'middle');
                cashLabel.setAttribute('fill', '#E74C3C');
                cashLabel.setAttribute('font-size', '13');
                cashLabel.textContent = node.cashFlow;
                
                g.appendChild(ellipse);
                g.appendChild(text);
                g.appendChild(dataLabel);
                g.appendChild(infoLabel);
                g.appendChild(cashLabel);
                svg.appendChild(g);
            });
        }
        
        // ç²å–ä¾›æ‡‰éˆç¯€é»é¡è‰²
        function getSupplyChainNodeColor(type) {
            const colors = {
                'source': '#27AE60',   // ç¶ è‰² - æºé ­
                'process': '#F39C12',  // æ©™è‰² - åŠ å·¥
                'storage': '#3498DB',  // è—è‰² - å€‰å„²
                'logistics': '#9B59B6', // ç´«è‰² - ç‰©æµ
                'retail': '#E74C3C'    // ç´…è‰² - é›¶å”®
            };
            return colors[type] || '#95A5A6';
        }

        // è¨ˆç®—ç¯€é»é‚Šç·£ä½ç½®ï¼Œé¿å…ç·šæ¢ç©¿éç¯€é»
        function getEdgePosition(source, target, radius = 60) {
            const dx = target.x - source.x;
            const dy = target.y - source.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const ratio = radius / distance;

            return {
                startX: source.x + dx * ratio,
                startY: source.y + dy * ratio,
                endX: target.x - dx * ratio,
                endY: target.y - dy * ratio
            };
        }

        // å‰µå»ºè©³ç´°é›¶å”®æ”¯ä»˜SVGåœ–
        function createDetailedRetailPaymentSvg(svg, flow) {
            const paymentNodes = flow.detailedNodes.filter(n => ['customer', 'merchant', 'platform', 'settlement'].includes(n.type));
            const supportNodes = flow.detailedNodes.filter(n => ['tech'].includes(n.type));
            
            // å…ˆç¹ªè£½æ‰€æœ‰é€£æ¥ç·šï¼ˆæ”¾åœ¨æœ€åº•å±¤ï¼‰
            // 1. ä¸»è¦æ”¯ä»˜æµç¨‹é€£æ¥ç·š
            for (let i = 0; i < paymentNodes.length - 1; i++) {
                const node = paymentNodes[i];
                const nextNode = paymentNodes[i + 1];
                
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                const { startX, startY, endX, endY } = getEdgePosition(node, nextNode, 65);
                line.setAttribute('x1', startX);
                line.setAttribute('y1', startY);
                line.setAttribute('x2', endX);
                line.setAttribute('y2', endY);
                line.setAttribute('stroke', '#FF6B6B');
                line.setAttribute('stroke-width', '3');
                line.setAttribute('marker-end', 'url(#mini-arrow)');
                svg.appendChild(line);
                
                // æ·»åŠ æµç¨‹æ¨™ç±¤
                const connection = flow.connections.find(c => c.from === node.id && c.to === nextNode.id);
                if (connection) {
                    const connLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    connLabel.setAttribute('x', (node.x + nextNode.x) / 2);
                    connLabel.setAttribute('y', node.y - 20);
                    connLabel.setAttribute('text-anchor', 'middle');
                    connLabel.setAttribute('fill', '#FF6B6B');
                    connLabel.setAttribute('font-size', '16');
                    connLabel.setAttribute('font-weight', 'bold');
                    connLabel.textContent = connection.label;
                    svg.appendChild(connLabel);
                }
            }
            
            // 2. æ”¯æ’ç¯€é»é€£æ¥ç·š
            supportNodes.forEach(node => {
                paymentNodes.forEach(paymentNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const techSource = { x: node.x, y: node.type === 'tech' ? node.y + 35 : node.y - 35 };
                    const techTarget = { x: paymentNode.x, y: node.type === 'tech' ? paymentNode.y - 40 : paymentNode.y + 40 };
                    const { startX: techStartX, startY: techStartY, endX: techEndX, endY: techEndY } = getEdgePosition(techSource, techTarget, node.type === 'tech' ? 90 : 45);
                    line.setAttribute('x1', techStartX);
                    line.setAttribute('y1', techStartY);
                    line.setAttribute('x2', techEndX);
                    line.setAttribute('y2', techEndY);
                    line.setAttribute('stroke', node.type === 'tech' ? '#3498DB' : '#E67E22');
                    line.setAttribute('stroke-width', '2');
                    line.setAttribute('stroke-dasharray', '6,3');
                    line.setAttribute('opacity', '0.7');
                    svg.appendChild(line);
                });
            });
            
            // ç„¶å¾Œç¹ªè£½ä¸»è¦æ”¯ä»˜æµç¨‹ç¯€é»ï¼ˆæ”¾åœ¨ä¸Šå±¤ï¼‰
            paymentNodes.forEach((node, index) => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // ä¸»æ”¯ä»˜ç¯€é»ï¼ˆåœ“è§’çŸ©å½¢ï¼‰
                const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                rect.setAttribute('x', node.x - 120);
                rect.setAttribute('y', node.y - 70);
                rect.setAttribute('width', '240');
                rect.setAttribute('height', '140');
                rect.setAttribute('rx', '20');
                rect.setAttribute('fill', '#4A90E2');
                rect.setAttribute('stroke', '#fff');
                rect.setAttribute('stroke-width', '4');
                rect.setAttribute('filter', 'drop-shadow(3px 3px 8px rgba(0,0,0,0.2))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '24');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æ•¸æ“šæ¨™ç±¤ï¼ˆä¸Šæ–¹ï¼‰
                const dataLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dataLabel.setAttribute('x', node.x);
                dataLabel.setAttribute('y', node.y - 85);
                dataLabel.setAttribute('text-anchor', 'middle');
                dataLabel.setAttribute('fill', '#333');
                dataLabel.setAttribute('font-size', '19');
                dataLabel.setAttribute('font-weight', 'bold');
                dataLabel.textContent = node.data;
                
                // æ”¯ä»˜æµç¨‹æ¨™ç±¤ï¼ˆä¸‹æ–¹ï¼‰
                const flowLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                flowLabel.setAttribute('x', node.x);
                flowLabel.setAttribute('y', node.y + 90);
                flowLabel.setAttribute('text-anchor', 'middle');
                flowLabel.setAttribute('fill', '#E74C3C');
                flowLabel.setAttribute('font-size', '17');
                flowLabel.setAttribute('font-weight', 'bold');
                flowLabel.textContent = node.paymentFlow;
                
                // äº¤æ˜“æ•¸æ“šæ¨™ç±¤ï¼ˆæœ€ä¸‹æ–¹ï¼‰
                const transLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                transLabel.setAttribute('x', node.x);
                transLabel.setAttribute('y', node.y + 110);
                transLabel.setAttribute('text-anchor', 'middle');
                transLabel.setAttribute('fill', '#666');
                transLabel.setAttribute('font-size', '14');
                transLabel.textContent = node.transactionData;
                
                g.appendChild(rect);
                g.appendChild(text);
                g.appendChild(dataLabel);
                g.appendChild(flowLabel);
                g.appendChild(transLabel);
                svg.appendChild(g);
            });
            
            // ç¹ªè£½æ”¯æ’åŸºç¤è¨­æ–½ï¼ˆä¸Šä¸‹æ–¹å‘ï¼‰
            supportNodes.forEach(node => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // æ”¯æ’ç¯€é»ï¼ˆæ©¢åœ“å½¢ï¼‰
                const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                ellipse.setAttribute('cx', node.x);
                ellipse.setAttribute('cy', node.y);
                ellipse.setAttribute('rx', '150');
                ellipse.setAttribute('ry', '60');
                ellipse.setAttribute('fill', node.type === 'tech' ? '#3498DB' : '#E67E22');
                ellipse.setAttribute('stroke', '#fff');
                ellipse.setAttribute('stroke-width', '3');
                ellipse.setAttribute('opacity', '0.9');
                ellipse.setAttribute('filter', 'drop-shadow(2px 2px 6px rgba(0,0,0,0.15))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '19');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æŠ€è¡“æ¨™ç±¤
                const techLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                techLabel.setAttribute('x', node.x);
                techLabel.setAttribute('y', node.y + (node.type === 'tech' ? -70 : 75));
                techLabel.setAttribute('text-anchor', 'middle');
                techLabel.setAttribute('fill', '#666');
                techLabel.setAttribute('font-size', '14');
                techLabel.textContent = node.data;
                
                g.appendChild(ellipse);
                g.appendChild(text);
                g.appendChild(techLabel);
                svg.appendChild(g);
                
                // æ·»åŠ åˆ°æ”¯ä»˜ç¯€é»çš„é€£æ¥ç·šï¼ˆè™›ç·šï¼‰
                paymentNodes.forEach(paymentNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', node.x);
                    const techSource = { x: node.x, y: node.type === 'tech' ? node.y + 35 : node.y - 35 };
                    const techTarget = { x: paymentNode.x, y: node.type === 'tech' ? paymentNode.y - 40 : paymentNode.y + 40 };
                    const { startX: techStartX, startY: techStartY, endX: techEndX, endY: techEndY } = getEdgePosition(techSource, techTarget, node.type === 'tech' ? 90 : 45);
                    line.setAttribute('x1', techStartX);
                    line.setAttribute('y1', techStartY);
                    line.setAttribute('x2', techEndX);
                    line.setAttribute('y2', techEndY);
                    line.setAttribute('stroke', node.type === 'tech' ? '#3498DB' : '#E67E22');
                    line.setAttribute('stroke-width', '2');
                    line.setAttribute('stroke-dasharray', '6,3');
                    line.setAttribute('opacity', '0.7');
                    svg.appendChild(line);
                });
            });
            
        }
        
        // ç²å–é›¶å”®æ”¯ä»˜ç¯€é»é¡è‰²
        function getRetailPaymentNodeColor(type) {
            const colors = {
                'customer': '#3498DB',   // è—è‰² - æ¶ˆè²»è€…
                'merchant': '#27AE60',  // ç¶ è‰² - å•†æˆ¶
                'platform': '#E74C3C', // ç´…è‰² - å¹³å°
                'settlement': '#9B59B6' // ç´«è‰² - çµç®—
            };
            return colors[type] || '#95A5A6';
        }

        // å‰µå»ºè©³ç´°è·¨å¢ƒäº¤æ˜“SVGåœ–
        function createDetailedCrossBorderSvg(svg, flow) {
            const mainNodes = flow.detailedNodes.filter(n => ['supplier', 'logistics', 'compliance', 'settlement', 'banking'].includes(n.type));
            const supportNodes = flow.detailedNodes.filter(n => ['tech', 'risk'].includes(n.type));
            
            // å…ˆç¹ªè£½æ‰€æœ‰é€£æ¥ç·šï¼ˆæ”¾åœ¨æœ€åº•å±¤ï¼‰
            // 1. ä¸»è¦è·¨å¢ƒäº¤æ˜“æµç¨‹é€£æ¥ç·š
            for (let i = 0; i < mainNodes.length - 1; i++) {
                const node = mainNodes[i];
                const nextNode = mainNodes[i + 1];
                
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                const { startX, startY, endX, endY } = getEdgePosition(node, nextNode, 80);
                line.setAttribute('x1', startX);
                line.setAttribute('y1', startY);
                line.setAttribute('x2', endX);
                line.setAttribute('y2', endY);
                line.setAttribute('stroke', '#FF9F40');
                line.setAttribute('stroke-width', '3');
                line.setAttribute('marker-end', 'url(#mini-arrow)');
                svg.appendChild(line);
            }
            
            // 2. æ”¯æ’ç¯€é»é€£æ¥ç·š - åªç•™é¢¨éšªç®¡ç†ç³»çµ±çš„é€£æ¥ç·š
            supportNodes.forEach(node => {
                if (node.type === 'risk') {
                    // é¢¨éšªç®¡ç†ç³»çµ±é€£æ¥åˆ°æ‰€æœ‰ä¸»è¦ç¯€é»
                    mainNodes.forEach(mainNode => {
                        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                        const { startX, startY, endX, endY } = getEdgePosition(node, mainNode, 80);
                        line.setAttribute('x1', startX);
                        line.setAttribute('y1', startY);
                        line.setAttribute('x2', endX);
                        line.setAttribute('y2', endY);
                        line.setAttribute('stroke', '#E67E22');
                        line.setAttribute('stroke-width', '2');
                        line.setAttribute('stroke-dasharray', '6,3');
                        line.setAttribute('opacity', '0.7');
                        svg.appendChild(line);
                    });
                }
            });
            
            // ç„¶å¾Œç¹ªè£½ä¸»è¦è·¨å¢ƒäº¤æ˜“æµç¨‹ç¯€é»ï¼ˆæ”¾åœ¨ä¸Šå±¤ï¼‰
            mainNodes.forEach((node, index) => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // æ ¹æ“šé¢¨éšªç­‰ç´šè¨­ç½®ç¯€é»å½¢ç‹€å’Œé¡è‰²ï¼Œæ”¾å¤§ç¯€é»å°ºå¯¸
                let shape, fill;
                if (node.riskLevel === 'high') {
                    // é«˜é¢¨éšªç¯€é»ä½¿ç”¨å…­é‚Šå½¢
                    shape = createHexagon(node.x, node.y, 80);
                    fill = '#E74C3C'; // ç´…è‰²
                } else if (node.riskLevel === 'medium') {
                    // ä¸­é¢¨éšªç¯€é»ä½¿ç”¨è±å½¢
                    shape = createDiamond(node.x, node.y, 80);
                    fill = '#F39C12'; // æ©™è‰²
                } else {
                    // ä½é¢¨éšªç¯€é»ä½¿ç”¨åœ“å½¢
                    shape = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    shape.setAttribute('cx', node.x);
                    shape.setAttribute('cy', node.y);
                    shape.setAttribute('r', '80');
                    fill = '#27AE60'; // ç¶ è‰²
                }
                
                shape.setAttribute('fill', fill);
                shape.setAttribute('stroke', '#fff');
                shape.setAttribute('stroke-width', '4');
                shape.setAttribute('filter', 'drop-shadow(3px 3px 8px rgba(0,0,0,0.2))');
                
                // ç¯€é»åç¨±ï¼Œèª¿æ•´å­—é«”å¤§å°ä»¥é…åˆæ›´å¤§çš„ç¯€é»
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '15');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                g.appendChild(shape);
                g.appendChild(text);
                svg.appendChild(g);
            });
            
            // æ·»åŠ å›æ¬¾æµç¨‹ç·šï¼ˆå¾éŠ€è¡Œå›åˆ°ä¾›æ‡‰å•†ï¼‰
            const bankNode = mainNodes.find(n => n.type === 'banking');
            const supplierNode = mainNodes.find(n => n.type === 'supplier');
            if (bankNode && supplierNode) {
                const returnLine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                const d = `M ${bankNode.x} ${bankNode.y + 35} Q ${(bankNode.x + supplierNode.x) / 2} ${bankNode.y + 80} ${supplierNode.x} ${supplierNode.y + 35}`;
                returnLine.setAttribute('d', d);
                returnLine.setAttribute('fill', 'none');
                returnLine.setAttribute('stroke', '#27AE60');
                returnLine.setAttribute('stroke-width', '3');
                returnLine.setAttribute('stroke-dasharray', '6,3');
                returnLine.setAttribute('marker-end', 'url(#mini-arrow)');
                svg.appendChild(returnLine);
            }
            
            // ç¹ªè£½æ”¯æ’ç³»çµ±ï¼ˆä¸Šä¸‹æ–¹å‘ï¼‰
            supportNodes.forEach(node => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // æ”¯æ’ç¯€é»ï¼ˆæ©¢åœ“å½¢ï¼‰
                const ellipse = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
                ellipse.setAttribute('cx', node.x);
                ellipse.setAttribute('cy', node.y);
                ellipse.setAttribute('rx', '140');
                ellipse.setAttribute('ry', '60');
                ellipse.setAttribute('fill', node.type === 'tech' ? '#3498DB' : '#E67E22');
                ellipse.setAttribute('stroke', '#fff');
                ellipse.setAttribute('stroke-width', '3');
                ellipse.setAttribute('opacity', '0.9');
                ellipse.setAttribute('filter', 'drop-shadow(2px 2px 6px rgba(0,0,0,0.15))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', '18');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æŠ€è¡“æ¨™ç±¤
                const techLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                techLabel.setAttribute('x', node.x);
                techLabel.setAttribute('y', node.y + (node.type === 'tech' ? -75 : 75));
                techLabel.setAttribute('text-anchor', 'middle');
                techLabel.setAttribute('fill', '#666');
                techLabel.setAttribute('font-size', '13');
                techLabel.textContent = node.data;
                
                g.appendChild(ellipse);
                g.appendChild(text);
                g.appendChild(techLabel);
                svg.appendChild(g);
            });
            
            // ç§»é™¤å„åœ‹äº¤æ˜“é¡é¡¯ç¤º
        }
        
        // å‰µå»ºé‡‘èæœå‹™æµç¨‹è©³ç´°SVG
        function createDetailedFinanceServiceSvg(svg, flow) {
            const nodes = flow.detailedNodes;
            
            // æ ¹æ“šå±¤ç´šåˆ†çµ„
            const settlementNodes = nodes.filter(n => n.type === 'settlement');
            const coreNodes = nodes.filter(n => n.type === 'core');
            const financeNodes = nodes.filter(n => n.type === 'finance' || n.type === 'assets' || n.type === 'crossborder');
            const exchangeNodes = nodes.filter(n => n.type === 'exchange' || n.type === 'banking');
            const complianceNodes = nodes.filter(n => n.type === 'compliance');
            
            // å…ˆç¹ªè£½æ‰€æœ‰é€£æ¥ç·šï¼ˆæ”¾åœ¨æœ€åº•å±¤ï¼‰
            // 1. çµç®—å±¤åˆ°æ ¸å¿ƒé€£æ¥ç·š
            settlementNodes.forEach(settlementNode => {
                coreNodes.forEach(coreNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const { startX, startY, endX, endY } = getEdgePosition(settlementNode, coreNode, 100);
                    line.setAttribute('x1', startX);
                    line.setAttribute('y1', startY);
                    line.setAttribute('x2', endX);
                    line.setAttribute('y2', endY);
                    line.setAttribute('stroke', '#3498DB');
                    line.setAttribute('stroke-width', '3');
                    line.setAttribute('opacity', '0.8');
                    svg.appendChild(line);
                });
            });
            
            // 2. æ ¸å¿ƒåˆ°é‡‘èæœå‹™é€£æ¥ç·š
            coreNodes.forEach(coreNode => {
                financeNodes.forEach(financeNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const { startX, startY, endX, endY } = getEdgePosition(coreNode, financeNode, 100);
                    line.setAttribute('x1', startX);
                    line.setAttribute('y1', startY);
                    line.setAttribute('x2', endX);
                    line.setAttribute('y2', endY);
                    line.setAttribute('stroke', '#E67E22');
                    line.setAttribute('stroke-width', '3');
                    line.setAttribute('opacity', '0.8');
                    svg.appendChild(line);
                });
            });
            
            // 3. é‡‘èæœå‹™åˆ°äº¤æ˜“æ‰€/éŠ€è¡Œé€£æ¥ç·š
            financeNodes.forEach(financeNode => {
                exchangeNodes.forEach(exchangeNode => {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    const { startX, startY, endX, endY } = getEdgePosition(financeNode, exchangeNode, 100);
                    line.setAttribute('x1', startX);
                    line.setAttribute('y1', startY);
                    line.setAttribute('x2', endX);
                    line.setAttribute('y2', endY);
                    line.setAttribute('stroke', '#9B59B6');
                    line.setAttribute('stroke-width', '2');
                    line.setAttribute('stroke-dasharray', '6,3');
                    line.setAttribute('opacity', '0.7');
                    svg.appendChild(line);
                });
            });
            
            // ç„¶å¾Œç¹ªè£½æ‰€æœ‰ç¯€é»ï¼ˆæ”¾åœ¨ä¸Šå±¤ï¼‰
            nodes.forEach(node => {
                const g = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // ç¯€é»åœ“åœˆ
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', node.x);
                circle.setAttribute('cy', node.y);
                circle.setAttribute('r', node.type === 'core' ? '100' : '80');
                circle.setAttribute('fill', getFinanceServiceNodeColor(node.type));
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '4');
                circle.setAttribute('filter', 'drop-shadow(3px 3px 8px rgba(0,0,0,0.2))');
                
                // ç¯€é»åç¨±
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y - 8);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', '#fff');
                text.setAttribute('font-size', node.type === 'core' ? '18' : '16');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æ•¸æ“šæ¨™ç±¤ï¼ˆæ”¾åœ¨ç¯€é»æ¡†å…§ï¼Œæ¨™é¡Œä¸‹æ–¹ï¼‰
                const dataLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dataLabel.setAttribute('x', node.x);
                dataLabel.setAttribute('y', node.y + 18);
                dataLabel.setAttribute('text-anchor', 'middle');
                dataLabel.setAttribute('fill', '#333');
                dataLabel.setAttribute('font-size', '13');
                dataLabel.setAttribute('font-weight', 'bold');
                dataLabel.textContent = node.data;
                
                // å±¤ç´šæ¨™ç±¤
                const layerLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                layerLabel.setAttribute('x', node.x);
                layerLabel.setAttribute('y', node.y + 115);
                layerLabel.setAttribute('text-anchor', 'middle');
                layerLabel.setAttribute('fill', '#666');
                layerLabel.setAttribute('font-size', '13');
                layerLabel.textContent = node.layer;
                
                // æ•ˆç‡æ¨™ç±¤
                const efficiencyLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                efficiencyLabel.setAttribute('x', node.x);
                efficiencyLabel.setAttribute('y', node.y + 135);
                efficiencyLabel.setAttribute('text-anchor', 'middle');
                efficiencyLabel.setAttribute('fill', '#888');
                efficiencyLabel.setAttribute('font-size', '11');
                efficiencyLabel.textContent = node.efficiency;
                
                g.appendChild(circle);
                g.appendChild(text);
                g.appendChild(dataLabel);
                g.appendChild(layerLabel);
                g.appendChild(efficiencyLabel);
                svg.appendChild(g);
            });
            
            // æ·»åŠ å±¤ç´šèƒŒæ™¯
            const layerColors = {
                'åŸºç¤æ”¯ä»˜å±¤': '#FF9F40',
                'é‡‘èå¢å€¼å±¤': '#4ECDC4',
                'åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤': '#6C5CE7',
                'ç›£ç®¡åˆè¦å±¤': '#9B59B6'
            };
            
            Object.keys(layerColors).forEach(layerName => {
                const layerNodes = nodes.filter(n => n.layer === layerName);
                if (layerNodes.length > 0) {
                    const minX = Math.min(...layerNodes.map(n => n.x)) - 80;
                    const maxX = Math.max(...layerNodes.map(n => n.x)) + 80;
                    const minY = Math.min(...layerNodes.map(n => n.y)) - 35;
                    const maxY = Math.max(...layerNodes.map(n => n.y)) + 35;
                    
                    const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    rect.setAttribute('x', minX);
                    rect.setAttribute('y', minY);
                    rect.setAttribute('width', maxX - minX);
                    rect.setAttribute('height', maxY - minY);
                    rect.setAttribute('fill', layerColors[layerName]);
                    rect.setAttribute('opacity', '0.1');
                    rect.setAttribute('rx', '10');
                    svg.insertBefore(rect, svg.firstChild);
                }
            });
        }
        
        // å‰µå»ºå…­é‚Šå½¢
        function createHexagon(cx, cy, size) {
            const hex = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            const points = [];
            for (let i = 0; i < 6; i++) {
                const angle = (Math.PI / 3) * i;
                const x = cx + size * Math.cos(angle);
                const y = cy + size * Math.sin(angle);
                points.push(`${x},${y}`);
            }
            hex.setAttribute('points', points.join(' '));
            return hex;
        }
        
        // å‰µå»ºè±å½¢
        function createDiamond(cx, cy, size) {
            const diamond = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            const points = [
                `${cx},${cy - size}`,      // ä¸Š
                `${cx + size},${cy}`,      // å³
                `${cx},${cy + size}`,      // ä¸‹
                `${cx - size},${cy}`       // å·¦
            ];
            diamond.setAttribute('points', points.join(' '));
            return diamond;
        }
        
        // è¿”å›ä¸»é é¢
        function backToMain() {
            document.getElementById('flow-detail-page').style.display = 'none';
            document.getElementById('main-dashboard').style.display = 'grid';
            resetView();
        }
        
        // ç²å–ç¯€é»åœ–æ¨™
        function getNodeIcon(type) {
            const icons = {
                'core': 'ğŸ’',
                'business': 'ğŸ¢',
                'finance': 'ğŸ’°',
                'partner': 'ğŸ¤'
            };
            return icons[type] || 'ğŸ“';
        }
        
        // é«˜äº®é€£æ¥
        function highlightConnections(nodeId) {
            // é‡ç½®æ‰€æœ‰å…ƒç´ 
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '0.3';
            });
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '0.1';
            });
            
            // é«˜äº®é¸ä¸­ç¯€é»
            const selectedNode = document.querySelector(`[data-id="${nodeId}"]`);
            if (selectedNode) {
                selectedNode.style.opacity = '1';
            }
            
            // é«˜äº®ç›¸é—œé€£ç·šå’Œç¯€é»
            const node = nodes.find(n => n.id === nodeId);
            if (node && node.connections) {
                node.connections.forEach(connId => {
                    // é«˜äº®é€£æ¥çš„ç¯€é»
                    const connNode = document.querySelector(`[data-id="${connId}"]`);
                    if (connNode) {
                        connNode.style.opacity = '0.8';
                    }
                    
                    // é«˜äº®é€£ç·š
                    document.querySelectorAll('.link').forEach(link => {
                        if ((link.dataset.source === nodeId && link.dataset.target === connId) ||
                            (link.dataset.source === connId && link.dataset.target === nodeId)) {
                            link.style.opacity = '1';
                            link.setAttribute('stroke-width', '4');
                        }
                    });
                });
            }
        }
        
        // æµç¨‹é«˜äº®
        function highlightFlow(flowType) {
            resetView();
            
            // è¨­ç½®æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const flows = {
                'retail': {
                    nodes: ['consumers', 'merchant_pos', 'stablecoin_platform', 'supplier_settlement'],
                    detailedNodes: [
                        {
                            id: 'consumers',
                            name: 'æ¶ˆè²»è€…',
                            type: 'customer',
                            x: 150,
                            y: 250,
                            data: 'æ—¥äº¤æ˜“: 1,000è¬ç­†(æ¨ä¼°)',
                            paymentFlow: 'B2Cæ”¯ä»˜',
                            transactionData: '3ç§’å®Œæˆ, æœƒå“¡1,800è¬+',
                            scenarios: ['ä¾¿åˆ©å•†åº—', 'è—¥å¦åº—', 'å’–å•¡å»³', 'ç·šä¸Šè³¼ç‰©']
                        },
                        {
                            id: 'merchant_pos',
                            name: 'å•†æˆ¶POS/é›¶å”®é€šè·¯',
                            type: 'merchant',
                            x: 350,
                            y: 250,
                            data: 'é–€å¸‚: 7,110å®¶',
                            paymentFlow: 'POSçµ‚ç«¯/ç·šä¸Šæ”¯ä»˜',
                            transactionData: '1.5-3%æ‰‹çºŒè²»ç¯€çœ',
                            scenarios: ['7-ELEVEN', 'åº·æ˜¯ç¾', 'è–å¨œå¤šå ¡', 'æ˜Ÿå·´å…‹', 'PChome'],
                            entertainmentSub: ['çµ±ä¸€å¤¢æ™‚ä»£', 'KTV', 'é›»å½±ç¥¨å‹™', 'W Hotel', '50+å¨›æ¨‚å ´é¤¨(æ¨ä¼°)']
                        },
                        {
                            id: 'stablecoin_platform',
                            name: 'ç©©å®šå¹£æ”¯ä»˜å¹³å°',
                            type: 'platform',
                            x: 550,
                            y: 250,
                            data: 'çµ±ä¸€è­‰æ•´åˆ',
                            paymentFlow: 'å³æ™‚çµç®—',
                            transactionData: 'è‡ªå‹•åŒ–æ¸…ç®—, 24/7é‹è¡Œ',
                            scenarios: ['èº«ä»½é©—è­‰', 'äº¤æ˜“è¨˜éŒ„', 'é¢¨æ§ç³»çµ±', 'åˆè¦ç®¡ç†']
                        },
                        {
                            id: 'supplier_settlement',
                            name: 'ä¾›æ‡‰å•†çµç®—/å“ç‰Œæ¸…ç®—',
                            type: 'settlement',
                            x: 750,
                            y: 250,
                            data: 'ä¾›æ‡‰å•†: 500+(æ¨ä¼°)',
                            paymentFlow: 'B2Bè‡ªå‹•çµç®—',
                            transactionData: 'æ™ºèƒ½åˆç´„åŸ·è¡Œ',
                            scenarios: ['ä¾›æ‡‰å•†ä»˜æ¬¾', 'å“ç‰Œåˆ†æ½¤', 'åŠ ç›Ÿå•†çµç®—', 'å¹³å°æ‰‹çºŒè²»']
                        },
                        {
                            id: 'blockchain_support',
                            name: 'å€å¡ŠéˆåŸºç¤è¨­æ–½',
                            type: 'tech',
                            x: 400,
                            y: 150,
                            data: 'TPS: 1,500-2,000',
                            paymentFlow: 'äº¤æ˜“é©—è­‰èˆ‡è¨˜éŒ„',
                            transactionData: '99.9% SLA, <1ç§’å»¶é²',
                            scenarios: ['äº¤æ˜“ç¢ºèª', 'æ™ºèƒ½åˆç´„', 'æ•¸æ“šå­˜è­‰', 'å¯©è¨ˆè¿½è¹¤']
                        },
                        {
                            id: 'financial_rails',
                            name: 'é‡‘èè»Œé“',
                            type: 'finance',
                            x: 450,
                            y: 350,
                            data: 'å¤šéŠ€è¡Œæ•´åˆ',
                            paymentFlow: 'æ³•å¹£å…Œæ›èˆ‡å„²å‚™',
                            transactionData: '110%å„²å‚™ç‡, å­£å¯©',
                            scenarios: ['å…¥é‡‘å‡ºé‡‘', 'å„²å‚™ç®¡ç†', 'æµå‹•æ€§æ± ', 'ç›£ç®¡å ±å‘Š']
                        }
                    ],
                    connections: [
                        { from: 'æ¶ˆè²»è€…', to: 'å•†æˆ¶ç³»çµ±', type: 'ä¼æ¥­å°æ¶ˆè²»è€…æ”¯ä»˜', label: 'ä¼æ¥­å°æ¶ˆè²»è€…æ”¯ä»˜' },
                        { from: 'å•†æˆ¶ç³»çµ±', to: 'ç©©å®šå¹£å¹³å°', type: 'å•†æˆ¶çµç®—', label: 'å•†æˆ¶çµç®—' },
                        { from: 'ç©©å®šå¹£å¹³å°', to: 'ä¾›æ‡‰å•†çµç®—', type: 'ä¼æ¥­å°ä¼æ¥­çµç®—', label: 'ä¼æ¥­å°ä¼æ¥­çµç®—' },
                        { from: 'å€å¡Šéˆæ”¯æ´', to: 'æ¶ˆè²»è€…', type: 'æŠ€è¡“æ”¯æ´', label: 'äº¤æ˜“ç¢ºèª' },
                        { from: 'å€å¡Šéˆæ”¯æ´', to: 'å•†æˆ¶ç³»çµ±', type: 'æŠ€è¡“æ”¯æ´', label: 'éŠ·å”®é»ç³»çµ±æ•´åˆ' },
                        { from: 'å€å¡Šéˆæ”¯æ´', to: 'ç©©å®šå¹£å¹³å°', type: 'æŠ€è¡“æ”¯æ´', label: 'æ™ºèƒ½åˆç´„' },
                        { from: 'å€å¡Šéˆæ”¯æ´', to: 'ä¾›æ‡‰å•†çµç®—', type: 'æŠ€è¡“æ”¯æ´', label: 'è‡ªå‹•çµç®—' },
                        { from: 'é‡‘èè»Œé“', to: 'æ¶ˆè²»è€…', type: 'æµå‹•æ€§', label: 'å…¥é‡‘é€šé“' },
                        { from: 'é‡‘èè»Œé“', to: 'å•†æˆ¶ç³»çµ±', type: 'æµå‹•æ€§', label: 'å‡ºé‡‘é€šé“' },
                        { from: 'é‡‘èè»Œé“', to: 'ç©©å®šå¹£å¹³å°', type: 'æµå‹•æ€§', label: 'å„²å‚™æ”¯æ’' },
                        { from: 'é‡‘èè»Œé“', to: 'ä¾›æ‡‰å•†çµç®—', type: 'æµå‹•æ€§', label: 'è³‡é‡‘æ± ' }
                    ],
                    color: '#FF6B6B',
                    title: 'é›¶å”®æ”¯ä»˜æµç¨‹',
                    description: 'çµ±ä¸€é›†åœ˜å®Œæ•´é›¶å”®æ”¯ä»˜éˆè·¯ï¼šæ¶ˆè²»è€…B2Cæ”¯ä»˜ â†’ å•†æˆ¶POSçµç®— â†’ ç©©å®šå¹£å¹³å°è™•ç† â†’ ä¾›æ‡‰å•†B2Bæ¸…ç®—ï¼Œæ•´åˆå€å¡ŠéˆæŠ€è¡“èˆ‡é‡‘èåŸºç¤è¨­æ–½',
                    steps: [
                        'ğŸ‘¥ æ¶ˆè²»è€…ç«¯ï¼š1,800è¬+æœƒå“¡ï¼Œæ—¥1,000è¬ç­†äº¤æ˜“ï¼Œ3ç§’å¿«é€Ÿæ”¯ä»˜é«”é©—',
                        'ğŸª å•†æˆ¶POSï¼š7,110é–€å¸‚å…¨é€šè·¯ï¼Œ1.5-3%æ‰‹çºŒè²»ç¯€çœï¼ŒåŒ…å«å¨›æ¨‚å ´æ™¯',
                        'âš¡ ç©©å®šå¹£å¹³å°ï¼šçµ±ä¸€è­‰æ•´åˆèº«ä»½ï¼Œ24/7è‡ªå‹•æ¸…ç®—ï¼Œå³æ™‚çµç®—',
                        'ğŸ­ ä¾›æ‡‰å•†çµç®—ï¼š500+ä¾›æ‡‰å•†æ™ºèƒ½åˆç´„è‡ªå‹•ä»˜æ¬¾ï¼Œå“ç‰Œåˆ†æ½¤ç²¾ç¢º',
                        'â›“ï¸ å€å¡Šéˆæ”¯æ’ï¼š1,500-2,000 TPSï¼Œ99.9% SLAï¼Œå…¨ç¨‹äº¤æ˜“è¨˜éŒ„',
                        'ğŸ¦ é‡‘èè»Œé“ï¼šå¤šéŠ€è¡Œæ•´åˆï¼Œ110%å„²å‚™ç‡ï¼Œåˆè¦ç›£ç®¡ä¿éšœ'
                    ],
                    benefits: [
                        'ğŸ’° B2Cæˆæœ¬å„ªåŒ–ï¼šæ¶ˆè²»è€…äº«å—æ›´ä½æ‰‹çºŒè²»ï¼Œå•†æˆ¶ç¯€çœ1.5-3%æˆæœ¬',
                        'âš¡ æ”¯ä»˜æ•ˆç‡ï¼š3ç§’å¿«é€Ÿçµå¸³ï¼Œ24/7å³æ™‚çµç®—ï¼Œç„¡éœ€ç­‰å¾…',
                        'ğŸ”„ B2Bè‡ªå‹•åŒ–ï¼šä¾›æ‡‰å•†æ™ºèƒ½åˆç´„è‡ªå‹•æ”¶æ¬¾ï¼Œæ¸›å°‘äººå·¥å°å¸³',
                        'ğŸ¯ å…¨å ´æ™¯è¦†è“‹ï¼šé›¶å”®+å¨›æ¨‚+ç·šä¸Šï¼Œçµ±ä¸€ç©åˆ†æœƒå“¡ç³»çµ±',
                        'ğŸ“Š æ•¸æ“šé€æ˜ï¼šå€å¡Šéˆè¨˜éŒ„ä¸å¯ç¯¡æ”¹ï¼Œæ”¯æ´ç²¾æº–ç‡Ÿé‹åˆ†æ',
                        'ğŸ›¡ï¸ é¢¨éšªæ§åˆ¶ï¼šåˆè¦èº«ä»½é©—è­‰ï¼Œå¤šå±¤é¢¨æ§ï¼Œè³‡é‡‘å®‰å…¨ä¿éšœ'
                    ],
                    relatedNodes: [
                        {
                            category: 'æ ¸å¿ƒç¯€é»',
                            nodes: [
                                { name: 'ç©©å®šå¹£', role: 'åƒ¹å€¼äº¤æ›åª’ä»‹ï¼ŒéŒ¨å®šæ–°å°å¹£ï¼Œæä¾›ç©©å®šåƒ¹å€¼åŸºç¤', icon: 'ğŸ’' },
                                { name: 'å€å¡Šéˆ', role: 'äº¤æ˜“è¨˜éŒ„èˆ‡é©—è­‰ï¼Œæ™ºèƒ½åˆç´„åŸ·è¡Œï¼Œæ•¸æ“šä¸å¯ç¯¡æ”¹', icon: 'â›“ï¸' }
                            ]
                        },
                        {
                            category: 'æ¥­å‹™ç¯€é»',
                            nodes: [
                                { name: 'é›¶å”®é€šè·¯', role: '7-ELEVENã€PChomeç­‰é›¶å”®æ”¯ä»˜å ´æ™¯ï¼Œæä¾›æ¶ˆè²»è€…ç›´æ¥æ¥è§¸é»', icon: 'ğŸª' },
                                { name: 'ä¼‘é–’å¨›æ¨‚', role: 'çµ±ä¸€å¤¢æ™‚ä»£ã€KTVã€é›»å½±ç¥¨å‹™ç­‰å¨›æ¨‚æ”¯ä»˜å ´æ™¯', icon: 'ğŸ®' },
                                { name: 'çµ±ä¸€å…¶ä»–æ¥­å‹™', role: 'æ—…è¡Œç¤¾ã€èƒ½æºç­‰å°é¡æ”¯ä»˜å ´æ™¯ï¼Œæ“´å±•æ”¯ä»˜ç”Ÿæ…‹', icon: 'ğŸ¢' }
                            ]
                        },
                        {
                            category: 'åˆä½œå¤¥ä¼´',
                            nodes: [
                                { name: 'åˆä½œç™¼è¡Œå•†', role: 'éŠ€è¡Œã€é‡‘èæ©Ÿæ§‹ï¼Œæä¾›æ”¯ä»˜çµç®—å¯ä¿¡åº¦èˆ‡åˆè¦ä¿éšœ', icon: 'ğŸ¤' }
                            ]
                        }
                    ],
                    keyMetrics: [
                        { label: 'æ—¥äº¤æ˜“ç­†æ•¸', value: '1,000è¬', unit: 'ç­†(æ¨ä¼°)' },
                        { label: 'è¦†è“‹é–€å¸‚', value: '7,110', unit: 'å®¶' },
                        { label: 'æ‰‹çºŒè²»ç¯€çœ', value: '1.5-3%', unit: '' },
                        { label: 'çµç®—é€Ÿåº¦', value: '3', unit: 'ç§’' },
                        { label: 'æœƒå“¡æ•¸é‡', value: '1,800è¬+', unit: 'äºº' },
                        { label: 'ä¾›æ‡‰å•†æ•¸é‡', value: '500+', unit: 'å®¶(æ¨ä¼°)' },
                        { label: 'å¨›æ¨‚å ´é¤¨', value: '50+', unit: 'å€‹(æ¨ä¼°)' },
                        { label: 'ç³»çµ±å¯ç”¨æ€§', value: '99.9%', unit: 'SLA' }
                    ]
                },
                'supply': {
                    nodes: ['cold_source', 'processing', 'warehouse', 'distribution', 'retail_end', 'blockchain', 'stablecoin'],
                    detailedNodes: [
                        {
                            id: 'cold_source',
                            name: 'å†·éˆè¾²ç”¢',
                            type: 'source',
                            x: 100,
                            y: 280,
                            data: 'æºé ­ä¾›æ‡‰å•†: 200+(æ¨ä¼°)',
                            infoFlow: 'æº«åº¦ã€ç”¢åœ°ã€æª¢é©—æ•¸æ“š',
                            cashFlow: 'æ¡è³¼æ¬¾ 15å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'processing',
                            name: 'åŠ å·¥å» ',
                            type: 'process',
                            x: 250,
                            y: 280,
                            data: 'åŠ å·¥å» : 50+(æ¨ä¼°)',
                            infoFlow: 'åŠ å·¥è¨˜éŒ„ã€å“è³ªæª¢é©—',
                            cashFlow: 'åŠ å·¥è²» 8å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'warehouse',
                            name: 'å€‰å„²ä¸­å¿ƒ',
                            type: 'storage',
                            x: 400,
                            y: 280,
                            data: 'å€‰å„²ç¯€é»: 100+(æ¨ä¼°)',
                            infoFlow: 'åº«å­˜ã€æº«æ§ã€å‡ºå…¥åº«',
                            cashFlow: 'å€‰å„²è²» 3å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'distribution',
                            name: 'é…é€ä¸­å¿ƒ',
                            type: 'logistics',
                            x: 550,
                            y: 280,
                            data: 'é…é€ä¸­å¿ƒ: 30+(æ¨ä¼°)',
                            infoFlow: 'é…é€è»Œè·¡ã€æº«åº¦ç›£æ§',
                            cashFlow: 'ç‰©æµè²» 5å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'retail_end',
                            name: 'é–€å¸‚çµ‚ç«¯',
                            type: 'retail',
                            x: 700,
                            y: 280,
                            data: 'é–€å¸‚: 7,110å®¶',
                            infoFlow: 'éŠ·å”®æ•¸æ“šã€åº«å­˜ç®¡ç†',
                            cashFlow: 'çµ‚ç«¯éŠ·å”® 600å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'supply_finance',
                            name: 'ä¾›æ‡‰éˆèè³‡',
                            type: 'finance',
                            x: 400,
                            y: 100,
                            data: 'æ‡‰æ”¶å¸³æ¬¾èè³‡æœå‹™',
                            infoFlow: 'ä¾›æ‡‰å•†æäº¤æ‡‰æ”¶å¸³æ¬¾/å€‰å–®ä½œç‚ºæŠµæŠ¼',
                            cashFlow: 'ç©©å®šå¹£å³æ™‚æ”¾æ¬¾ï¼Œæ™ºèƒ½åˆç´„è‡ªå‹•é‚„æ¬¾'
                        },
                        {
                            id: 'rwa_assets',
                            name: 'RWAè³‡ç”¢åŒ–',
                            type: 'assets',
                            x: 400,
                            y: 300,
                            data: 'ä¸å‹•ç”¢ä»£å¹£åŒ–',
                            infoFlow: 'å•†å ´ã€å€‰å„²ã€å»ºè¨­é …ç›®è³‡ç”¢è©•ä¼°',
                            cashFlow: 'RWA/REITä»£å¹£ç™¼è¡Œï¼Œç©©å®šå¹£æŠ•è³‡èªè³¼'
                        },
                        {
                            id: 'cross_border',
                            name: 'è·¨å¢ƒè²¿æ˜“',
                            type: 'global',
                            x: 850,
                            y: 200,
                            data: '4+åœ‹å®¶è²¿æ˜“ç¶²è·¯',
                            infoFlow: 'æ—¥æœ¬ã€æ³°åœ‹ã€è²å¾‹è³“ã€å¤§é™¸',
                            cashFlow: 'é™ä½2-5%åŒ¯å…Œæˆæœ¬ï¼Œæ•¸åˆ†é˜åˆ°å¸³'
                        },
                        {
                            id: 'blockchain',
                            name: 'å€å¡Šéˆ',
                            type: 'tech',
                            x: 400,
                            y: 150,
                            data: 'TPS: 500-1,000',
                            infoFlow: 'å…¨ç¨‹è¿½æº¯ã€æ™ºèƒ½åˆç´„',
                            cashFlow: 'ç³»çµ±æˆæœ¬ç¯€çœ 10-30å„„/å¹´(æ¨ä¼°)'
                        },
                        {
                            id: 'stablecoin',
                            name: 'ç©©å®šå¹£',
                            type: 'finance',
                            x: 400,
                            y: 400,
                            data: 'çµç®—æ•ˆç‡: å³æ™‚',
                            infoFlow: 'äº¤æ˜“è¨˜éŒ„ã€åˆè¦æ•¸æ“š',
                            cashFlow: 'æ‰‹çºŒè²»ç¯€çœ 1.5-3%'
                        }
                    ],
                    connections: [
                        { from: 'cold_source', to: 'processing', type: 'supply' },
                        { from: 'processing', to: 'warehouse', type: 'supply' },
                        { from: 'warehouse', to: 'distribution', type: 'supply' },
                        { from: 'distribution', to: 'retail_end', type: 'supply' },
                        { from: 'blockchain', to: 'cold_source', type: 'data' },
                        { from: 'blockchain', to: 'processing', type: 'data' },
                        { from: 'blockchain', to: 'warehouse', type: 'data' },
                        { from: 'blockchain', to: 'distribution', type: 'data' },
                        { from: 'blockchain', to: 'retail_end', type: 'data' },
                        { from: 'stablecoin', to: 'cold_source', type: 'payment' },
                        { from: 'stablecoin', to: 'processing', type: 'payment' },
                        { from: 'stablecoin', to: 'warehouse', type: 'payment' },
                        { from: 'stablecoin', to: 'distribution', type: 'payment' }
                    ],
                    color: '#4ECDC4',
                    title: 'é£Ÿå“ä¾›æ‡‰éˆæµç¨‹',
                    description: 'çµ±ä¸€é›†åœ˜å®Œæ•´é£Ÿå“ä¾›æ‡‰éˆï¼šå†·éˆè¾²ç”¢ â†’ åŠ å·¥ â†’ å€‰å„² â†’ é…é€ä¸­å¿ƒ â†’ é–€å¸‚ï¼Œçµåˆå€å¡Šéˆè¿½æº¯èˆ‡ç©©å®šå¹£çµç®—çš„æ•¸ä½åŒ–å‡ç´š',
                    steps: [
                        'ğŸŒ¾ å†·éˆè¾²ç”¢æºé ­ï¼š200+ä¾›æ‡‰å•†ï¼Œå¹´æ¡è³¼15å„„ï¼Œæº«åº¦ç›£æ§ä¸Šéˆ',
                        'ğŸ­ åŠ å·¥å» è™•ç†ï¼š50+åŠ å·¥å» ï¼Œå“è³ªæª¢é©—æ•¸æ“šå€å¡Šéˆè¨˜éŒ„',
                        'ğŸ“¦ å€‰å„²é…é€ï¼š130+ç¯€é»ï¼Œæº«æ§èˆ‡åº«å­˜å³æ™‚è¿½è¹¤',
                        'ğŸª é–€å¸‚çµ‚ç«¯ï¼š7,110é–€å¸‚ï¼ŒéŠ·å”®æ•¸æ“šèˆ‡è¿½æº¯ç³»çµ±æ•´åˆ',
                        'â›“ï¸ å€å¡Šéˆè¿½æº¯ï¼šå…¨ç¨‹ä¸å¯ç¯¡æ”¹è¨˜éŒ„ï¼Œç§’ç´šå•é¡Œå®šä½',
                        'ğŸ’ ç©©å®šå¹£çµç®—ï¼šä¾›æ‡‰å•†è‡ªå‹•åŒ–ä»˜æ¬¾ï¼Œç¯€çœ1.5-3%æ‰‹çºŒè²»'
                    ],
                    benefits: [
                        'ğŸ“Š è³‡è¨Šæµé€æ˜ï¼šå…¨ç¨‹è¿½æº¯100%ï¼Œé£Ÿå®‰å•é¡Œç§’ç´šå®šä½',
                        'ğŸ’° è³‡é‡‘æµå„ªåŒ–ï¼šå¹´ç¯€çœæ‰‹çºŒè²»10-30å„„ï¼Œä¾›æ‡‰å•†å³æ™‚æ”¶æ¬¾',
                        'ğŸ”„ æµç¨‹è‡ªå‹•åŒ–ï¼šæ™ºèƒ½åˆç´„åŸ·è¡Œä»˜æ¬¾ï¼Œæ¸›å°‘äººå·¥å°å¸³æˆæœ¬',
                        'âš¡ æ•ˆç‡æå‡ï¼šçµç®—æ™‚é–“å¾æ•¸å¤©ç¸®çŸ­è‡³å³æ™‚',
                        'ğŸ›¡ï¸ é¢¨éšªæ§åˆ¶ï¼šé£Ÿå“å¬å›ç²¾æº–åŒ–ï¼Œæ¯æ¡ˆæœ€é«˜çœ2.5å„„æˆæœ¬',
                        'ğŸ“ˆ æ•¸æ“šåƒ¹å€¼ï¼šä¾›æ‡‰éˆå¤§æ•¸æ“šæ”¯æ´ç²¾æº–æ¡è³¼èˆ‡åº«å­˜ç®¡ç†'
                    ],
                    relatedNodes: [
                        {
                            category: 'æ ¸å¿ƒç¯€é»',
                            nodes: [
                                { name: 'ç©©å®šå¹£', role: 'ä¾›æ‡‰éˆçµç®—åª’ä»‹ï¼Œæä¾›ç©©å®šåƒ¹å€¼åŸºç¤èˆ‡å³æ™‚çµç®—', icon: 'ğŸ’' },
                                { name: 'å€å¡Šéˆ', role: 'å†·éˆè¿½æº¯è¨˜éŒ„ï¼Œé£Ÿå“å®‰å…¨æ•¸æ“šä¸å¯ç¯¡æ”¹å­˜è­‰', icon: 'â›“ï¸' }
                            ]
                        },
                        {
                            category: 'æ¥­å‹™ç¯€é»',
                            nodes: [
                                { name: 'é£Ÿå“ä¾›æ‡‰éˆ', role: 'å†·éˆè¿½æº¯ç³»çµ±ï¼Œå¾è¾²å ´åˆ°é¤æ¡Œçš„å®Œæ•´é£Ÿå“å®‰å…¨ç®¡ç†', icon: 'ğŸ' },
                                { name: 'çµ±ä¸€è­‰', role: 'ä½œç‚ºé‡‘èä»‹é¢ï¼Œæ•´åˆèº«ä»½é©—è­‰èˆ‡çµç®—åŠŸèƒ½', icon: 'ğŸ›ï¸' }
                            ]
                        },
                        {
                            category: 'é‡‘èç¯€é»',
                            nodes: [
                                { name: 'äº¤æ˜“æ‰€', role: 'å¤§å®—æ¡è³¼æ”¯ä»˜çµç®—ï¼Œæä¾›æµå‹•æ€§èˆ‡åƒ¹æ ¼ç™¼ç¾', icon: 'ğŸ’¹' },
                                { name: 'RWA', role: 'æ‡‰æ”¶å¸³æ¬¾ä»£å¹£åŒ–ï¼Œå°‡ä¾›æ‡‰éˆè³‡ç”¢è­‰åˆ¸åŒ–', icon: 'ğŸ’' }
                            ]
                        },
                        {
                            category: 'åˆä½œå¤¥ä¼´',
                            nodes: [
                                { name: 'åˆä½œç™¼è¡Œå•†', role: 'éŠ€è¡Œã€é‡‘èæ©Ÿæ§‹ï¼Œæä¾›ä¾›æ‡‰éˆèè³‡æ”¯æŒ', icon: 'ğŸ¤' }
                            ]
                        }
                    ],
                    keyMetrics: [
                        { label: 'ä¾›æ‡‰å•†æ•¸é‡', value: '200+', unit: 'å®¶' },
                        { label: 'å¹´äº¤æ˜“é¡', value: 'åƒè€ƒç”¢æ¥­è¦æ¨¡', unit: '' },
                        { label: 'å†·éˆè¨­æ–½', value: 'å®Œæ•´ç¶²çµ¡', unit: '' },
                        { label: 'è¿½æº¯èƒ½åŠ›', value: 'å€å¡ŠéˆæŠ€è¡“', unit: '' },
                        { label: 'çµç®—æ•ˆç‡', value: 'æ™ºèƒ½åˆç´„', unit: '' },
                        { label: 'æˆæœ¬æ•ˆç›Š', value: 'åƒè€ƒæ¡ˆä¾‹', unit: '' }
                    ]
                },
                'finance': {
                    nodes: ['retail_settlement', 'supply_settlement', 'stablecoin', 'supply_finance', 'rwa_reit', 'crossborder_settlement', 'exchange', 'partner_banks', 'regulatory_audit'],
                    detailedNodes: [
                        // åŸºç¤æ”¯ä»˜å±¤ï¼ˆç¬¬ä¸€å±¤ï¼Œæœ€ä¸Šæ–¹ï¼‰
                        {
                            id: 'retail_settlement',
                            name: 'é›¶å”®çµç®—',
                            type: 'settlement',
                            x: 200,
                            y: 100,
                            data: 'æ—¥äº¤æ˜“: 1,000è¬ç­†',
                            layer: 'åŸºç¤æ”¯ä»˜å±¤',
                            flowType: 'æ—¥å¸¸äº¤æ˜“ç©©å®šå¹£æµå‹•',
                            efficiency: '3ç§’çµç®—ï¼Œ24/7é‹è¡Œ'
                        },
                        {
                            id: 'supply_settlement',
                            name: 'ä¾›æ‡‰éˆçµç®—',
                            type: 'settlement',
                            x: 500,
                            y: 100,
                            data: 'ä¾›æ‡‰å•†: 500+',
                            layer: 'åŸºç¤æ”¯ä»˜å±¤',
                            flowType: 'B2Bè‡ªå‹•çµç®—',
                            efficiency: 'æ™ºèƒ½åˆç´„åŸ·è¡Œ'
                        },
                        // ç©©å®šå¹£æ ¸å¿ƒï¼ˆç¬¬äºŒå±¤ï¼Œä¸­é–“ç½®ä¸­ï¼‰
                        {
                            id: 'stablecoin',
                            name: 'ç©©å®šå¹£æ ¸å¿ƒ',
                            type: 'core',
                            x: 350,
                            y: 220,
                            data: 'æ ¸å¿ƒåƒ¹å€¼åª’ä»‹',
                            layer: 'æ ¸å¿ƒç¯€é»',
                            flowType: 'é€£æ¥æ‰€æœ‰é‡‘èæœå‹™',
                            efficiency: 'æ”¯ä»˜â†’èè³‡â†’è³‡ç”¢åŒ–â†’ç›£ç®¡å…¨æµç¨‹'
                        },
                        // é‡‘èå¢å€¼å±¤ï¼ˆç¬¬ä¸‰å±¤ï¼Œä¸‰å€‹ä¸¦åˆ—ï¼‰
                        {
                            id: 'supply_finance',
                            name: 'ä¾›æ‡‰éˆèè³‡',
                            type: 'finance',
                            x: 200,
                            y: 340,
                            data: 'æ‡‰æ”¶å¸³æ¬¾èè³‡',
                            layer: 'é‡‘èå¢å€¼å±¤',
                            flowType: 'ç©©å®šå¹£å³æ™‚æ”¾æ¬¾',
                            efficiency: 'T+1æ”¾æ¬¾ï¼Œç¸®çŸ­èè³‡é€±æœŸ'
                        },
                        {
                            id: 'rwa_reit',
                            name: 'RWA/REIT',
                            type: 'assets',
                            x: 350,
                            y: 340,
                            data: 'ä¸å‹•ç”¢ä»£å¹£åŒ–',
                            layer: 'é‡‘èå¢å€¼å±¤',
                            flowType: 'ç©©å®šå¹£æŠ•è³‡èªè³¼',
                            efficiency: 'å…¬æœ‰éˆè³‡ç”¢å¯æŸ¥è©¢'
                        },
                        {
                            id: 'crossborder_settlement',
                            name: 'è·¨å¢ƒçµç®—',
                            type: 'crossborder',
                            x: 500,
                            y: 340,
                            data: 'è·¨å¢ƒæ”¯ä»˜æœå‹™',
                            layer: 'é‡‘èå¢å€¼å±¤',
                            flowType: 'ç©©å®šå¹£è·¨å¢ƒæµå‹•',
                            efficiency: 'å³æ™‚è·¨å¢ƒçµç®—'
                        },
                        // åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤ï¼ˆç¬¬å››å±¤ï¼Œåˆ†æ”¯çµæ§‹ï¼‰
                        {
                            id: 'exchange',
                            name: 'äº¤æ˜“æ‰€',
                            type: 'exchange',
                            x: 275,
                            y: 460,
                            data: '24häº¤æ˜“: 10-100å„„',
                            layer: 'åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤',
                            flowType: 'å½¢æˆæµå‹•æ€§',
                            efficiency: '100-2000äº¤æ˜“å°'
                        },
                        {
                            id: 'partner_banks',
                            name: 'åˆä½œéŠ€è¡Œ',
                            type: 'banking',
                            x: 500,
                            y: 460,
                            data: '7å®¶ä¸»è¦éŠ€è¡Œ',
                            layer: 'åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤',
                            flowType: 'å‡ºå…¥é‡‘èˆ‡å„²å‚™ä¿ç®¡',
                            efficiency: '110%å„²å‚™ç‡'
                        },
                        // ç›£ç®¡åˆè¦å±¤ï¼ˆç¬¬äº”å±¤ï¼Œæœ€ä¸‹æ–¹ï¼‰
                        {
                            id: 'regulatory_audit',
                            name: 'ç›£ç®¡å¯©è¨ˆ / é€æ˜åŒ–',
                            type: 'compliance',
                            x: 500,
                            y: 580,
                            data: 'å­£åº¦å¯©è¨ˆ',
                            layer: 'ç›£ç®¡åˆè¦å±¤',
                            flowType: 'å„²å‚™èˆ‡è·¨å¢ƒåˆè¦',
                            efficiency: 'ç¨ç«‹å¯©è¨ˆæ©Ÿæ§‹'
                        }
                    ],
                    connections: [
                        // åŸºç¤æ”¯ä»˜æµå‘
                        { from: 'é›¶å”®çµç®—', to: 'ç©©å®šå¹£æ ¸å¿ƒ', type: 'æ”¯ä»˜æµç¨‹', label: 'æ—¥å¸¸äº¤æ˜“æµ' },
                        { from: 'ä¾›æ‡‰éˆçµç®—', to: 'ç©©å®šå¹£æ ¸å¿ƒ', type: 'æ”¯ä»˜æµç¨‹', label: 'B2Bçµç®—æµ' },
                        // é‡‘èå¢å€¼æµå‘
                        { from: 'ç©©å®šå¹£æ ¸å¿ƒ', to: 'ä¾›æ‡‰éˆèè³‡', type: 'èè³‡æµç¨‹', label: 'èè³‡æ”¾æ¬¾' },
                        { from: 'ç©©å®šå¹£æ ¸å¿ƒ', to: 'RWA/REIT', type: 'æŠ•è³‡æµç¨‹', label: 'è³‡ç”¢æŠ•è³‡' },
                        { from: 'ä¾›æ‡‰éˆèè³‡', to: 'äº¤æ˜“æ‰€', type: 'æµå‹•æ€§æµç¨‹', label: 'å½¢æˆæµå‹•æ€§' },
                        { from: 'RWA/REIT', to: 'äº¤æ˜“æ‰€', type: 'æµå‹•æ€§æµç¨‹', label: 'ä»£å¹£äº¤æ˜“' },
                        // è·¨å¢ƒèˆ‡åˆè¦æµå‘
                        { from: 'ç©©å®šå¹£æ ¸å¿ƒ', to: 'è·¨å¢ƒçµç®—', type: 'è·¨å¢ƒæµç¨‹', label: 'è·¨å¢ƒæ”¯ä»˜' },
                        { from: 'è·¨å¢ƒçµç®—', to: 'åˆä½œéŠ€è¡Œ', type: 'éŠ€è¡Œæµç¨‹', label: 'å„²å‚™ç®¡ç†' },
                        { from: 'åˆä½œéŠ€è¡Œ', to: 'ç›£ç®¡å¯©è¨ˆ / é€æ˜åŒ–', type: 'å¯©è¨ˆæµç¨‹', label: 'åˆè¦ç›£ç®¡' }
                    ],
                    color: '#6C5CE7',
                    title: 'é‡‘èæœå‹™æµç¨‹',
                    description: 'ä»¥ç©©å®šå¹£ç‚ºæ ¸å¿ƒçš„äº”å±¤é‡‘èæœå‹™æ¶æ§‹ï¼šåŸºç¤æ”¯ä»˜å±¤â†’ç©©å®šå¹£æ ¸å¿ƒâ†’é‡‘èå¢å€¼å±¤â†’åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤â†’ç›£ç®¡åˆè¦å±¤',
                    steps: [
                        'ğŸ§¡ åŸºç¤æ”¯ä»˜å±¤ï¼šé›¶å”®çµç®—èˆ‡ä¾›æ‡‰éˆçµç®—ï¼Œæ—¥1,000è¬ç­†äº¤æ˜“æµé‡',
                        'ğŸ”´ ç©©å®šå¹£æ ¸å¿ƒï¼šå±…ä¸­å”èª¿ï¼Œé€£æ¥æ‰€æœ‰é‡‘èæœå‹™çš„åƒ¹å€¼åª’ä»‹',
                        'ğŸ”µ é‡‘èå¢å€¼å±¤ï¼šä¾›æ‡‰éˆèè³‡ã€RWA/REITã€è·¨å¢ƒçµç®—ä¸‰å€‹ä¸¦åˆ—æœå‹™',
                        'ğŸ”µ åˆä½œéŠ€è¡Œèˆ‡äº¤æ˜“å±¤ï¼šäº¤æ˜“æ‰€å½¢æˆæµå‹•æ€§ï¼Œåˆä½œéŠ€è¡Œç®¡ç†å„²å‚™',
                        'ğŸŸ£ ç›£ç®¡åˆè¦å±¤ï¼šç›£ç®¡å¯©è¨ˆé€æ˜åŒ–ï¼Œç¢ºä¿åˆè¦èˆ‡å„²å‚™å®‰å…¨'
                    ],
                    benefits: [
                        'âš¡ èè³‡é€Ÿåº¦ï¼šä¾›æ‡‰éˆèè³‡T+1æ”¾æ¬¾ï¼Œå¤§å¹…ç¸®çŸ­èè³‡é€±æœŸ',
                        'ğŸ” é€æ˜åº¦ï¼šRWAè³‡ç”¢åœ¨å…¬æœ‰éˆå¯æŸ¥è©¢ï¼ŒæŠ•è³‡é€æ˜',
                        'ğŸ—ï¸ è³‡ç”¢æµå‹•æ€§ï¼šä¸å‹•ç”¢ä»£å¹£åŒ–ï¼Œæµå‹•æ€§å¤§å¹…æå‡',
                        'ğŸ›¡ï¸ é¢¨éšªæ§åˆ¶ï¼šå››å±¤æ¶æ§‹åˆ†å·¥æ˜ç¢ºï¼Œé¢¨éšªéš”é›¢æœ‰æ•ˆ'
                    ],
                    relatedNodes: [
                        {
                            category: 'æ ¸å¿ƒç¯€é»',
                            nodes: [
                                { name: 'ç©©å®šå¹£', role: 'é‡‘èæœå‹™æ ¸å¿ƒåª’ä»‹ï¼Œé€£æ¥æ”¯ä»˜ã€èè³‡ã€è³‡ç”¢åŒ–å…¨æµç¨‹', icon: 'ğŸ’' }
                            ]
                        },
                        {
                            category: 'é‡‘èç¯€é»',
                            nodes: [
                                { name: 'RWA', role: 'è³‡ç”¢ä»£å¹£åŒ–å¹³å°ï¼Œå°‡å¯¦é«”è³‡ç”¢è½‰åŒ–ç‚ºæ•¸ä½è­‰åˆ¸', icon: 'ğŸ¢' },
                                { name: 'äº¤æ˜“æ‰€', role: 'æä¾›è³‡ç”¢äº¤æ˜“æµå‹•æ€§ï¼Œåƒ¹æ ¼ç™¼ç¾èˆ‡å¸‚å ´æ©Ÿåˆ¶', icon: 'ğŸ’¹' },
                                { name: 'çµ±ä¸€è­‰', role: 'é‡‘èæœå‹™ä»‹é¢ï¼Œæ•´åˆèº«ä»½é©—è­‰èˆ‡æŠ•è³‡åŠŸèƒ½', icon: 'ğŸ›ï¸' }
                            ]
                        },
                        {
                            category: 'æ¥­å‹™ç¯€é»',
                            nodes: [
                                { name: 'å»ºè¨­', role: 'RWAè³‡ç”¢åŒ–ä¾†æºï¼Œæä¾›ä¸å‹•ç”¢èˆ‡å»ºè¨­é …ç›®', icon: 'ğŸ—ï¸' }
                            ]
                        },
                        {
                            category: 'åˆä½œå¤¥ä¼´',
                            nodes: [
                                { name: 'åˆä½œç™¼è¡Œå•†', role: 'éŠ€è¡Œã€é‡‘èæ©Ÿæ§‹ï¼Œæä¾›å‚³çµ±é‡‘èæœå‹™ä»‹é¢', icon: 'ğŸ¤' }
                            ]
                        }
                    ],
                    keyMetrics: [
                        { label: 'èè³‡é€Ÿåº¦', value: 'T+1', unit: 'å¤©' },
                        { label: 'å„²å‚™ç‡', value: '110%', unit: '' },
                        { label: 'å¯©è¨ˆé »ç‡', value: 'å­£åº¦', unit: '' },
                        { label: 'äº¤æ˜“å°æ•¸', value: '100-2000', unit: 'å°' },
                        { label: 'åˆä½œéŠ€è¡Œ', value: '7', unit: 'å®¶' },
                        { label: 'æ—¥äº¤æ˜“é‡', value: '1000è¬', unit: 'ç­†' }
                    ]
                },
                'cross': {
                    nodes: ['overseas_suppliers', 'logistics_customs', 'compliance_hub', 'stablecoin_settlement', 'partner_banks'],
                    detailedNodes: [
                        {
                            id: 'overseas_suppliers',
                            name: 'æµ·å¤–ä¾›æ‡‰å•†/å‡ºå£å•†',
                            type: 'supplier',
                            x: 120,
                            y: 280,
                            data: 'ä¾›æ‡‰å•†: 300+(æ¨ä¼°)',
                            countryBreakdown: {
                                'æ—¥æœ¬': '150å„„/å¹´',
                                'æ³°åœ‹': '200å„„/å¹´', 
                                'è²å¾‹è³“': '180å„„/å¹´',
                                'ä¸­åœ‹': '270å„„/å¹´'
                            },
                            transactionData: 'åŸæ–™æ¡è³¼ã€é£Ÿå“é€²å£',
                            riskLevel: 'medium',
                            complianceReq: ['å•†æ¥­ç™¼ç¥¨', 'ç”¢åœ°è­‰æ˜', 'å“è³ªæª¢é©—']
                        },
                        {
                            id: 'logistics_customs',
                            name: 'ç‰©æµèˆ‡æµ·é—œ',
                            type: 'logistics',
                            x: 280,
                            y: 280,
                            data: 'æ¸¯å£: 4å€‹ä¸»è¦',
                            services: ['è²¨é‹è¿½è¹¤', 'æ¸…é—œä»£ç†', 'å€‰å„²é…é€', 'æ–‡ä»¶è™•ç†'],
                            transactionData: 'è²¨ç‰©æµ+è³‡è¨Šæµæ•´åˆ',
                            riskLevel: 'high',
                            complianceReq: ['æµ·é—œç”³å ±', 'æª¢ç–«è­‰æ˜', 'é—œç¨…è¨ˆç®—']
                        },
                        {
                            id: 'compliance_hub',
                            name: 'åˆè¦å¯©æ ¸ä¸­å¿ƒ',
                            type: 'compliance',
                            x: 440,
                            y: 280,
                            data: 'DID/Travel Rule',
                            services: ['èº«ä»½é©—è­‰', 'AMLæª¢æŸ¥', 'åˆ¶è£åå–®', 'äº¤æ˜“ç›£æ§'],
                            transactionData: 'åˆè¦æ•¸æ“šç•™å­˜7å¹´',
                            riskLevel: 'high',
                            complianceReq: ['KYC/KYB', 'AML/CFT', 'FATCA/CRS']
                        },
                        {
                            id: 'stablecoin_settlement',
                            name: 'ç©©å®šå¹£çµç®—å¹³å°',
                            type: 'settlement',
                            x: 600,
                            y: 280,
                            data: 'å³æ™‚çµç®—',
                            services: ['åŒ¯ç‡é–å®š', 'æ™ºèƒ½åˆç´„', 'å¤šå¹£ç¨®æ”¯æ´', 'é¢¨éšªæ§åˆ¶'],
                            transactionData: 'ç¯€çœ2-5%åŒ¯å…Œæˆæœ¬',
                            riskLevel: 'medium',
                            complianceReq: ['å„²å‚™å¯©è¨ˆ', 'æµå‹•æ€§ç®¡ç†', 'ç›£ç®¡å ±å‘Š']
                        },
                        {
                            id: 'partner_banks',
                            name: 'åˆä½œéŠ€è¡Œ/æ³•å¹£å‡ºå…¥é‡‘',
                            type: 'banking',
                            x: 760,
                            y: 280,
                            data: 'éŠ€è¡Œ: 7å®¶ä¸»è¦',
                            services: ['æ³•å¹£å…Œæ›', 'è³‡é‡‘è¨—ç®¡', 'ä¿¡ç”¨ç‹€', 'SWIFTæ›¿ä»£'],
                            transactionData: 'å¤šåœ‹éŠ€è¡Œç¶²çµ¡',
                            riskLevel: 'low',
                            complianceReq: ['å¤®è¡Œç›£ç®¡', 'å¤–åŒ¯ç®¡åˆ¶', 'SWIFTåˆè¦']
                        },
                        {
                            id: 'blockchain_network',
                            name: 'å€å¡Šéˆè·¨éˆç¶²çµ¡',
                            type: 'tech',
                            x: 440,
                            y: 100,
                            data: 'TPS: 500-1,000',
                            services: ['è·¨éˆæ©‹æ¥', 'äº¤æ˜“ç¢ºèª', 'æ•¸æ“šå­˜è­‰', 'æ™ºèƒ½åˆç´„'],
                            transactionData: '99.9% SLA, <5ç§’å»¶é²',
                            riskLevel: 'low',
                            complianceReq: ['ç¯€é»ç®¡ç†', 'æ•¸æ“šå‚™ä»½', 'å®‰å…¨å¯©è¨ˆ']
                        },
                        {
                            id: 'risk_management',
                            name: 'é¢¨éšªç®¡ç†ç³»çµ±',
                            type: 'risk',
                            x: 440,
                            y: 380,
                            data: '24/7ç›£æ§',
                            services: ['åŒ¯ç‡é¢¨æ§', 'ä¿¡ç”¨è©•ä¼°', 'åˆ¶è£ç¯©æŸ¥', 'ç•°å¸¸æª¢æ¸¬'],
                            transactionData: 'å¤šå±¤ç´šé¢¨æ§',
                            riskLevel: 'medium',
                            complianceReq: ['é¢¨éšªè©•ç´š', 'ç›£æ§å ±å‘Š', 'æ‡‰æ€¥é æ¡ˆ']
                        }
                    ],
                    connections: [
                        { from: 'æµ·å¤–ä¾›æ‡‰å•†', to: 'ç‰©æµæµ·é—œ', type: 'è²¨ç‰©æµç¨‹', label: 'è²¨ç‰©æµ+ç™¼ç¥¨' },
                        { from: 'ç‰©æµæµ·é—œ', to: 'åˆè¦ä¸­å¿ƒ', type: 'æ–‡ä»¶æµç¨‹', label: 'æ¸…é—œæ–‡ä»¶' },
                        { from: 'åˆè¦ä¸­å¿ƒ', to: 'ç©©å®šå¹£çµç®—', type: 'æ ¸å‡†æµç¨‹', label: 'åˆè¦é€šé' },
                        { from: 'ç©©å®šå¹£çµç®—', to: 'åˆä½œéŠ€è¡Œ', type: 'æµå‹•æ€§æµç¨‹', label: 'æ³•å¹£è½‰æ›' },
                        { from: 'åˆä½œéŠ€è¡Œ', to: 'æµ·å¤–ä¾›æ‡‰å•†', type: 'ä»˜æ¬¾æµç¨‹', label: 'ä»˜æ¬¾åˆ°å¸³' },
                        { from: 'å€å¡Šéˆç¶²è·¯', to: 'åˆè¦ä¸­å¿ƒ', type: 'æŠ€è¡“æ”¯æ´', label: 'æ•¸æ“šå­˜è­‰' },
                        { from: 'å€å¡Šéˆç¶²è·¯', to: 'ç©©å®šå¹£çµç®—', type: 'æŠ€è¡“æ”¯æ´', label: 'æ™ºèƒ½åˆç´„' },
                        { from: 'é¢¨éšªç®¡ç†', to: 'åˆè¦ä¸­å¿ƒ', type: 'é¢¨éšªç›£æ§', label: 'é¢¨éšªè©•ä¼°' },
                        { from: 'é¢¨éšªç®¡ç†', to: 'ç©©å®šå¹£çµç®—', type: 'é¢¨éšªç›£æ§', label: 'äº¤æ˜“ç›£æ§' }
                    ],
                    color: '#FF9F40',
                    title: 'è·¨å¢ƒäº¤æ˜“æµç¨‹',
                    description: 'çµ±ä¸€é›†åœ˜äºå¤ª4åœ‹(æ—¥æœ¬ã€æ³°åœ‹ã€è²å¾‹è³“ã€ä¸­åœ‹)å®Œæ•´è·¨å¢ƒè²¿æ˜“æµç¨‹ï¼šæµ·å¤–ä¾›æ‡‰å•† â†’ ç‰©æµæ¸…é—œ â†’ åˆè¦å¯©æ ¸ â†’ ç©©å®šå¹£çµç®— â†’ éŠ€è¡Œå‡ºå…¥é‡‘ï¼Œæ•´åˆDID/Travel Ruleåˆè¦æ¡†æ¶',
                    steps: [
                        'ğŸ­ æµ·å¤–ä¾›æ‡‰å•†ï¼š300+ä¾›æ‡‰å•†ï¼Œæ¶µè“‹æ—¥æ³°è²ä¸­4åœ‹ï¼Œå¹´äº¤æ˜“800å„„',
                        'ğŸš¢ ç‰©æµæ¸…é—œï¼š4å€‹ä¸»è¦æ¸¯å£ï¼Œè²¨ç‰©æµèˆ‡è³‡è¨Šæµæ•´åˆç®¡ç†',
                        'ğŸ›¡ï¸ åˆè¦å¯©æ ¸ï¼šDID/Travel Ruleæ¡†æ¶ï¼ŒKYC/AML/åˆ¶è£ç¯©æŸ¥',
                        'âš¡ ç©©å®šå¹£çµç®—ï¼šå³æ™‚çµç®—ï¼Œç¯€çœ2-5%åŒ¯å…Œæˆæœ¬ï¼Œæ™ºèƒ½åˆç´„åŸ·è¡Œ',
                        'ğŸ¦ åˆä½œéŠ€è¡Œï¼š7å®¶ä¸»è¦éŠ€è¡Œï¼Œæ³•å¹£å‡ºå…¥é‡‘ï¼ŒSWIFTæ›¿ä»£æ–¹æ¡ˆ',
                        'â›“ï¸ å€å¡Šéˆæ”¯æ’ï¼šè·¨éˆç¶²çµ¡ï¼Œ500-1,000 TPSï¼Œæ•¸æ“šå­˜è­‰ä¸å¯ç¯¡æ”¹',
                        'âš ï¸ é¢¨éšªç®¡æ§ï¼š24/7ç›£æ§ï¼ŒåŒ¯ç‡é¢¨æ§ï¼Œå¤šå±¤ç´šé¢¨éšªç®¡ç†'
                    ],
                    benefits: [
                        'ğŸ’° æˆæœ¬å„ªåŒ–ï¼šç¯€çœ2-5%åŒ¯å…Œæˆæœ¬ï¼Œå¹´çœ1-3å„„å…ƒ',
                        'âš¡ æ•ˆç‡æå‡ï¼šå³æ™‚çµç®—æ›¿ä»£T+1-3ï¼ŒåŠ é€Ÿè³‡é‡‘å‘¨è½‰',
                        'ğŸ›¡ï¸ åˆè¦ä¿éšœï¼šDID/Travel Ruleæ¡†æ¶ï¼Œç¬¦åˆåœ‹éš›AML/CFTæ¨™æº–',
                        'ğŸŒ ç¶²çµ¡æ•ˆæ‡‰ï¼šæ•´åˆäºå¤ª4åœ‹ä¾›æ‡‰éˆï¼Œå¢å¼·è­°åƒ¹èƒ½åŠ›',
                        'ğŸ“Š é€æ˜åº¦ï¼šå€å¡Šéˆå…¨ç¨‹è¨˜éŒ„ï¼Œæ”¯æ´å¯©è¨ˆèˆ‡è¿½æº¯',
                        'âš ï¸ é¢¨éšªåˆ†æ•£ï¼šå¤šåœ‹å¤šéŠ€è¡Œåˆä½œï¼Œé™ä½å–®é»é¢¨éšª',
                        'ğŸš€ å‰µæ–°å„ªå‹¢ï¼šSWIFTæ›¿ä»£æ–¹æ¡ˆï¼Œæå‡åœ‹éš›ç«¶çˆ­åŠ›'
                    ],
                    relatedNodes: [
                        {
                            category: 'æ ¸å¿ƒç¯€é»',
                            nodes: [
                                { name: 'ç©©å®šå¹£', role: 'è·¨å¢ƒæ”¯ä»˜åª’ä»‹ï¼Œé¿å…åŒ¯ç‡æ³¢å‹•ï¼Œæä¾›ç©©å®šåƒ¹å€¼å‚³é', icon: 'ğŸ’' }
                            ]
                        },
                        {
                            category: 'æ¥­å‹™ç¯€é»',
                            nodes: [
                                { name: 'è·¨åœ‹è²¿æ˜“', role: 'åœ‹éš›è²¿æ˜“çµç®—ï¼Œæ¶µè“‹æ—¥æœ¬ã€æ³°åœ‹ã€è²å¾‹è³“ã€ä¸­åœ‹ç­‰å¸‚å ´', icon: 'ğŸŒ' }
                            ]
                        },
                        {
                            category: 'é‡‘èç¯€é»',
                            nodes: [
                                { name: 'äº¤æ˜“æ‰€', role: 'å¤–åŒ¯åŒ¯å…ŒåŠŸèƒ½ï¼Œæä¾›ç©©å®šå¹£èˆ‡å„åœ‹æ³•å¹£å…Œæ›', icon: 'ğŸ’¹' }
                            ]
                        },
                        {
                            category: 'åˆä½œå¤¥ä¼´',
                            nodes: [
                                { name: 'åˆä½œç™¼è¡Œå•†', role: 'è² è²¬å¤–éƒ¨åŒ¯ç‡ç®¡ç†ã€å‡ºå…¥é‡‘æœå‹™èˆ‡åœ‹éš›éŠ€è¡Œç¶²çµ¡', icon: 'ğŸ¤' }
                            ]
                        },
                        {
                            category: 'æŠ€è¡“æ”¯æ´',
                            nodes: [
                                { name: 'å€å¡Šéˆ', role: 'DID/Travel Ruleåˆè¦ï¼Œç¢ºä¿è·¨å¢ƒäº¤æ˜“ç¬¦åˆåœ‹éš›åæ´—éŒ¢è¦ç¯„', icon: 'â›“ï¸' }
                            ]
                        }
                    ],
                    keyMetrics: [
                        { label: 'äº¤æ˜“åœ‹å®¶', value: '4+', unit: 'åœ‹' },
                        { label: 'å¹´è²¿æ˜“é¡', value: '800', unit: 'å„„(æ¨ä¼°)' },
                        { label: 'æµ·å¤–ä¾›æ‡‰å•†', value: '300+', unit: 'å®¶(æ¨ä¼°)' },
                        { label: 'åŒ¯å…Œæˆæœ¬ç¯€çœ', value: '2-5%', unit: '' },
                        { label: 'çµç®—é€Ÿåº¦', value: 'å³æ™‚', unit: '' },
                        { label: 'åˆä½œéŠ€è¡Œ', value: '7', unit: 'å®¶' },
                        { label: 'ä¸»è¦æ¸¯å£', value: '4', unit: 'å€‹' },
                        { label: 'å¹´æˆæœ¬ç¯€çœ', value: '1-3', unit: 'å„„' }
                    ]
                }
            };
            
            const flow = flows[flowType];
            if (!flow) return;
            
            // é™ä½æ‰€æœ‰å…ƒç´ é€æ˜åº¦
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '0.2';
            });
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '0.1';
            });
            
            // é«˜äº®æµç¨‹ç¯€é»
            flow.nodes.forEach((nodeId, index) => {
                const node = document.querySelector(`[data-id="${nodeId}"]`);
                if (node) {
                    node.style.opacity = '1';
                    
                    // æ·»åŠ åºè™Ÿæ¨™è¨˜
                    const number = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    number.setAttribute('x', '30');
                    number.setAttribute('y', '-30');
                    number.setAttribute('fill', flow.color);
                    number.setAttribute('font-size', '24');
                    number.setAttribute('font-weight', 'bold');
                    number.textContent = index + 1;
                    number.setAttribute('class', 'flow-number');
                    node.appendChild(number);
                }
            });
            
            // é«˜äº®æµç¨‹é€£ç·š
            for (let i = 0; i < flow.nodes.length - 1; i++) {
                animateFlowPath(flow.nodes[i], flow.nodes[i + 1], flow.color);
            }
            
            // è·³è½‰åˆ°è©³æƒ…é é¢
            showFlowDetailPage(flow, flowType);
        }
        
        // å‹•ç•«æµç¨‹è·¯å¾‘
        function animateFlowPath(sourceId, targetId, color) {
            document.querySelectorAll('.link').forEach(link => {
                if ((link.dataset.source === sourceId && link.dataset.target === targetId) ||
                    (link.dataset.source === targetId && link.dataset.target === sourceId)) {
                    link.style.opacity = '1';
                    link.setAttribute('stroke', color);
                    link.setAttribute('stroke-width', '4');
                    
                    // æ·»åŠ æµå‹•å‹•ç•«
                    const length = link.getTotalLength();
                    link.style.strokeDasharray = length;
                    link.style.strokeDashoffset = length;
                    
                    link.animate([
                        { strokeDashoffset: length },
                        { strokeDashoffset: 0 }
                    ], {
                        duration: 1000,
                        fill: 'forwards'
                    });
                }
            });
        }
        
        // é¡¯ç¤ºåƒ¹å€¼æµå‹•
        
        // åŸå§‹åƒ¹å€¼æµåˆ†æåŠŸèƒ½
        function showValueFlowAnalysis() {
            resetView();
            
            // ç¢ºä¿åœ–ä¾‹é¡¯ç¤º
            document.querySelector('.legend').style.display = 'block';
            document.getElementById('flow-description').style.display = 'none';
            
            // å‰µå»ºç²’å­å‹•ç•«
            const mainGroup = document.getElementById('main-group');
            
            links.forEach(link => {
                const sourceNode = nodes.find(n => n.id === link.source);
                const targetNode = nodes.find(n => n.id === link.target);
                
                if (!sourceNode || !targetNode || !link.frequency) return;
                
                // æ ¹æ“šäº¤æ˜“é »ç‡è¨­å®šç²’å­å¯†åº¦å’Œé–“éš”
                const particleCount = link.frequency === 'high' ? 6 : 
                                    link.frequency === 'medium' ? 3 : 1;
                const interval = link.frequency === 'high' ? 200 : 
                               link.frequency === 'medium' ? 500 : 1000;
                
                // å‰µå»ºæµå‹•ç²’å­
                for (let i = 0; i < particleCount; i++) {
                    setTimeout(() => {
                        createFlowParticle(sourceNode, targetNode, link);
                    }, i * interval);
                }
            });
        }
        
        // å‰µå»ºæµå‹•ç²’å­
        function createFlowParticle(source, target, link) {
            const particle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            
            // æ ¹æ“šæµå‹•é¡å‹èª¿æ•´ç²’å­å¤§å°å’Œé¡è‰²
            const particleSize = link.flowType === 'high' ? 7 : 
                               link.flowType === 'medium' ? 5 : 3;
            particle.setAttribute('r', particleSize);
            particle.setAttribute('fill', getLineColor(link.type));
            particle.setAttribute('filter', 'url(#glow)');
            
            const mainGroup = document.getElementById('main-group');
            mainGroup.appendChild(particle);
            
            // æ ¹æ“šçµç®—é€±æœŸèª¿æ•´å‹•ç•«é€Ÿåº¦
            const duration = link.frequency === 'high' ? 1500 : 
                           link.frequency === 'medium' ? 3000 : 5000;
            const startTime = Date.now();
            
            function animate() {
                const elapsed = Date.now() - startTime;
                const progress = (elapsed % duration) / duration;
                
                // æ›²ç·šè·¯å¾‘å‹•ç•«
                const midX = (source.x + target.x) / 2;
                const midY = (source.y + target.y) / 2 - 30;
                
                const x = Math.pow(1-progress, 2) * source.x + 
                         2 * (1-progress) * progress * midX + 
                         Math.pow(progress, 2) * target.x;
                const y = Math.pow(1-progress, 2) * source.y + 
                         2 * (1-progress) * progress * midY + 
                         Math.pow(progress, 2) * target.y;
                
                particle.setAttribute('cx', x);
                particle.setAttribute('cy', y);
                
                // æ ¹æ“šæµå‹•é¡å‹èª¿æ•´é€æ˜åº¦è®ŠåŒ–
                const opacity = link.style === 'dashed' ? 
                              0.3 + 0.4 * Math.sin(progress * Math.PI) : // æ²‰æ¾±å‹ï¼šæ·¡å…¥æ·¡å‡º
                              0.8 * (1 - Math.abs(progress - 0.5) * 1.5); // æµå‹•å‹ï¼šå¿«é€Ÿè®ŠåŒ–
                particle.setAttribute('opacity', Math.max(0, opacity));
                
                if (elapsed < duration * 3) {
                    requestAnimationFrame(animate);
                } else {
                    particle.remove();
                }
            }
            
            animate();
        }
        
        // é¢¨éšªåœ°åœ–
        function showRiskMap() {
            showAnalysisDetailPage('risk-analysis', 'âš ï¸ é¢¨éšªç¯€é»åˆ†æ', 'åˆ†æçµ±ä¸€é›†åœ˜ç©©å®šå¹£ç”Ÿæ…‹ç³»çµ±ä¸­çš„é¢¨éšªä¾†æºã€å‚³å°è·¯å¾‘èˆ‡è²è­½é¢¨éšª');
        }
        
        // åŸå§‹é¢¨éšªåˆ†æåŠŸèƒ½
        function showRiskAnalysis() {
            resetView();
            
            // ç¢ºä¿åœ–ä¾‹é¡¯ç¤º
            document.querySelector('.legend').style.display = 'block';
            document.getElementById('flow-description').style.display = 'none';
            
            // é¢¨éšªç­‰ç´šå®šç¾©
            const riskLevels = {
                'stablecoin': { 
                    level: 'medium', 
                    reason: 'è²è­½é¢¨éšªï¼šå…¬çœ¾ä¿¡ä»»ã€å“ç‰Œå½±éŸ¿',
                    riskSources: ['å„²å‚™é€æ˜åº¦', 'ç›£ç®¡åˆè¦', 'å¸‚å ´ä¿¡å¿ƒ'],
                    icon: 'ğŸ›¡ï¸',
                    stability: 'T+0 çµç®—'
                },
                'blockchain': { 
                    level: 'low', 
                    reason: 'æŠ€è¡“é¢¨éšªï¼šç³»çµ±ç©©å®šã€å®‰å…¨é˜²è­·',
                    riskSources: ['æŠ€è¡“æ•…éšœ', 'ç¶²è·¯æ”»æ“Š', 'ç¯€é»ç¶­è­·'],
                    icon: 'âš™ï¸',
                    stability: 'SLA 99.9%'
                },
                'crossborder': { 
                    level: 'high', 
                    reason: 'æ³•è¦é¢¨éšªï¼šå„åœ‹æ”¿ç­–ã€åŒ¯ç‡æ³¢å‹•',
                    riskSources: ['æ³•è¦è®ŠåŒ–', 'åŒ¯ç‡é¢¨éšª', 'è·¨å¢ƒåˆè¦'],
                    icon: 'ğŸŒ',
                    stability: 'T+1 çµç®—'
                },
                'construction': { 
                    level: 'medium-high', 
                    reason: 'è³‡ç”¢é¢¨éšªï¼šä¼°å€¼æ³¢å‹•ã€RWAæµå‹•æ€§',
                    riskSources: ['è³‡ç”¢ä¼°å€¼', 'RWAæµå‹•æ€§', 'å»ºè¨­å»¶æœŸ'],
                    icon: 'ğŸ—ï¸',
                    stability: 'T+30 çµç®—'
                },
                'rwa': { 
                    level: 'medium', 
                    reason: 'æ–°èˆˆæŠ€è¡“ï¼šç›£ç®¡ä¸æ˜ã€æµå‹•æ€§é¢¨éšª',
                    riskSources: ['ç›£ç®¡å¾…æ˜', 'æŠ€è¡“å‰µæ–°', 'æµå‹•æ€§'],
                    icon: 'ğŸ’',
                    stability: 'T+7 çµç®—'
                },
                'exchange': { 
                    level: 'medium', 
                    reason: 'å¸‚å ´é¢¨éšªï¼šæµå‹•æ€§ã€äº¤æ˜“å°æ‰‹',
                    riskSources: ['æµå‹•æ€§é¢¨éšª', 'ç›£ç®¡é¢¨éšª', 'äº¤æ˜“å°æ‰‹'],
                    icon: 'ğŸ“ˆ',
                    stability: 'T+0 çµç®—'
                },
                'partner': { 
                    level: 'low', 
                    reason: 'åˆä½œé¢¨éšªï¼šå¤šæ–¹åˆä½œï¼Œé¢¨éšªåˆ†æ•£',
                    riskSources: ['ä¿¡ç”¨é¢¨éšª', 'åˆä½œç©©å®šæ€§'],
                    icon: 'ğŸ¤',
                    stability: 'SLA 99.9%'
                },
                'retail': { 
                    level: 'low', 
                    reason: 'ç‡Ÿé‹é¢¨éšªï¼šå•†æˆ¶æ¥å…¥ã€æ“ä½œæµç¨‹',
                    riskSources: ['å•†æˆ¶æ¥å…¥', 'æ“ä½œé¢¨éšª', 'ç³»çµ±æ•…éšœ'],
                    icon: 'ğŸª',
                    stability: 'T+0 çµç®—'
                },
                'food': { 
                    level: 'medium', 
                    reason: 'ä¾›æ‡‰éˆé¢¨éšªï¼šä¾›æ‡‰å•†æ¥å…¥ã€çµç®—å»¶é²',
                    riskSources: ['ä¾›æ‡‰å•†é¢¨éšª', 'çµç®—å»¶é²', 'å“è³ªæ§åˆ¶'],
                    icon: 'ğŸ',
                    stability: 'T+1 çµç®—'
                },
                'leisure': { 
                    level: 'low', 
                    reason: 'æ¥­å‹™é¢¨éšªï¼šç¾æœ‰å ´æ™¯ï¼Œå½±éŸ¿æœ‰é™',
                    riskSources: ['å­£ç¯€æ€§æ³¢å‹•', 'æ¶ˆè²»ç¿’æ…£'],
                    icon: 'ğŸ®',
                    stability: 'T+0 çµç®—'
                },
                'other_business': { 
                    level: 'low', 
                    reason: 'ç‡Ÿé‹é¢¨éšªï¼šå°é¡äº¤æ˜“ï¼Œå½±éŸ¿æœ‰é™',
                    riskSources: ['æ¥­å‹™åˆ†æ•£', 'å°é¡å½±éŸ¿'],
                    icon: 'ğŸ”§',
                    stability: 'T+1 çµç®—'
                },
                'integration': { 
                    level: 'low', 
                    reason: 'å¹³å°é¢¨éšªï¼šç¾æœ‰æŠ€è¡“ï¼Œç©©å®šå¯é ',
                    riskSources: ['ç³»çµ±æ•´åˆ', 'æ•¸æ“šå®‰å…¨'],
                    icon: 'ğŸ†”',
                    stability: 'SLA 99.99%'
                }
            };
            
            // æ‡‰ç”¨é¢¨éšªé¡è‰²
            nodes.forEach(node => {
                const nodeElement = document.querySelector(`[data-id="${node.id}"] circle`);
                if (nodeElement && riskLevels[node.id]) {
                    const risk = riskLevels[node.id];
                    const color = risk.level === 'high' ? '#E74C3C' : 
                                 risk.level === 'medium-high' ? '#E67E22' : 
                                 risk.level === 'medium' ? '#F39C12' : '#2ECC71';
                    
                    const nodeGroup = nodeElement.parentElement;
                    
                    // æ·»åŠ é¢¨éšªå¤–åœˆ
                    const riskIndicator = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    riskIndicator.setAttribute('r', '60');
                    riskIndicator.setAttribute('fill', 'none');
                    riskIndicator.setAttribute('stroke', color);
                    riskIndicator.setAttribute('stroke-width', '4');
                    riskIndicator.setAttribute('opacity', '0.8');
                    
                    // æ·»åŠ é¢¨éšªåœ–æ¨™ï¼ˆå³ä¸Šè§’ï¼‰
                    const riskIcon = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    riskIcon.setAttribute('x', '40');
                    riskIcon.setAttribute('y', '-30');
                    riskIcon.setAttribute('font-size', '16');
                    riskIcon.setAttribute('text-anchor', 'middle');
                    riskIcon.textContent = risk.icon;
                    
                    // æ·»åŠ é¢¨éšªä¾†æºæç¤ºï¼ˆå³ä¸Šè§’å°æ–‡å­—ï¼‰
                    const riskText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    riskText.setAttribute('x', '40');
                    riskText.setAttribute('y', '-15');
                    riskText.setAttribute('font-size', '10');
                    riskText.setAttribute('text-anchor', 'middle');
                    riskText.setAttribute('fill', color);
                    riskText.setAttribute('font-weight', 'bold');
                    riskText.textContent = risk.riskSources[0]; // é¡¯ç¤ºä¸»è¦é¢¨éšªä¾†æº
                    
                    // æ·»åŠ ç©©å®šæ€§æŒ‡æ¨™ï¼ˆå·¦ä¸‹è§’ï¼‰
                    const stabilityBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    stabilityBg.setAttribute('x', '-65');
                    stabilityBg.setAttribute('y', '35');
                    stabilityBg.setAttribute('width', '80');
                    stabilityBg.setAttribute('height', '16');
                    stabilityBg.setAttribute('rx', '8');
                    stabilityBg.setAttribute('fill', '#34495E');
                    stabilityBg.setAttribute('opacity', '0.9');
                    
                    const stabilityText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    stabilityText.setAttribute('x', '-25');
                    stabilityText.setAttribute('y', '46');
                    stabilityText.setAttribute('font-size', '9');
                    stabilityText.setAttribute('text-anchor', 'middle');
                    stabilityText.setAttribute('fill', 'white');
                    stabilityText.textContent = risk.stability;
                    
                    // å°‡æ‰€æœ‰é¢¨éšªå…ƒç´ æ·»åŠ åˆ°ç¯€é»çµ„
                    nodeGroup.insertBefore(riskIndicator, nodeElement);
                    nodeGroup.appendChild(riskIcon);
                    nodeGroup.appendChild(riskText);
                    nodeGroup.appendChild(stabilityBg);
                    nodeGroup.appendChild(stabilityText);
                }
            });
            
            // æ·»åŠ é¢¨éšªå‚³å°è·¯å¾‘
            const riskPaths = [
                { from: 'crossborder', to: 'exchange', strength: 3, reason: 'åŒ¯ç‡é¢¨éšªå½±éŸ¿äº¤æ˜“æ‰€æµå‹•æ€§' },
                { from: 'crossborder', to: 'stablecoin', strength: 2, reason: 'æ³•è¦é¢¨éšªå½±éŸ¿ç©©å®šå¹£ä¿¡ä»»åº¦' },
                { from: 'construction', to: 'rwa', strength: 4, reason: 'å»ºè¨­è³‡ç”¢ä¼°å€¼ç›´æ¥å½±éŸ¿RWA' },
                { from: 'food', to: 'retail', strength: 2, reason: 'ä¾›æ‡‰éˆå»¶é²å½±éŸ¿é›¶å”®çµç®—' },
                { from: 'exchange', to: 'stablecoin', strength: 3, reason: 'äº¤æ˜“æ‰€é¢¨éšªå½±éŸ¿ç©©å®šå¹£å„²å‚™' },
                { from: 'stablecoin', to: 'retail', strength: 2, reason: 'è²è­½é¢¨éšªå½±éŸ¿é›¶å”®ä¿¡å¿ƒ' }
            ];
            
            // ç¹ªè£½é¢¨éšªå‚³å°ç®­é ­
            riskPaths.forEach(path => {
                const fromNode = nodes.find(n => n.id === path.from);
                const toNode = nodes.find(n => n.id === path.to);
                
                if (!fromNode || !toNode) return;
                
                const riskArrow = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                const startX = fromNode.x;
                const startY = fromNode.y;
                const endX = toNode.x;
                const endY = toNode.y;
                
                // å‰µå»ºå¼§å½¢è·¯å¾‘
                const midX = (startX + endX) / 2;
                const midY = (startY + endY) / 2 - 40;
                const d = `M ${startX},${startY} Q ${midX},${midY} ${endX},${endY}`;
                
                riskArrow.setAttribute('d', d);
                riskArrow.setAttribute('fill', 'none');
                riskArrow.setAttribute('stroke', '#E74C3C');
                riskArrow.setAttribute('stroke-width', path.strength);
                riskArrow.setAttribute('stroke-dasharray', '8,4');
                riskArrow.setAttribute('opacity', '0.7');
                riskArrow.setAttribute('marker-end', 'url(#risk-arrow)');
                riskArrow.setAttribute('class', 'risk-path');
                
                // æ·»åŠ è·¯å¾‘æ¨™ç±¤
                const pathLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                pathLabel.setAttribute('x', midX);
                pathLabel.setAttribute('y', midY - 10);
                pathLabel.setAttribute('text-anchor', 'middle');
                pathLabel.setAttribute('fill', '#E74C3C');
                pathLabel.setAttribute('font-size', '8');
                pathLabel.setAttribute('opacity', '0.8');
                pathLabel.textContent = `é¢¨éšªå‚³å°`;
                
                const mainGroup = document.getElementById('main-group');
                mainGroup.appendChild(riskArrow);
                mainGroup.appendChild(pathLabel);
            });
            
            // æ·»åŠ é¢¨éšªç®­é ­æ¨™è¨˜åˆ°defs
            const defs = document.querySelector('defs');
            const riskArrowMarker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
            riskArrowMarker.setAttribute('id', 'risk-arrow');
            riskArrowMarker.setAttribute('markerWidth', '12');
            riskArrowMarker.setAttribute('markerHeight', '8');
            riskArrowMarker.setAttribute('refX', '10');
            riskArrowMarker.setAttribute('refY', '4');
            riskArrowMarker.setAttribute('orient', 'auto');
            riskArrowMarker.innerHTML = '<polygon points="0 0, 12 4, 0 8" fill="#E74C3C" opacity="0.8" />';
            defs.appendChild(riskArrowMarker);
        }
        
        
        
        
        
        // æŠ€è¡“èˆ‡åŸºç¤è¨­æ–½åˆ†æ
        function showTechInfrastructureAnalysis() {
            showAnalysisDetailPage('tech-infrastructure', 'âš™ï¸ æŠ€è¡“åŸºç¤è¨­æ–½åˆ†æ', 'åˆ†æçµ±ä¸€é›†åœ˜ç©©å®šå¹£ç”Ÿæ…‹ç³»çµ±çš„æŠ€è¡“æ¶æ§‹éœ€æ±‚ã€éˆé¡å‹é¸æ“‡èˆ‡å»ºè¨­å„ªå…ˆç´š');
        }
        
        // åŸå§‹æŠ€è¡“åˆ†æåŠŸèƒ½
        function showTechInfrastructureAnalysisView() {
            resetView();
            
            // ç¢ºä¿åœ–ä¾‹é¡¯ç¤º
            document.querySelector('.legend').style.display = 'block';
            document.getElementById('flow-description').style.display = 'none';
            
            // ç‚ºæ¯å€‹ç¯€é»æ·»åŠ æŠ€è¡“éœ€æ±‚æ¨™è¨»
            nodes.forEach(node => {
                if (!node.techRequirements) return;
                
                const nodeGroup = document.querySelector(`[data-id="${node.id}"]`);
                if (!nodeGroup) return;
                
                const tech = node.techRequirements;
                
                // æ ¹æ“šéˆé¡å‹è¨­å®šç¯€é»é¡è‰²
                const chainColor = tech.chainType.includes('è¯ç›Ÿéˆ') ? '#3498DB' : 
                                  tech.chainType.includes('å…¬æœ‰éˆ') ? '#2ECC71' : '#E74C3C';
                
                // æ·»åŠ æŠ€è¡“æ¶æ§‹å¤–åœˆ
                const techRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                techRing.setAttribute('r', '70');
                techRing.setAttribute('fill', 'none');
                techRing.setAttribute('stroke', chainColor);
                techRing.setAttribute('stroke-width', '4');
                techRing.setAttribute('opacity', '0.8');
                techRing.setAttribute('stroke-dasharray', '10,3');
                
                // æ·»åŠ éˆé¡å‹æ¨™ç±¤ï¼ˆä¸Šæ–¹ï¼‰
                const chainBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                chainBg.setAttribute('x', '-40');
                chainBg.setAttribute('y', '-85');
                chainBg.setAttribute('width', '80');
                chainBg.setAttribute('height', '18');
                chainBg.setAttribute('rx', '9');
                chainBg.setAttribute('fill', chainColor);
                chainBg.setAttribute('opacity', '0.9');
                
                const chainText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                chainText.setAttribute('x', '0');
                chainText.setAttribute('y', '-72');
                chainText.setAttribute('font-size', '10');
                chainText.setAttribute('text-anchor', 'middle');
                chainText.setAttribute('fill', 'white');
                chainText.setAttribute('font-weight', 'bold');
                chainText.textContent = tech.chainType;
                
                // æ·»åŠ TPSæŒ‡æ¨™ï¼ˆå³ä¸Šè§’ï¼‰
                const tpsBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                tpsBg.setAttribute('x', '35');
                tpsBg.setAttribute('y', '-45');
                tpsBg.setAttribute('width', '65');
                tpsBg.setAttribute('height', '16');
                tpsBg.setAttribute('rx', '8');
                tpsBg.setAttribute('fill', '#9B59B6');
                tpsBg.setAttribute('opacity', '0.9');
                
                const tpsText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                tpsText.setAttribute('x', '67');
                tpsText.setAttribute('y', '-33');
                tpsText.setAttribute('font-size', '9');
                tpsText.setAttribute('text-anchor', 'middle');
                tpsText.setAttribute('fill', 'white');
                tpsText.setAttribute('font-weight', 'bold');
                tpsText.textContent = tech.tps + ' TPS';
                
                // æ·»åŠ SLAæŒ‡æ¨™ï¼ˆå·¦ä¸Šè§’ï¼‰
                const slaBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                slaBg.setAttribute('x', '-70');
                slaBg.setAttribute('y', '-45');
                slaBg.setAttribute('width', '50');
                slaBg.setAttribute('height', '16');
                slaBg.setAttribute('rx', '8');
                slaBg.setAttribute('fill', '#E67E22');
                slaBg.setAttribute('opacity', '0.9');
                
                const slaText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                slaText.setAttribute('x', '-45');
                slaText.setAttribute('y', '-33');
                slaText.setAttribute('font-size', '9');
                slaText.setAttribute('text-anchor', 'middle');
                slaText.setAttribute('fill', 'white');
                slaText.setAttribute('font-weight', 'bold');
                slaText.textContent = tech.sla;
                
                // æ·»åŠ å„ªå…ˆç´šåœ–æ¨™ï¼ˆå·¦ä¸‹è§’ï¼‰
                const priorityIcon = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                priorityIcon.setAttribute('x', '-45');
                priorityIcon.setAttribute('y', '50');
                priorityIcon.setAttribute('font-size', '18');
                priorityIcon.setAttribute('text-anchor', 'middle');
                
                const priorityEmoji = tech.priority === 'é«˜æŠ€è¡“è¦æ±‚' ? 'ğŸš€' : 
                                    tech.priority === 'ç›£ç®¡å„ªå…ˆé—œæ³¨' ? 'ğŸ›¡ï¸' : 'ğŸ“Š';
                priorityIcon.textContent = priorityEmoji;
                
                // æ·»åŠ å»¶é²æŒ‡æ¨™ï¼ˆå³ä¸‹è§’ï¼‰
                const latencyBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                latencyBg.setAttribute('x', '20');
                latencyBg.setAttribute('y', '35');
                latencyBg.setAttribute('width', '60');
                latencyBg.setAttribute('height', '16');
                latencyBg.setAttribute('rx', '8');
                latencyBg.setAttribute('fill', '#34495E');
                latencyBg.setAttribute('opacity', '0.9');
                
                const latencyText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                latencyText.setAttribute('x', '50');
                latencyText.setAttribute('y', '46');
                latencyText.setAttribute('font-size', '9');
                latencyText.setAttribute('text-anchor', 'middle');
                latencyText.setAttribute('fill', 'white');
                latencyText.textContent = tech.latency;
                
                // ç²å–ç¯€é»å…ƒç´ ç”¨æ–¼æ’å…¥é †åº
                const nodeElement = nodeGroup.querySelector('circle');
                
                // å°‡æ‰€æœ‰æŠ€è¡“å…ƒç´ æ·»åŠ åˆ°ç¯€é»çµ„
                nodeGroup.insertBefore(techRing, nodeElement);
                nodeGroup.appendChild(chainBg);
                nodeGroup.appendChild(chainText);
                nodeGroup.appendChild(tpsBg);
                nodeGroup.appendChild(tpsText);
                nodeGroup.appendChild(slaBg);
                nodeGroup.appendChild(slaText);
                nodeGroup.appendChild(priorityIcon);
                nodeGroup.appendChild(latencyBg);
                nodeGroup.appendChild(latencyText);
            });
            
            // æ·»åŠ æŸ¥çœ‹æŠ€è¡“çŸ©é™£æŒ‰éˆ•åˆ°å´é‚Šæ¬„
            setTimeout(() => {
                addTechMatrixButton();
            }, 500);
        }
        
        // æ·»åŠ æŠ€è¡“çŸ©é™£æŒ‰éˆ•
        function addTechMatrixButton() {
            const sidebar = document.querySelector('.sidebar');
            const buttonContainer = document.createElement('div');
            buttonContainer.className = 'tech-matrix-button-container';
            buttonContainer.innerHTML = `
                <div style="margin-top: 20px; padding: 15px; background: #fff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center;">
                    <button onclick="showTechMatrixPage()" style="
                        background: linear-gradient(135deg, #667eea, #764ba2);
                        color: white;
                        border: none;
                        padding: 12px 20px;
                        border-radius: 8px;
                        font-size: 14px;
                        font-weight: bold;
                        cursor: pointer;
                        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
                        transition: all 0.3s;
                        width: 100%;
                    ">
                        âš™ï¸ æŸ¥çœ‹æŠ€è¡“æ¶æ§‹çŸ©é™£
                    </button>
                    <p style="margin: 10px 0 0 0; color: #666; font-size: 12px;">é»æ“ŠæŸ¥çœ‹è©³ç´°çš„æŠ€è¡“éœ€æ±‚è¦æ ¼è¡¨</p>
                </div>
            `;
            
            // ç§»é™¤èˆŠçš„æŒ‰éˆ•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
            const existingButton = sidebar.querySelector('.tech-matrix-button-container');
            if (existingButton) existingButton.remove();
            
            sidebar.appendChild(buttonContainer);
        }
        
        // é¡¯ç¤ºæŠ€è¡“çŸ©é™£é é¢
        function showTechMatrixPage() {
            showAnalysisDetailPage('tech-matrix', 'âš™ï¸ æŠ€è¡“æ¶æ§‹éœ€æ±‚çŸ©é™£', 'è©³ç´°çš„æŠ€è¡“è¦æ ¼éœ€æ±‚èˆ‡å»ºè¨­å„ªå…ˆç´šçŸ©é™£');
        }
        
        // é¡¯ç¤ºåˆ†æè©³æƒ…é é¢
        function showAnalysisDetailPage(analysisType, title, description) {
            // éš±è—ä¸»è¦å…§å®¹
            document.querySelector('.main-container').style.display = 'none';
            
            // å‰µå»ºåˆ†æè©³æƒ…é é¢
            const analysisPage = document.createElement('div');
            analysisPage.className = 'flow-detail-page';
            analysisPage.id = 'analysis-detail-page';
            
            analysisPage.innerHTML = `
                <div class="flow-detail-header">
                    <button class="back-btn" onclick="hideAnalysisDetailPage()">
                        <span>â†</span> å›åˆ°ç”Ÿæ…‹ç³»çµ±
                    </button>
                    <div class="flow-detail-title">
                        <h1>${title}</h1>
                        <p>${description}</p>
                    </div>
                </div>
                
                <div class="flow-detail-content">
                    <div class="detail-main">
                        <div id="analysis-content"></div>
                    </div>
                    
                    <div class="flow-detail-sidebar">
                        <div class="detail-section">
                            <h2>ğŸ“Š åˆ†ææ¦‚è¦</h2>
                            <div class="detail-card">
                                <div id="analysis-summary"></div>
                            </div>
                        </div>
                        
                        <div class="detail-section">
                            <h2>ğŸ¯ é‡é»æŒ‡æ¨™</h2>
                            <div class="detail-card">
                                <div id="analysis-metrics"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flow-detail-ecosystem">
                    <h2>ğŸ¯ ç’°å½¢é¢¨éšªåˆ†å±¤åœ–</h2>
                    <div class="mini-ecosystem" id="analysis-ecosystem">
                        <svg id="analysis-ecosystem-svg" width="100%" height="800"></svg>
                    </div>
                </div>
            `;
            
            document.body.appendChild(analysisPage);
            
            // æ ¹æ“šåˆ†æé¡å‹åŠ è¼‰å°æ‡‰å…§å®¹
            loadAnalysisContent(analysisType);
        }
        
        // éš±è—åˆ†æè©³æƒ…é é¢
        function hideAnalysisDetailPage() {
            const analysisPage = document.getElementById('analysis-detail-page');
            if (analysisPage) {
                analysisPage.remove();
            }
            document.querySelector('.main-container').style.display = 'block';
        }
        
        // åŠ è¼‰åˆ†æå…§å®¹
        function loadAnalysisContent(analysisType) {
            const contentDiv = document.getElementById('analysis-content');
            const summaryDiv = document.getElementById('analysis-summary');
            const metricsDiv = document.getElementById('analysis-metrics');
            const ecosystemSvg = document.getElementById('analysis-ecosystem-svg');
            
            switch(analysisType) {
                case 'risk-analysis':
                    loadRiskAnalysisContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg);
                    break;
                case 'tech-infrastructure':
                    loadTechInfrastructureContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg);
                    break;
                case 'tech-matrix':
                    loadTechMatrixContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg);
                    break;
                case 'efficiency-analysis':
                    loadEfficiencyAnalysisContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg);
                    break;
            }
        }
        
        // åƒ¹å€¼æµåˆ†æå…§å®¹
        function loadValueFlowContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg) {
            contentDiv.innerHTML = `
                <div class="detail-section">
                    <h2>ğŸ’¸ åƒ¹å€¼æµå‹•åˆ†æ</h2>
                    
                    <!-- è³‡é‡‘æµå‘ç¸½è¦½ï¼ˆæ ¸å¿ƒæŒ‡æ¨™å¡ç‰‡ï¼‰ -->
                    <div class="detail-card">
                        <h4>ğŸ’° è³‡é‡‘æµå‘ç¸½è¦½</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 20px;">
                            <!-- æŒ‰è³‡é‡‘æµé‡å¤§å°æ’åºçš„å¡ç‰‡ -->
                            <div class="flow-card large" style="flex: 3; background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 5px solid #4caf50;">
                                <div class="flow-header">
                                    <span class="flow-name">é›¶å”®ç¶²è·¯</span>
                                    <span class="flow-amount">1,500 å„„</span>
                                </div>
                                <div class="flow-frequency">é«˜é »äº¤æ˜“</div>
                            </div>
                            
                            <div class="flow-card medium" style="flex: 2; background: linear-gradient(135deg, #e3f2fd, #bbdefb); border-left: 5px solid #2196f3;">
                                <div class="flow-header">
                                    <span class="flow-name">è·¨å¢ƒè²¿æ˜“</span>
                                    <span class="flow-amount">800 å„„</span>
                                </div>
                                <div class="flow-frequency">ä¸­é »äº¤æ˜“</div>
                            </div>
                            
                            <div class="flow-card medium" style="flex: 2; background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 5px solid #ff9800;">
                                <div class="flow-header">
                                    <span class="flow-name">é£Ÿå“ä¾›æ‡‰éˆ</span>
                                    <span class="flow-amount">600 å„„</span>
                                </div>
                                <div class="flow-frequency">ä¸­é »äº¤æ˜“</div>
                            </div>
                            
                            <div class="flow-card small" style="flex: 1; background: linear-gradient(135deg, #fce4ec, #f8bbd9); border-left: 5px solid #e91e63;">
                                <div class="flow-header">
                                    <span class="flow-name">RWA</span>
                                    <span class="flow-amount">100 å„„</span>
                                </div>
                                <div class="flow-frequency">ä½é »äº¤æ˜“</div>
                            </div>
                            
                            <div class="flow-card small" style="flex: 1; background: linear-gradient(135deg, #f3e5f5, #ce93d8); border-left: 5px solid #9c27b0;">
                                <div class="flow-header">
                                    <span class="flow-name">å…¶ä»–</span>
                                    <span class="flow-amount">270 å„„</span>
                                </div>
                                <div class="flow-frequency">æ··åˆé »ç‡</div>
                            </div>
                        </div>
                        
                        <!-- ç¸½çµæ¡† -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border: 2px solid #dee2e6;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-size: 24px; font-weight: bold; color: #2c3e50;">å¹´åº¦ç¸½è³‡é‡‘æµé‡ï¼š3,570 å„„</div>
                                    <div style="font-size: 14px; color: #6c757d; margin-top: 5px;">æ ¸å¿ƒæµå‘é›†ä¸­åº¦ï¼šå‰ 3 é …å æ¯”ç´„ 85%</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 16px; color: #28a745; font-weight: bold;">ç©©å®šå¹£è¦†è“‹ç‡</div>
                                    <div style="font-size: 20px; color: #28a745; font-weight: bold;">72%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åƒ¹å€¼æµå‹•çµæ§‹åœ– -->
                    <div class="detail-card">
                        <h4>ğŸ”„ åƒ¹å€¼æµå‹•çµæ§‹åœ–</h4>
                        <div style="position: relative; height: 500px; border: 1px solid #ddd; border-radius: 8px; background: #fff;">
                            <svg id="value-flow-svg" width="100%" height="100%" viewBox="0 0 800 500"></svg>
                        </div>
                    </div>
                    
                    <!-- çµç®—é »ç‡èˆ‡æ•ˆç‡åˆ†æ -->
                    <div class="detail-card">
                        <h4>âš¡ çµç®—é »ç‡èˆ‡æ•ˆç‡åˆ†æ</h4>
                        <div style="display: flex; gap: 30px; align-items: center;">
                            <!-- åœ“é¤…åœ–å®¹å™¨ -->
                            <div style="flex: 1;">
                                <div style="position: relative; height: 300px;">
                                    <svg id="settlement-efficiency-svg" width="100%" height="100%" viewBox="0 0 300 300"></svg>
                                </div>
                            </div>
                            
                            <!-- èªªæ˜æ–‡å­— -->
                            <div style="flex: 1;">
                                <div class="kpi-grid">
                                    <div class="kpi-item" style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 4px solid #4caf50;">
                                        <div class="kpi-value" style="color: #2e7d32;">å³æ™‚çµç®—</div>
                                        <div class="kpi-label">70% - é›¶å”®ç¶²è·¯ã€ä¼‘é–’å¨›æ¨‚</div>
                                        <div style="font-size: 12px; color: #666; margin-top: 5px;">é«˜é »æ¥­å‹™å·²å…·å‚™å³æ™‚çµç®—èƒ½åŠ›</div>
                                    </div>
                                    <div class="kpi-item" style="background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 4px solid #ff9800;">
                                        <div class="kpi-value" style="color: #ef6c00;">T+1 çµç®—</div>
                                        <div class="kpi-label">20% - é£Ÿå“ä¾›æ‡‰éˆã€éƒ¨åˆ†å»ºè¨­</div>
                                        <div style="font-size: 12px; color: #666; margin-top: 5px;">ä¾›æ‡‰å•†çµç®—å’Œå·¥ç¨‹æ¬¾é …</div>
                                    </div>
                                    <div class="kpi-item" style="background: linear-gradient(135deg, #ffebee, #ffcdd2); border-left: 4px solid #f44336;">
                                        <div class="kpi-value" style="color: #c62828;">T+2 ä»¥ä¸Š</div>
                                        <div class="kpi-label">10% - è·¨å¢ƒæ¨¡çµ„ã€å¤§å‹RWA</div>
                                        <div style="font-size: 12px; color: #666; margin-top: 5px;">è·¨å¢ƒæ¨¡çµ„å°šä¾è³´è¼ƒé•·çµç®—å‘¨æœŸ</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            summaryDiv.innerHTML = `
                <p><strong>å¹´åº¦ç¸½è³‡é‡‘æµé‡ï¼š</strong>3,570å„„</p>
                <p><strong>æ ¸å¿ƒæµå‘é›†ä¸­åº¦ï¼š</strong>å‰3é …å æ¯”85%</p>
                <p><strong>å³æ™‚çµç®—è¦†è“‹ï¼š</strong>70%</p>
                <p><strong>æ•ˆç‡æå‡ï¼š</strong>æˆæœ¬ç¯€çœ3-5%</p>
            `;
            
            metricsDiv.innerHTML = `
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value">3,570å„„</div>
                        <div class="kpi-label">å¹´åº¦è³‡é‡‘è™•ç†è¦æ¨¡</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value">85%</div>
                        <div class="kpi-label">æ ¸å¿ƒæµå‘é›†ä¸­åº¦</div>
                    </div>
                </div>
            `;
            
            // æ¸²æŸ“åƒ¹å€¼æµå‹•çµæ§‹åœ–
            setTimeout(() => renderValueFlowDiagram(), 100);
            
            // æ¸²æŸ“çµç®—æ•ˆç‡åœ“é¤…åœ–
            setTimeout(() => renderSettlementEfficiencyChart(), 100);
        }
        
        // æ¸²æŸ“åƒ¹å€¼æµå‹•çµæ§‹åœ–ï¼ˆæµå‘åœ–ï¼‰
        function renderValueFlowDiagram() {
            const svg = document.getElementById('value-flow-svg');
            if (!svg) return;
            
            svg.innerHTML = '';
            
            // æµå‹•æ•¸æ“š
            const flowData = [
                { name: 'é›¶å”®ç¶²è·¯', amount: 1500, color: '#4caf50', efficiency: 'high', settlement: 'å³æ™‚' },
                { name: 'è·¨å¢ƒè²¿æ˜“', amount: 800, color: '#2196f3', efficiency: 'medium', settlement: 'T+1' },
                { name: 'é£Ÿå“ä¾›æ‡‰éˆ', amount: 600, color: '#ff9800', efficiency: 'medium', settlement: 'T+1' },
                { name: 'RWA', amount: 100, color: '#e91e63', efficiency: 'low', settlement: 'T+2' },
                { name: 'å…¶ä»–æ¥­å‹™', amount: 270, color: '#9c27b0', efficiency: 'medium', settlement: 'æ··åˆ' }
            ];
            
            const centerX = 400;
            const centerY = 250;
            const centerRadius = 60;
            
            // ç¹ªè£½ä¸­å¿ƒåœ“ï¼ˆçµ±ä¸€é›†åœ˜ç©©å®šå¹£ï¼‰
            const centerCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            centerCircle.setAttribute('cx', centerX);
            centerCircle.setAttribute('cy', centerY);
            centerCircle.setAttribute('r', centerRadius);
            centerCircle.setAttribute('fill', '#2c3e50');
            centerCircle.setAttribute('stroke', '#fff');
            centerCircle.setAttribute('stroke-width', '4');
            svg.appendChild(centerCircle);
            
            // ä¸­å¿ƒæ–‡å­—
            const centerText1 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            centerText1.setAttribute('x', centerX);
            centerText1.setAttribute('y', centerY - 8);
            centerText1.setAttribute('text-anchor', 'middle');
            centerText1.setAttribute('font-size', '14');
            centerText1.setAttribute('font-weight', 'bold');
            centerText1.setAttribute('fill', '#fff');
            centerText1.textContent = 'çµ±ä¸€é›†åœ˜';
            svg.appendChild(centerText1);
            
            const centerText2 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            centerText2.setAttribute('x', centerX);
            centerText2.setAttribute('y', centerY + 8);
            centerText2.setAttribute('text-anchor', 'middle');
            centerText2.setAttribute('font-size', '14');
            centerText2.setAttribute('font-weight', 'bold');
            centerText2.setAttribute('fill', '#fff');
            centerText2.textContent = 'ç©©å®šå¹£';
            svg.appendChild(centerText2);
            
            // ç¹ªè£½æµå‘ç·šå’Œç¯€é»
            flowData.forEach((item, index) => {
                const angle = (index / flowData.length) * 2 * Math.PI - Math.PI / 2;
                const distance = 180;
                const nodeX = centerX + distance * Math.cos(angle);
                const nodeY = centerY + distance * Math.sin(angle);
                
                // ç·šæ¢ç²—ç´°åŸºæ–¼è³‡é‡‘æµé‡
                const lineWidth = Math.max(3, (item.amount / 1500) * 15);
                
                // ç·šæ¢é¡è‰²åŸºæ–¼çµç®—æ•ˆç‡
                const lineColor = item.efficiency === 'high' ? '#4caf50' : 
                                 item.efficiency === 'medium' ? '#ff9800' : '#f44336';
                
                // é€£æ¥ç·š
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', centerX + centerRadius * Math.cos(angle));
                line.setAttribute('y1', centerY + centerRadius * Math.sin(angle));
                line.setAttribute('x2', nodeX - 30 * Math.cos(angle));
                line.setAttribute('y2', nodeY - 30 * Math.sin(angle));
                line.setAttribute('stroke', lineColor);
                line.setAttribute('stroke-width', lineWidth);
                line.setAttribute('opacity', '0.7');
                line.setAttribute('stroke-linecap', 'round');
                svg.appendChild(line);
                
                // ç¯€é»åœ“åœˆ
                const nodeRadius = Math.max(25, (item.amount / 1500) * 35);
                const nodeCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                nodeCircle.setAttribute('cx', nodeX);
                nodeCircle.setAttribute('cy', nodeY);
                nodeCircle.setAttribute('r', nodeRadius);
                nodeCircle.setAttribute('fill', item.color);
                nodeCircle.setAttribute('stroke', '#fff');
                nodeCircle.setAttribute('stroke-width', '3');
                nodeCircle.setAttribute('opacity', '0.9');
                svg.appendChild(nodeCircle);
                
                // ç¯€é»æ¨™ç±¤èƒŒæ™¯
                const textBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                const textWidth = item.name.length * 8;
                textBg.setAttribute('x', nodeX - textWidth / 2);
                textBg.setAttribute('y', nodeY - 8);
                textBg.setAttribute('width', textWidth);
                textBg.setAttribute('height', '16');
                textBg.setAttribute('fill', '#fff');
                textBg.setAttribute('opacity', '0.9');
                textBg.setAttribute('rx', '8');
                textBg.setAttribute('stroke', '#ccc');
                textBg.setAttribute('stroke-width', '1');
                svg.appendChild(textBg);
                
                // ç¯€é»æ¨™ç±¤
                const nodeText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                nodeText.setAttribute('x', nodeX);
                nodeText.setAttribute('y', nodeY + 4);
                nodeText.setAttribute('text-anchor', 'middle');
                nodeText.setAttribute('font-size', '12');
                nodeText.setAttribute('font-weight', 'bold');
                nodeText.setAttribute('fill', '#000');
                nodeText.textContent = item.name;
                svg.appendChild(nodeText);
                
                // è³‡é‡‘æµé‡æ¨™ç±¤
                const amountText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                amountText.setAttribute('x', nodeX);
                amountText.setAttribute('y', nodeY + nodeRadius + 20);
                amountText.setAttribute('text-anchor', 'middle');
                amountText.setAttribute('font-size', '11');
                amountText.setAttribute('font-weight', 'bold');
                amountText.setAttribute('fill', item.color);
                amountText.textContent = `${item.amount}å„„`;
                svg.appendChild(amountText);
                
                // æ·»åŠ äº’å‹•æç¤ºæ¡†åŠŸèƒ½
                const tooltip = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                tooltip.setAttribute('class', 'tooltip');
                tooltip.style.display = 'none';
                
                nodeCircle.addEventListener('mouseenter', function() {
                    // é¡¯ç¤ºæç¤ºæ¡†é‚è¼¯å¯ä»¥åœ¨é€™è£¡æ·»åŠ 
                });
            });
            
            // æ·»åŠ åœ–ä¾‹
            const legend = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            const legendData = [
                { color: '#4caf50', label: 'é«˜æ•ˆç‡å³æ™‚çµç®—', x: 50, y: 50 },
                { color: '#ff9800', label: 'T+1çµç®—', x: 50, y: 70 },
                { color: '#f44336', label: 'T+2ä»¥ä¸Šå»¶é²çµç®—', x: 50, y: 90 }
            ];
            
            legendData.forEach(item => {
                const legendLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                legendLine.setAttribute('x1', item.x);
                legendLine.setAttribute('y1', item.y);
                legendLine.setAttribute('x2', item.x + 20);
                legendLine.setAttribute('y2', item.y);
                legendLine.setAttribute('stroke', item.color);
                legendLine.setAttribute('stroke-width', '4');
                svg.appendChild(legendLine);
                
                const legendText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                legendText.setAttribute('x', item.x + 30);
                legendText.setAttribute('y', item.y + 4);
                legendText.setAttribute('font-size', '12');
                legendText.setAttribute('fill', '#333');
                legendText.textContent = item.label;
                svg.appendChild(legendText);
            });
        }
        
        // æ¸²æŸ“çµç®—æ•ˆç‡åœ“é¤…åœ–
        function renderSettlementEfficiencyChart() {
            const svg = document.getElementById('settlement-efficiency-svg');
            if (!svg) return;
            
            svg.innerHTML = '';
            
            const centerX = 150;
            const centerY = 150;
            const radius = 100;
            
            const data = [
                { label: 'å³æ™‚çµç®—', value: 70, color: '#4caf50' },
                { label: 'T+1çµç®—', value: 20, color: '#ff9800' },
                { label: 'T+2ä»¥ä¸Š', value: 10, color: '#f44336' }
            ];
            
            let currentAngle = -Math.PI / 2; // å¾é ‚éƒ¨é–‹å§‹
            
            data.forEach((item, index) => {
                const sliceAngle = (item.value / 100) * 2 * Math.PI;
                const endAngle = currentAngle + sliceAngle;
                
                // è¨ˆç®—å¼§å½¢è·¯å¾‘
                const largeArcFlag = sliceAngle > Math.PI ? 1 : 0;
                const x1 = centerX + radius * Math.cos(currentAngle);
                const y1 = centerY + radius * Math.sin(currentAngle);
                const x2 = centerX + radius * Math.cos(endAngle);
                const y2 = centerY + radius * Math.sin(endAngle);
                
                const pathData = `M ${centerX} ${centerY} L ${x1} ${y1} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2} Z`;
                
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', pathData);
                path.setAttribute('fill', item.color);
                path.setAttribute('stroke', '#fff');
                path.setAttribute('stroke-width', '2');
                path.setAttribute('opacity', '0.9');
                svg.appendChild(path);
                
                // ç™¾åˆ†æ¯”æ¨™ç±¤
                const labelAngle = currentAngle + sliceAngle / 2;
                const labelRadius = radius * 0.7;
                const labelX = centerX + labelRadius * Math.cos(labelAngle);
                const labelY = centerY + labelRadius * Math.sin(labelAngle);
                
                const labelText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                labelText.setAttribute('x', labelX);
                labelText.setAttribute('y', labelY + 4);
                labelText.setAttribute('text-anchor', 'middle');
                labelText.setAttribute('font-size', '14');
                labelText.setAttribute('font-weight', 'bold');
                labelText.setAttribute('fill', '#fff');
                labelText.textContent = `${item.value}%`;
                svg.appendChild(labelText);
                
                currentAngle = endAngle;
            });
            
            // ä¸­å¿ƒæ¨™é¡Œ
            const titleText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            titleText.setAttribute('x', centerX);
            titleText.setAttribute('y', centerY - 5);
            titleText.setAttribute('text-anchor', 'middle');
            titleText.setAttribute('font-size', '16');
            titleText.setAttribute('font-weight', 'bold');
            titleText.setAttribute('fill', '#2c3e50');
            titleText.textContent = 'çµç®—æ•ˆç‡';
            svg.appendChild(titleText);
            
            const subtitleText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            subtitleText.setAttribute('x', centerX);
            subtitleText.setAttribute('y', centerY + 15);
            subtitleText.setAttribute('text-anchor', 'middle');
            subtitleText.setAttribute('font-size', '12');
            subtitleText.setAttribute('fill', '#6c757d');
            subtitleText.textContent = 'åˆ†å¸ƒåœ–';
            svg.appendChild(subtitleText);
        }
        
        // é¢¨éšªåˆ†æå…§å®¹
        function loadRiskAnalysisContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg) {
            contentDiv.innerHTML = `
                <div class="detail-section">
                    <h2>âš ï¸ çµ±ä¸€é›†åœ˜ç©©å®šå¹£é¢¨éšªç¯€é»åˆ†æ</h2>
                    <div class="detail-card">
                        <h4>ğŸ”´ é«˜é¢¨éšªç¯€é»ï¼ˆç´…è‰²å¤–åœˆï¼‰</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffebee, #ffcdd2); border-left: 4px solid #e74c3c;">
                                <div class="kpi-value" style="color: #c62828;">ğŸŒ è·¨å¢ƒæ”¯ä»˜</div>
                                <div class="kpi-label">æ³•è¦ä¸ç¢ºå®š</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">æ±å—äºåœ‹å®¶å°ç©©å®šå¹£æ”¿ç­–å°šä¸ç©©å®šï¼Œç›£ç®¡é™åˆ¶å°‡å½±éŸ¿è³‡é‡‘èª¿åº¦</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffebee, #ffcdd2); border-left: 4px solid #e74c3c;">
                                <div class="kpi-value" style="color: #c62828;">ğŸ—ï¸ æµ·å¤–ä¾›æ‡‰éˆ</div>
                                <div class="kpi-label">åŒ¯ç‡æ³¢å‹•</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">æµ·å¤–åŸæ–™æ¡è³¼åŠé£Ÿå“é€²å£æ¶‰åŠåŒ¯ç‡æ³¢å‹•èˆ‡æ³•è¦è®Šå‹•</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffebee, #ffcdd2); border-left: 4px solid #e74c3c;">
                                <div class="kpi-value" style="color: #c62828;">ğŸ¢ å»ºè¨­èˆ‡å¤§å‹RWA</div>
                                <div class="kpi-label">æµå‹•æ€§é¢¨éšª</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">é•·æœŸå€Ÿè²¸èˆ‡é«˜é¡æ”¯ä»˜ï¼Œæˆ¿åœ°ç”¢æˆ–åŸºå»ºå¸‚å ´ä¸æ™¯æ°£å½±éŸ¿</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸŸ  ä¸­é¢¨éšªç¯€é»ï¼ˆæ©™è‰²ä¸­åœˆï¼‰</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 4px solid #ff9800;">
                                <div class="kpi-value" style="color: #e65100;">ğŸ’¹ äº¤æ˜“æ‰€èˆ‡DeFi</div>
                                <div class="kpi-label">æµå‹•æ€§æ³¢å‹•</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">æ¶‰åŠæµå‹•æ€§èˆ‡å¸‚å ´æ³¢å‹•ï¼Œéœ€å®Œå–„ç›£ç†è¦ç¯„</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 4px solid #ff9800;">
                                <div class="kpi-value" style="color: #e65100;">ğŸ’ RWAæŠµæŠ¼</div>
                                <div class="kpi-label">å¸‚å ´é¢¨éšª</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">å‚µåˆ¸ä¸Šéˆèˆ‡æŠµæŠ¼è³‡ç”¢æ¶‰åŠå¸‚å ´æ³¢å‹•</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 4px solid #ff9800;">
                                <div class="kpi-value" style="color: #e65100;">ğŸ’° è³‡é‡‘æ± é‹ç”¨</div>
                                <div class="kpi-label">åˆ©ç‡æ³¢å‹•</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">å„²å‚™é…ç½®æ¯”ä¾‹å¤±è¡¡æˆ–å¸‚å ´åˆ©ç‡åŠ‡çƒˆæ³¢å‹•</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff3e0, #ffcc80); border-left: 4px solid #ff9800;">
                                <div class="kpi-value" style="color: #e65100;">ğŸŒŸ å“ç‰ŒToken</div>
                                <div class="kpi-label">è²è­½é¢¨éšª</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">ä½œç‚ºå¤§å‹é›¶å”®å“ç‰Œï¼Œä»»ä½•æ”¯ä»˜æ•…éšœå°‡ç›´æ¥å½±éŸ¿å“ç‰Œä¿¡ä»»</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸŸ¢ ä½é¢¨éšªç¯€é»ï¼ˆç¶ è‰²å…§åœˆï¼‰</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 4px solid #4caf50;">
                                <div class="kpi-value" style="color: #2e7d32;">ğŸ’µ TWDTç©©å®šå¹£</div>
                                <div class="kpi-label">é¢¨éšªæ¥µä½</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">100%-110%ç¾é‡‘åŠçŸ­å‚µå„²å‚™ï¼Œå„²å‚™åˆ†æ•£å¤šå®¶éŠ€è¡Œã€å®šæœŸå¯©è¨ˆ</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 4px solid #4caf50;">
                                <div class="kpi-value" style="color: #2e7d32;">ğŸ”— è¯ç›Ÿéˆæ¸…ç®—</div>
                                <div class="kpi-label">æŠ€è¡“ç©©å®š</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">ä»¥è¯ç›Ÿéˆç‚ºä¸»è¦çµç®—å±¤ï¼ŒæŠ€è¡“é¢¨éšªæ¥µä½</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 4px solid #4caf50;">
                                <div class="kpi-value" style="color: #2e7d32;">ğŸª 7-ELEVEN</div>
                                <div class="kpi-label">å ´æ™¯ç©©å›º</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">ç¾æœ‰é›¶å”®é€šè·¯ç©©å®šï¼Œå—å¤–éƒ¨æ³¢å‹•å½±éŸ¿æœ‰é™</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f5e8, #c8e6c9); border-left: 4px solid #4caf50;">
                                <div class="kpi-value" style="color: #2e7d32;">ğŸ¤ åˆä½œå¤¥ä¼´</div>
                                <div class="kpi-label">é¢¨éšªåˆ†æ•£</div>
                                <div style="font-size: 11px; color: #666; margin-top: 5px;">å¤šæ•¸åˆä½œåƒ…é™æ–¼æ”¯ä»˜æˆ–å ´æ™¯æ¥å…¥ï¼Œçµ±ä¸€æŒæ§ä¸»è¦æ¸…ç®—</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ” é¢¨éšªæè¿°è£œå……</h4>
                        <ul style="font-size: 14px; line-height: 1.8;">
                            <li><strong style="color: #e74c3c;">ğŸ¦ ç›£ç†é¢¨éšª</strong>ï¼šåˆè¦ä»éœ€ä¾è³´é‡‘ç®¡æœƒèˆ‡å¤®è¡Œæ…‹åº¦ï¼Œç‰¹åˆ¥æ˜¯åœ¨å°é¡ä¿¡è²¸ã€ä¾›æ‡‰éˆèè³‡æ¨¡çµ„</li>
                            <li><strong style="color: #ff9800;">ğŸ”§ æŠ€è¡“é¢¨éšª</strong>ï¼šè·¨éˆæ©‹ä»æ˜¯æ½›åœ¨æ”»æ“Šç›®æ¨™ï¼Œéœ€å¼•å…¥ç¬¬ä¸‰æ–¹å®‰å…¨å¯©è¨ˆåŠå¤šç°½ç®¡ç†</li>
                            <li><strong style="color: #f44336;">ğŸ¢ è²è­½é¢¨éšª</strong>ï¼šä½œç‚ºå¤§å‹é›¶å”®å“ç‰Œï¼Œä»»ä½•æ”¯ä»˜æ•…éšœã€è³‡é‡‘å»¶é²éƒ½æœƒç›´æ¥å½±éŸ¿å“ç‰Œä¿¡ä»»</li>
                        </ul>
                    </div>
                </div>
            `;
            
            summaryDiv.innerHTML = `
                <p><strong>é«˜é¢¨éšªç¯€é»ï¼š</strong>3å€‹</p>
                <p><strong>ä¸»è¦é¢¨éšªï¼š</strong>æ³•è¦ä¸ç¢ºå®š</p>
                <p><strong>æ ¸å¿ƒé¢¨éšªï¼š</strong>ç›£ç†è²è­½æŠ€è¡“</p>
                <p><strong>é¢¨éšªç·©è§£ï¼š</strong>åˆ†æ•£å„²å‚™å¤šå…ƒåˆè¦</p>
            `;
            
            metricsDiv.innerHTML = `
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value">3å±¤</div>
                        <div class="kpi-label">é¢¨éšªåˆ†å±¤ç­–ç•¥</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value">100~110%</div>
                        <div class="kpi-label">å„²å‚™ä¿éšœç‡</div>
                    </div>
                </div>
            `;
            
            renderAnalysisEcosystem(ecosystemSvg, 'risk-analysis');
        }
        
        
        // æŠ€è¡“åŸºç¤è¨­æ–½åˆ†æå…§å®¹
        function loadTechInfrastructureContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg) {
            contentDiv.innerHTML = `
                <div class="detail-section">
                    <h2>âš™ï¸ åŸºç¤è¨­æ–½èƒ½åŠ›è©•ä¼°</h2>
                    <!-- é›™æ¬„ä½ˆå±€ï¼šå·¦å´æŠ€è¡“æ£§çµæ§‹åœ– + å³å´å„ªå…ˆæ’åºçŸ©é™£åœ– -->
                    <div style="display: flex; gap: 30px; margin-bottom: 30px;">
                        <!-- å·¦å´ï¼šæŠ€è¡“æ£§çµæ§‹åœ– -->
                        <div style="flex: 1; min-width: 0;">
                            <div class="detail-card">
                                <h4>ğŸ—ï¸ ç³»çµ±æ¶æ§‹æ¦‚è¦½</h4>
                                <div style="position: relative; height: 500px; border: 1px solid #ddd; border-radius: 8px; background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);">
                                    <svg id="tech-stack-svg" width="100%" height="100%" viewBox="0 0 400 500"></svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å³å´ï¼šå„ªå…ˆæ’åºçŸ©é™£åœ– -->
                        <div style="flex: 1; min-width: 0;">
                            <div class="detail-card">
                                <h4>ğŸ¯ éƒ¨ç½²å„ªå…ˆåº¦çŸ©é™£</h4>
                                <div style="position: relative; height: 500px; border: 1px solid #ddd; border-radius: 8px; background: #fff;">
                                    <svg id="priority-matrix-svg" width="100%" height="100%" viewBox="0 0 400 400"></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- çµè«–æ€§å»ºè­° -->
                    <div class="detail-card">
                        <h4>ğŸ“ çµè«–æ€§å»ºè­°</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item recommendation-high" data-priority="high" style="background: linear-gradient(135deg, #d4edda, #c3e6cb); border-left: 4px solid #28a745; cursor: pointer;">
                                <div class="kpi-value" style="color: #155724; font-weight: bold;">å„ªå…ˆéƒ¨ç½²</div>
                                <div class="kpi-label" style="font-weight: bold; margin-bottom: 8px;">é›¶å”®ç¶²è·¯ã€é£Ÿå“ä¾›æ‡‰éˆã€RWA</div>
                                <div style="font-size: 12px; color: #666;">
                                    <div>âœ“ <strong>é›¶å”®ç¶²è·¯</strong>ï¼šå³°å€¼TPS 1,500 | æˆ°ç•¥å½±éŸ¿åŠ› 90%</div>
                                    <div>âœ“ <strong>é£Ÿå“ä¾›æ‡‰éˆ</strong>ï¼šå³°å€¼TPS 800 | æˆ°ç•¥å½±éŸ¿åŠ› 85%</div>
                                    <div>âœ“ <strong>RWA</strong>ï¼šå³°å€¼TPS 500 | æˆ°ç•¥å½±éŸ¿åŠ› 75%</div>
                                </div>
                                <div style="font-size: 11px; color: #155724; margin-top: 8px; font-weight: bold;">
                                    ğŸ“Š é«˜å³°å€¼TPSéœ€æ±‚ã€é«˜æˆ°ç•¥å½±éŸ¿åŠ›ã€éƒ¨ç½²æ•ˆç›Šæ˜ç¢º
                                </div>
                            </div>
                            <div class="kpi-item recommendation-medium" data-priority="medium" style="background: linear-gradient(135deg, #f8d7da, #f5c6cb); border-left: 4px solid #dc3545; cursor: pointer;">
                                <div class="kpi-value" style="color: #721c24; font-weight: bold;">ç›£ç®¡é‡é»</div>
                                <div class="kpi-label" style="font-weight: bold; margin-bottom: 8px;">RWAã€å…¬æœ‰éˆè³‡ç”¢ç®¡ç†</div>
                                <div style="font-size: 12px; color: #666;">
                                    <div>âš ï¸ <strong>RWAè³‡ç”¢ä»£å¹£åŒ–</strong>ï¼šæ³•è¦å¯©æŸ¥åš´æ ¼</div>
                                    <div>âš ï¸ <strong>å…¬æœ‰éˆè³‡ç”¢ç®¡ç†</strong>ï¼šç›£ç®¡æ¡†æ¶å¾…æ˜ç¢º</div>
                                    <div>âš ï¸ <strong>è·¨å¢ƒåˆè¦</strong>ï¼šDID/Travel Rule è¦æ±‚</div>
                                </div>
                                <div style="font-size: 11px; color: #721c24; margin-top: 8px; font-weight: bold;">
                                    ğŸ” æ³•è¦è¦æ±‚é«˜ã€éœ€èˆ‡ç›£ç®¡æ©Ÿé—œå¯†åˆ‡é…åˆ
                                </div>
                            </div>
                            <div class="kpi-item recommendation-low" data-priority="low" style="background: linear-gradient(135deg, #e2e3e5, #d6d8db); border-left: 4px solid #6c757d; cursor: pointer;">
                                <div class="kpi-value" style="color: #495057; font-weight: bold;">å»¶å¾Œå„ªåŒ–</div>
                                <div class="kpi-label" style="font-weight: bold; margin-bottom: 8px;">äº¤æ˜“å ´åŸŸã€æµ·å¤–ä¾›æ‡‰éˆ</div>
                                <div style="font-size: 12px; color: #666;">
                                    <div>â³ <strong>äº¤æ˜“å ´åŸŸ</strong>ï¼šå³°å€¼TPS 1,000 | æˆ°ç•¥å½±éŸ¿åŠ› 55%</div>
                                    <div>â³ <strong>æµ·å¤–ä¾›æ‡‰éˆ</strong>ï¼šå³°å€¼TPS 200 | æˆ°ç•¥å½±éŸ¿åŠ› 35%</div>
                                    <div>â³ <strong>è·¨å¢ƒæ”¯ä»˜</strong>ï¼šå³°å€¼TPS 300 | æˆ°ç•¥å½±éŸ¿åŠ› 45%</div>
                                </div>
                                <div style="font-size: 11px; color: #495057; margin-top: 8px; font-weight: bold;">
                                    â° æŠ€è¡“æˆç†Ÿå¾Œå†æ¨é€²ï¼Œè³‡æºå„ªå…ˆæŠ•å…¥æ ¸å¿ƒæ¥­å‹™
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            summaryDiv.innerHTML = `
                <p><strong>ä¸»è¦æ¶æ§‹ï¼š</strong>è¯ç›Ÿéˆ+å…¬æœ‰éˆ+æ··åˆéˆ</p>
                <p><strong>æœ€é«˜TPSéœ€æ±‚ï¼š</strong>1,500</p>
                <p><strong>å„ªå…ˆéƒ¨ç½²ï¼š</strong>3å€‹æ ¸å¿ƒæ¨¡çµ„</p>
                <p><strong>ç›£ç®¡é‡é»ï¼š</strong>RWAèˆ‡è·¨å¢ƒåˆè¦</p>
            `;
            
            metricsDiv.innerHTML = `
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value">99.99%</div>
                        <div class="kpi-label">æœ€é«˜SLAè¦æ±‚</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value">1,500</div>
                        <div class="kpi-label">æœ€é«˜TPSéœ€æ±‚</div>
                    </div>
                </div>
            `;
            
            // æ¸²æŸ“æŠ€è¡“æ£§çµæ§‹åœ–
            renderTechStack();
            
            // æ¸²æŸ“å„ªå…ˆæ’åºçŸ©é™£åœ–
            renderPriorityMatrix();
            
            // ç§»é™¤åº•éƒ¨ç’°å‹é¢¨éšªåˆ†å±¤åœ–ï¼Œä¸å†èª¿ç”¨ renderAnalysisEcosystem
            
            // æ·»åŠ äº’å‹•åŠŸèƒ½ï¼šé»æ“Šçµè«–å€å¡Šé«˜äº®å°æ‡‰ç¯€é»
            setTimeout(() => {
                const recommendationItems = document.querySelectorAll('.recommendation-high, .recommendation-medium, .recommendation-low');
                
                recommendationItems.forEach(item => {
                    item.addEventListener('click', function() {
                        const priority = this.getAttribute('data-priority');
                        highlightTechInfrastructureNodes(priority);
                    });
                });
            }, 100);
        }
        
        // é«˜äº®æŠ€è¡“åŸºç¤è¨­æ–½ç¯€é»
        function highlightTechInfrastructureNodes(priority) {
            // é‡ç½®æ‰€æœ‰é«˜äº®
            const techStackSvg = document.getElementById('tech-stack-svg');
            const priorityMatrixSvg = document.getElementById('priority-matrix-svg');
            
            if (techStackSvg) {
                // é‡ç½®æŠ€è¡“æ£§åœ–ä¸­çš„é«˜äº®
                const allCircles = techStackSvg.querySelectorAll('circle');
                allCircles.forEach(circle => {
                    circle.style.filter = '';
                    circle.style.strokeWidth = circle.getAttribute('stroke-width') || '2';
                });
                
                // æ ¹æ“šå„ªå…ˆç´šé«˜äº®å°æ‡‰ç¯€é»
                if (priority === 'high') {
                    // é«˜äº®é›¶å”®ç¶²è·¯ã€é£Ÿå“ä¾›æ‡‰éˆã€RWA
                    const highPriorityNodes = ['é›¶å”®ç¶²è·¯', 'é£Ÿå“ä¾›æ‡‰éˆ', 'RWAï¼ˆå¯¦ç‰©è³‡ç”¢ä»£å¹£åŒ–ï¼‰'];
                    allCircles.forEach(circle => {
                        const nextSibling = circle.nextSibling;
                        if (nextSibling && nextSibling.tagName === 'rect') {
                            const textElement = nextSibling.nextSibling;
                            if (textElement && highPriorityNodes.includes(textElement.textContent)) {
                                circle.style.filter = 'drop-shadow(0 0 10px #28a745)';
                                circle.style.strokeWidth = '4';
                            }
                        }
                    });
                } else if (priority === 'low') {
                    // é«˜äº®äº¤æ˜“å ´åŸŸã€æµ·å¤–ä¾›æ‡‰éˆã€è·¨å¢ƒæ”¯ä»˜
                    const lowPriorityNodes = ['äº¤æ˜“å ´åŸŸ', 'æµ·å¤–ä¾›æ‡‰éˆ', 'è·¨å¢ƒæ”¯ä»˜'];
                    allCircles.forEach(circle => {
                        const nextSibling = circle.nextSibling;
                        if (nextSibling && nextSibling.tagName === 'rect') {
                            const textElement = nextSibling.nextSibling;
                            if (textElement && lowPriorityNodes.includes(textElement.textContent)) {
                                circle.style.filter = 'drop-shadow(0 0 10px #6c757d)';
                                circle.style.strokeWidth = '4';
                            }
                        }
                    });
                }
            }
            
            if (priorityMatrixSvg) {
                // é‡ç½®çŸ©é™£åœ–ä¸­çš„é«˜äº®
                const allBubbles = priorityMatrixSvg.querySelectorAll('circle');
                allBubbles.forEach(bubble => {
                    bubble.style.filter = '';
                    bubble.style.strokeWidth = bubble.getAttribute('stroke-width') || '2';
                });
                
                // æ ¹æ“šå„ªå…ˆç´šé«˜äº®å°æ‡‰æ°£æ³¡
                const modulesByPriority = {
                    'high': ['é›¶å”®ç¶²è·¯', 'é£Ÿå“ä¾›æ‡‰éˆ', 'RWA'],
                    'medium': ['äº¤æ˜“å ´åŸŸ'],
                    'low': ['è·¨å¢ƒæ”¯ä»˜', 'æµ·å¤–ä¾›æ‡‰éˆ']
                };
                
                if (modulesByPriority[priority]) {
                    // æŸ¥æ‰¾ä¸¦é«˜äº®å°æ‡‰çš„æ°£æ³¡
                    const labels = priorityMatrixSvg.querySelectorAll('text');
                    labels.forEach(label => {
                        if (modulesByPriority[priority].includes(label.textContent)) {
                            // æ‰¾åˆ°å°æ‡‰çš„æ°£æ³¡ï¼ˆå‰ä¸€å€‹circleå…ƒç´ ï¼‰
                            const bubble = label.previousSibling?.previousSibling;
                            if (bubble && bubble.tagName === 'circle') {
                                const glowColor = priority === 'high' ? '#28a745' : priority === 'medium' ? '#ffc107' : '#6c757d';
                                bubble.style.filter = `drop-shadow(0 0 15px ${glowColor})`;
                                bubble.style.strokeWidth = '4';
                            }
                        }
                    });
                }
            }
        }
        
        
        // æŠ€è¡“æ¶æ§‹çŸ©é™£å…§å®¹
        function loadTechMatrixContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg) {
            contentDiv.innerHTML = `
                <div class="detail-section">
                    <h2>âš™ï¸ æŠ€è¡“æ¶æ§‹éœ€æ±‚çŸ©é™£è©³ç´°åˆ†æ</h2>
                    <div class="detail-card">
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; font-size: 14px; border-collapse: collapse; margin-bottom: 20px;">
                                <thead>
                                    <tr style="background: #34495e; color: white;">
                                        <th style="padding: 12px; text-align: left;">æ¥­å‹™å–®ä½</th>
                                        <th style="padding: 12px;">éˆé¡å‹</th>
                                        <th style="padding: 12px;">TPSéœ€æ±‚</th>
                                        <th style="padding: 12px;">SLAè¦æ±‚</th>
                                        <th style="padding: 12px;">å»¶é²è¦æ±‚</th>
                                        <th style="padding: 12px;">å»ºè¨­å„ªå…ˆç´š</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="background: #d4edda;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸª é›¶å”®é€šè·¯</td>
                                        <td style="padding: 10px;"><span style="background: #3498DB; color: white; padding: 2px 6px; border-radius: 4px;">è¯ç›Ÿéˆ</span></td>
                                        <td style="padding: 10px;">1,500-2,000</td>
                                        <td style="padding: 10px;">99.9%</td>
                                        <td style="padding: 10px;">&lt;1ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #27AE60;">ğŸš€ éœ€å„ªå…ˆå»ºè¨­</td>
                                    </tr>
                                    <tr style="background: #d4edda;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸ é£Ÿå“ä¾›æ‡‰éˆ</td>
                                        <td style="padding: 10px;"><span style="background: #3498DB; color: white; padding: 2px 6px; border-radius: 4px;">è¯ç›Ÿéˆ</span></td>
                                        <td style="padding: 10px;">500-1,000</td>
                                        <td style="padding: 10px;">99.9%</td>
                                        <td style="padding: 10px;">&lt;3ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #27AE60;">ğŸš€ éœ€å„ªå…ˆå»ºè¨­</td>
                                    </tr>
                                    <tr style="background: #fff3cd;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸ—ï¸ å»ºè¨­</td>
                                        <td style="padding: 10px;"><span style="background: #9B59B6; color: white; padding: 2px 6px; border-radius: 4px;">æ··åˆéˆ</span></td>
                                        <td style="padding: 10px;">100-500</td>
                                        <td style="padding: 10px;">99.95%</td>
                                        <td style="padding: 10px;">&lt;5ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #27AE60;">ğŸš€ éœ€å„ªå…ˆå»ºè¨­</td>
                                    </tr>
                                    <tr style="background: #fff3cd;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸ’ RWA</td>
                                        <td style="padding: 10px;"><span style="background: #2ECC71; color: white; padding: 2px 6px; border-radius: 4px;">å…¬æœ‰éˆ</span></td>
                                        <td style="padding: 10px;">200-1,000</td>
                                        <td style="padding: 10px;">99.99%</td>
                                        <td style="padding: 10px;">&lt;10ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #27AE60;">ğŸš€ éœ€å„ªå…ˆå»ºè¨­</td>
                                    </tr>
                                    <tr style="background: #fff3cd;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸ“ˆ äº¤æ˜“æ‰€</td>
                                        <td style="padding: 10px;"><span style="background: #2ECC71; color: white; padding: 2px 6px; border-radius: 4px;">å…¬æœ‰éˆ+è·¨éˆæ©‹</span></td>
                                        <td style="padding: 10px;">1,000-5,000</td>
                                        <td style="padding: 10px;">99.99%</td>
                                        <td style="padding: 10px;">&lt;2ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #27AE60;">ğŸš€ éœ€å„ªå…ˆå»ºè¨­</td>
                                    </tr>
                                    <tr style="background: #f8d7da;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸŒ è·¨å¢ƒè²¿æ˜“</td>
                                        <td style="padding: 10px;"><span style="background: #2ECC71; color: white; padding: 2px 6px; border-radius: 4px;">å…¬æœ‰éˆ+è·¨éˆæ©‹</span></td>
                                        <td style="padding: 10px;">500-1,000</td>
                                        <td style="padding: 10px;">99.9%</td>
                                        <td style="padding: 10px;">&lt;5ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #E67E22;">ğŸ›¡ï¸ ç›£ç®¡å„ªå…ˆé—œæ³¨</td>
                                    </tr>
                                    <tr style="background: #e2e3e5;">
                                        <td style="padding: 10px; font-weight: bold;">ğŸ”§ å…¶ä»–æ¥­å‹™</td>
                                        <td style="padding: 10px;"><span style="background: #3498DB; color: white; padding: 2px 6px; border-radius: 4px;">è¯ç›Ÿéˆ</span></td>
                                        <td style="padding: 10px;">100-300</td>
                                        <td style="padding: 10px;">99.5%</td>
                                        <td style="padding: 10px;">&lt;10ç§’</td>
                                        <td style="padding: 10px; font-weight: bold; color: #95A5A6;">ğŸ“Š å¯å»¶å¾Œå„ªåŒ–</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ—ï¸ æŠ€è¡“æ¶æ§‹å»ºè¨­ç­–ç•¥</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ebf3fd, #3498DB); color: white;">
                                <div class="kpi-value">è¯ç›Ÿéˆ</div>
                                <div class="kpi-label">é›¶å”®+é£Ÿå“+å…¶ä»–</div>
                                <div style="font-size: 11px; margin-top: 5px;">ğŸ”’ é«˜æ€§èƒ½+æ§åˆ¶æ¬Š</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f8f5, #2ECC71); color: white;">
                                <div class="kpi-value">å…¬æœ‰éˆ</div>
                                <div class="kpi-label">RWA+äº¤æ˜“æ‰€+è·¨å¢ƒ</div>
                                <div style="font-size: 11px; margin-top: 5px;">ğŸŒ é€æ˜åº¦+äº’æ“ä½œæ€§</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #f4f1fb, #9B59B6); color: white;">
                                <div class="kpi-value">æ··åˆæ¶æ§‹</div>
                                <div class="kpi-label">å»ºè¨­æ¥­å‹™</div>
                                <div style="font-size: 11px; margin-top: 5px;">âš–ï¸ å½ˆæ€§éƒ¨ç½²</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff9db, #F39C12); color: white;">
                                <div class="kpi-value">è·¨éˆæ©‹</div>
                                <div class="kpi-label">åœ‹éš›é€£é€š</div>
                                <div style="font-size: 11px; margin-top: 5px;">ğŸŒ‰ è·¨å¢ƒäº’é€š</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ“ˆ æŠ€è¡“å»ºè¨­å„ªå…ˆç´šåˆ†æ</h4>
                        <ul style="font-size: 16px; line-height: 1.8;">
                            <li><strong style="color: #27AE60;">ğŸš€ ç¬¬ä¸€å„ªå…ˆ</strong>ï¼šé›¶å”®ã€é£Ÿå“ã€å»ºè¨­ã€RWAã€äº¤æ˜“æ‰€ â†’ æ ¸å¿ƒæ¥­å‹™æ”¯æ’</li>
                            <li><strong style="color: #E67E22;">ğŸ›¡ï¸ ç›£ç®¡é—œæ³¨</strong>ï¼šè·¨å¢ƒè²¿æ˜“ â†’ åˆè¦è¦æ±‚å„ªå…ˆè€ƒé‡</li>
                            <li><strong style="color: #95A5A6;">ğŸ“Š å»¶å¾Œå„ªåŒ–</strong>ï¼šå…¶ä»–æ¥­å‹™ â†’ è³‡æºæŠ•å…¥æœ€å°åŒ–</li>
                            <li><strong style="color: #3498DB;">ğŸ”§ ç‰¹æ®Šéœ€æ±‚</strong>ï¼šé«˜é »äº¤æ˜“ã€å³æ™‚çµç®—ã€ä½å»¶é²è¦æ±‚</li>
                        </ul>
                    </div>
                </div>
            `;
            
            summaryDiv.innerHTML = `
                <p><strong>æ¶æ§‹é¡å‹ï¼š</strong>æ··åˆéƒ¨ç½²</p>
                <p><strong>æœ€é«˜TPSï¼š</strong>5,000</p>
                <p><strong>æœ€é«˜SLAï¼š</strong>99.99%</p>
                <p><strong>å„ªå…ˆå»ºè¨­ï¼š</strong>5å€‹æ¥­å‹™</p>
            `;
            
            metricsDiv.innerHTML = `
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value">3ç¨®</div>
                        <div class="kpi-label">éˆæ¶æ§‹é¡å‹</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value">5,000</div>
                        <div class="kpi-label">æœ€é«˜TPSéœ€æ±‚</div>
                    </div>
                </div>
            `;
            
            renderAnalysisEcosystem(ecosystemSvg, 'tech-infrastructure');
        }
        
        // æ¸²æŸ“ç’°å½¢é¢¨éšªåˆ†æåœ–
        function renderRingRiskAnalysis(mainGroup) {
            const centerX = 600;  // èª¿æ•´ä¸­å¿ƒXä½ç½®ï¼Œçµ¦å·¦å´åœ–ä¾‹æ›´å¤šç©ºé–“
            const centerY = 550;  // èª¿æ•´ä¸­å¿ƒYä½ç½®ï¼Œçµ¦é ‚éƒ¨æ›´å¤šç©ºé–“
            
            // å®šç¾©ä¸‰å±¤é¢¨éšªç¯€é» (1.5å€æ”¾å¤§)
            const riskLayers = {
                low: {
                    radius: 180,  // 120 * 1.5
                    color: '#4caf50',
                    nodes: [
                        { name: 'TWDT', label: 'ç©©å®šå¹£æ ¸å¿ƒ', angle: 0, risk: 'é¢¨éšªæ¥µä½', icon: 'ğŸ’µ' },
                        { name: 'è¯ç›Ÿéˆ', label: 'æ¸…ç®—åŸºç¤', angle: 90, risk: 'æŠ€è¡“ç©©å®š', icon: 'ğŸ”—' },
                        { name: '7-ELEVEN', label: 'é›¶å”®é€šè·¯', angle: 180, risk: 'å ´æ™¯ç©©å›º', icon: 'ğŸª' },
                        { name: 'åˆä½œå¤¥ä¼´', label: 'é¢¨éšªåˆ†æ•£', angle: 270, risk: 'ç›£ç®¡åˆè¦', icon: 'ğŸ¤' }
                    ]
                },
                medium: {
                    radius: 330,  // 220 * 1.5
                    color: '#ff9800',
                    nodes: [
                        { name: 'äº¤æ˜“æ‰€', label: 'DeFiæ¨¡çµ„', angle: 30, risk: 'æµå‹•æ€§æ³¢å‹•', icon: 'ğŸ’¹' },
                        { name: 'RWA', label: 'è³‡ç”¢æŠµæŠ¼', angle: 120, risk: 'å¸‚å ´é¢¨éšª', icon: 'ğŸ’' },
                        { name: 'è³‡é‡‘æ± ', label: 'åˆ©å·®æ”¶ç›Š', angle: 210, risk: 'åˆ©ç‡æ³¢å‹•', icon: 'ğŸ’°' },
                        { name: 'å“ç‰ŒToken', label: 'è²è­½ç®¡ç†', angle: 300, risk: 'å“ç‰Œä¿¡ä»»', icon: 'ğŸŒŸ' }
                    ]
                },
                high: {
                    radius: 480,  // 320 * 1.5
                    color: '#e74c3c',
                    nodes: [
                        { name: 'è·¨å¢ƒæ”¯ä»˜', label: 'æ³•è¦ä¸ç¢ºå®š', angle: 45, risk: 'æ”¿ç­–è®Šå‹•', icon: 'ğŸŒ' },
                        { name: 'æµ·å¤–ä¾›æ‡‰éˆ', label: 'åŒ¯ç‡æ³¢å‹•', angle: 135, risk: 'å¤–åŒ¯é¢¨éšª', icon: 'ğŸ—ï¸' },
                        { name: 'å¤§å‹RWA', label: 'æµå‹•æ€§é¢¨éšª', angle: 225, risk: 'å¸‚å ´ä¸æ™¯æ°£', icon: 'ğŸ¢' }
                    ]
                }
            };
            
            // ç¹ªè£½èƒŒæ™¯åœ“åœˆ
            Object.entries(riskLayers).forEach(([level, layer]) => {
                const bgCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                bgCircle.setAttribute('cx', centerX);
                bgCircle.setAttribute('cy', centerY);
                bgCircle.setAttribute('r', layer.radius);
                bgCircle.setAttribute('fill', 'none');
                bgCircle.setAttribute('stroke', layer.color);
                bgCircle.setAttribute('stroke-width', '2');
                bgCircle.setAttribute('stroke-dasharray', level === 'high' ? '10,5' : level === 'medium' ? '5,3' : 'none');
                bgCircle.setAttribute('opacity', '0.3');
                mainGroup.appendChild(bgCircle);
            });
            
            // ç¹ªè£½ä¸­å¿ƒæ¨™ç±¤
            const centerGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            const centerCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            centerCircle.setAttribute('cx', centerX);
            centerCircle.setAttribute('cy', centerY);
            centerCircle.setAttribute('r', '75');  // 50 * 1.5
            centerCircle.setAttribute('fill', '#667eea');
            centerCircle.setAttribute('stroke', '#fff');
            centerCircle.setAttribute('stroke-width', '3');
            centerGroup.appendChild(centerCircle);
            
            const centerText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            centerText.setAttribute('x', centerX);
            centerText.setAttribute('y', centerY - 5);
            centerText.setAttribute('text-anchor', 'middle');
            centerText.setAttribute('fill', 'white');
            centerText.setAttribute('font-size', '21');  // 14 * 1.5
            centerText.setAttribute('font-weight', 'bold');
            centerText.textContent = 'çµ±ä¸€';
            centerGroup.appendChild(centerText);
            
            const centerSubText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            centerSubText.setAttribute('x', centerX);
            centerSubText.setAttribute('y', centerY + 10);
            centerSubText.setAttribute('text-anchor', 'middle');
            centerSubText.setAttribute('fill', 'white');
            centerSubText.setAttribute('font-size', '18');  // 12 * 1.5
            centerSubText.textContent = 'ç”Ÿæ…‹åœˆ';
            centerGroup.appendChild(centerSubText);
            
            mainGroup.appendChild(centerGroup);
            
            // ç¹ªè£½å„å±¤ç¯€é»
            Object.entries(riskLayers).forEach(([level, layer]) => {
                layer.nodes.forEach((node, index) => {
                    const nodeGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                    
                    // è¨ˆç®—ç¯€é»ä½ç½®
                    const angleRad = (node.angle * Math.PI) / 180;
                    const nodeX = centerX + layer.radius * Math.cos(angleRad);
                    const nodeY = centerY + layer.radius * Math.sin(angleRad);
                    
                    // ç¯€é»å¤§å°ä¾é¢¨éšªå±¤ç´šèª¿æ•´ (1.5å€æ”¾å¤§)
                    const nodeSize = level === 'high' ? 67.5 : level === 'medium' ? 60 : 52.5;  // 45*1.5, 40*1.5, 35*1.5
                    
                    // ç¹ªè£½ç¯€é»èƒŒæ™¯
                    const nodeCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    nodeCircle.setAttribute('cx', nodeX);
                    nodeCircle.setAttribute('cy', nodeY);
                    nodeCircle.setAttribute('r', nodeSize);
                    nodeCircle.setAttribute('fill', layer.color);
                    nodeCircle.setAttribute('stroke', '#fff');
                    nodeCircle.setAttribute('stroke-width', '3');
                    nodeCircle.setAttribute('opacity', '0.8');
                    nodeGroup.appendChild(nodeCircle);
                    
                    // é¢¨éšªæŒ‡ç¤ºåœˆ
                    const riskRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    riskRing.setAttribute('cx', nodeX);
                    riskRing.setAttribute('cy', nodeY);
                    riskRing.setAttribute('r', nodeSize + 12);  // 8 * 1.5
                    riskRing.setAttribute('fill', 'none');
                    riskRing.setAttribute('stroke', layer.color);
                    riskRing.setAttribute('stroke-width', '2');
                    riskRing.setAttribute('stroke-dasharray', '6,3');
                    riskRing.setAttribute('opacity', '0.6');
                    nodeGroup.appendChild(riskRing);
                    
                    // ç¯€é»æ¨™é¡Œ (å‘ä¸Šç§»å‹•ï¼Œé¿å…é‡ç–Š)
                    const nodeText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    nodeText.setAttribute('x', nodeX);
                    nodeText.setAttribute('y', nodeY - 15);  // å¾-5æ”¹ç‚º-15ï¼Œå‘ä¸Šç§»å‹•æ›´å¤š
                    nodeText.setAttribute('text-anchor', 'middle');
                    nodeText.setAttribute('fill', 'white');
                    nodeText.setAttribute('font-size', '14');  // å¾16.5æ¸›å°‘åˆ°14ï¼Œé¿å…å¤ªå¤§
                    nodeText.setAttribute('font-weight', 'bold');
                    nodeText.textContent = node.name;
                    nodeGroup.appendChild(nodeText);
                    
                    // ç¯€é»åœ–æ¨™ (å‘ä¸‹ç§»å‹•ï¼Œé¿å…é‡ç–Š)
                    const iconText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    iconText.setAttribute('x', nodeX);
                    iconText.setAttribute('y', nodeY + 18);  // å¾+8æ”¹ç‚º+18ï¼Œå‘ä¸‹ç§»å‹•æ›´å¤š
                    iconText.setAttribute('text-anchor', 'middle');
                    iconText.setAttribute('font-size', '20');  // å¾24æ¸›å°‘åˆ°20ï¼Œé¿å…å¤ªå¤§
                    iconText.textContent = node.icon;
                    nodeGroup.appendChild(iconText);
                    
                    // é¢¨éšªæ¨™ç±¤ï¼ˆç¯€é»å¤–å´ï¼‰
                    const labelX = nodeX + (nodeSize + 37.5) * Math.cos(angleRad);  // 25 * 1.5
                    const labelY = nodeY + (nodeSize + 37.5) * Math.sin(angleRad);
                    
                    const riskLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    riskLabel.setAttribute('x', labelX);
                    riskLabel.setAttribute('y', labelY);
                    riskLabel.setAttribute('text-anchor', 'middle');
                    riskLabel.setAttribute('fill', layer.color);
                    riskLabel.setAttribute('font-size', '15');  // 10 * 1.5
                    riskLabel.setAttribute('font-weight', 'bold');
                    riskLabel.textContent = node.risk;
                    nodeGroup.appendChild(riskLabel);
                    
                    // é€£æ¥åˆ°ä¸­å¿ƒçš„ç·šæ¢
                    const connectionLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    connectionLine.setAttribute('x1', centerX + 75 * Math.cos(angleRad));  // 50 * 1.5
                    connectionLine.setAttribute('y1', centerY + 75 * Math.sin(angleRad));
                    connectionLine.setAttribute('x2', nodeX - nodeSize * Math.cos(angleRad));
                    connectionLine.setAttribute('y2', nodeY - nodeSize * Math.sin(angleRad));
                    connectionLine.setAttribute('stroke', layer.color);
                    connectionLine.setAttribute('stroke-width', '2');
                    connectionLine.setAttribute('opacity', '0.4');
                    connectionLine.setAttribute('stroke-dasharray', level === 'high' ? '8,4' : '4,2');
                    mainGroup.appendChild(connectionLine);
                    
                    mainGroup.appendChild(nodeGroup);
                });
            });
            
            // æ·»åŠ åœ–ä¾‹
            const legend = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            const legendData = [
                { color: '#4caf50', label: 'ä½é¢¨éšªï¼ˆç¶ è‰²å…§åœˆï¼‰', y: 480 },   // Yè»¸ä¸­é–“ä½ç½®
                { color: '#ff9800', label: 'ä¸­é¢¨éšªï¼ˆæ©™è‰²ä¸­åœˆï¼‰', y: 520 },  // Yè»¸ä¸­é–“ä½ç½®
                { color: '#e74c3c', label: 'é«˜é¢¨éšªï¼ˆç´…è‰²å¤–åœˆï¼‰', y: 560 }   // Yè»¸ä¸­é–“ä½ç½®
            ];
            
            legendData.forEach((item, index) => {
                const legendCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                legendCircle.setAttribute('cx', 50);  // ç§»åˆ°å·¦é‚Šä½†çµ¦è¶³å¤ çš„é‚Šè·
                legendCircle.setAttribute('cy', item.y);
                legendCircle.setAttribute('r', '12');  // 8 * 1.5
                legendCircle.setAttribute('fill', item.color);
                legend.appendChild(legendCircle);
                
                const legendText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                legendText.setAttribute('x', 75);  // ç·Šè²¼åœ“åœˆå³å´ï¼Œçµ¦è¶³å¤ çš„é–“è·
                legendText.setAttribute('y', item.y + 7.5);  // 5 * 1.5
                legendText.setAttribute('font-size', '18');  // 12 * 1.5
                legendText.setAttribute('fill', '#333');
                legendText.textContent = item.label;
                legend.appendChild(legendText);
            });
            
            mainGroup.appendChild(legend);
        }
        
        // æ¸²æŸ“æŠ€è¡“æ£§çµæ§‹åœ–ï¼ˆå·¦å´ï¼‰
        function renderTechStack() {
            const svg = document.getElementById('tech-stack-svg');
            if (!svg) return;
            
            svg.innerHTML = '';
            
            // æ¥­å‹™æ¨¡çµ„æ•¸æ“šï¼ˆçµ±ä¸€å¤§å°ï¼Œé‡é»ç”¨æ–‡å­—æ¨™è¨»ï¼‰
            const businessModules = [
                { name: 'é›¶å”®ç¶²è·¯', tps: 1500, radius: 28, priority: 'high', connection: 'è¯ç›Ÿéˆ', x: 80, y: 200, tpsLevel: 'é«˜TPS' },
                { name: 'é£Ÿå“ä¾›æ‡‰éˆ', tps: 800, radius: 28, priority: 'high', connection: 'è¯ç›Ÿéˆ', x: 180, y: 200, tpsLevel: 'ä¸­TPS' },
                { name: 'RWAï¼ˆå¯¦ç‰©è³‡ç”¢ä»£å¹£åŒ–ï¼‰', tps: 500, radius: 28, priority: 'high', connection: 'å…¬æœ‰éˆ', x: 280, y: 200, tpsLevel: 'ä¸­TPS' },
                { name: 'è·¨å¢ƒæ”¯ä»˜', tps: 300, radius: 28, priority: 'low', connection: 'æ··åˆéˆ', x: 120, y: 260, tpsLevel: 'ä½TPS' },
                { name: 'äº¤æ˜“å ´åŸŸ', tps: 1000, radius: 28, priority: 'low', connection: 'å…¬æœ‰éˆ', x: 220, y: 260, tpsLevel: 'é«˜TPS' },
                { name: 'æµ·å¤–ä¾›æ‡‰éˆ', tps: 200, radius: 28, priority: 'low', connection: 'æ··åˆéˆ', x: 320, y: 260, tpsLevel: 'ä½TPS' }
            ];
            
            // åŸºç¤å±¤æ•¸æ“šï¼ˆåº•éƒ¨å¯¬çŸ©å½¢ï¼‰
            const infrastructureLayers = [
                { name: 'è¯ç›Ÿéˆ', tps: '1,500-2,000', sla: '99.99%', delay: '<1ç§’', x: 50, y: 350, width: 120, color: '#28a745' },
                { name: 'å…¬æœ‰éˆ', tps: '200-1,000', sla: '99.99%', delay: '<10ç§’', x: 180, y: 350, width: 100, color: '#17a2b8' },
                { name: 'æ··åˆéˆ', tps: '100-500', sla: '99.95%', delay: '<10ç§’', x: 290, y: 350, width: 90, color: '#6f42c1' }
            ];
            
            // 1. ç¹ªè£½åŸºç¤å±¤ï¼ˆåº•éƒ¨å¯¬çŸ©å½¢ï¼‰
            infrastructureLayers.forEach(layer => {
                // åŸºç¤å±¤èƒŒæ™¯
                const layerRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                layerRect.setAttribute('x', layer.x);
                layerRect.setAttribute('y', layer.y);
                layerRect.setAttribute('width', layer.width);
                layerRect.setAttribute('height', '80');
                layerRect.setAttribute('fill', layer.color);
                layerRect.setAttribute('opacity', '0.15');
                layerRect.setAttribute('stroke', layer.color);
                layerRect.setAttribute('stroke-width', '2');
                layerRect.setAttribute('rx', '8');
                svg.appendChild(layerRect);
                
                // åŸºç¤å±¤æ¨™é¡Œ
                const layerTitle = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                layerTitle.setAttribute('x', layer.x + layer.width / 2);
                layerTitle.setAttribute('y', layer.y + 20);
                layerTitle.setAttribute('text-anchor', 'middle');
                layerTitle.setAttribute('font-size', '14');
                layerTitle.setAttribute('font-weight', 'bold');
                layerTitle.setAttribute('fill', layer.color);
                layerTitle.textContent = layer.name;
                svg.appendChild(layerTitle);
                
                // TPSæŒ‡æ¨™
                const tpsText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                tpsText.setAttribute('x', layer.x + layer.width / 2);
                tpsText.setAttribute('y', layer.y + 40);
                tpsText.setAttribute('text-anchor', 'middle');
                tpsText.setAttribute('font-size', '10');
                tpsText.setAttribute('fill', layer.color);
                tpsText.textContent = `TPS: ${layer.tps}`;
                svg.appendChild(tpsText);
                
                // SLAæŒ‡æ¨™
                const slaText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                slaText.setAttribute('x', layer.x + layer.width / 2);
                slaText.setAttribute('y', layer.y + 55);
                slaText.setAttribute('text-anchor', 'middle');
                slaText.setAttribute('font-size', '9');
                slaText.setAttribute('fill', '#666');
                slaText.textContent = `SLA: ${layer.sla}`;
                svg.appendChild(slaText);
                
                // å»¶é²æŒ‡æ¨™
                const delayText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                delayText.setAttribute('x', layer.x + layer.width / 2);
                delayText.setAttribute('y', layer.y + 70);
                delayText.setAttribute('text-anchor', 'middle');
                delayText.setAttribute('font-size', '9');
                delayText.setAttribute('fill', '#666');
                delayText.textContent = layer.delay;
                svg.appendChild(delayText);
            });
            
            // 2. ç¹ªè£½æ¥­å‹™å±¤ç¯€é»ï¼ˆä¸­é–“å±¤ï¼‰
            businessModules.forEach(module => {
                // ç¯€é»èƒŒæ™¯ï¼ˆæ ¹æ“šTPSèª¿æ•´å¤§å°ï¼‰
                const nodeCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                nodeCircle.setAttribute('cx', module.x);
                nodeCircle.setAttribute('cy', module.y);
                nodeCircle.setAttribute('r', module.radius);
                nodeCircle.setAttribute('fill', '#ffc107');
                nodeCircle.setAttribute('opacity', '0.8');
                nodeCircle.setAttribute('stroke', '#fff');
                nodeCircle.setAttribute('stroke-width', '2');
                svg.appendChild(nodeCircle);
                
                // å„ªå…ˆç´šé‚Šæ¡†ï¼ˆé«˜å„ªå…ˆç”¨ç¶ è‰²é‚Šæ¡†ï¼‰
                if (module.priority === 'high') {
                    const priorityRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                    priorityRing.setAttribute('cx', module.x);
                    priorityRing.setAttribute('cy', module.y);
                    priorityRing.setAttribute('r', module.radius + 5);
                    priorityRing.setAttribute('fill', 'none');
                    priorityRing.setAttribute('stroke', '#28a745');
                    priorityRing.setAttribute('stroke-width', '3');
                    priorityRing.setAttribute('stroke-dasharray', '5,3');
                    svg.appendChild(priorityRing);
                    
                    // å„ªå…ˆæ¨™ç±¤
                    const priorityLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                    priorityLabel.setAttribute('x', module.x + module.radius - 5);
                    priorityLabel.setAttribute('y', module.y - module.radius + 10);
                    priorityLabel.setAttribute('font-size', '8');
                    priorityLabel.setAttribute('font-weight', 'bold');
                    priorityLabel.setAttribute('fill', '#28a745');
                    priorityLabel.textContent = 'å„ªå…ˆ';
                    svg.appendChild(priorityLabel);
                }
                
                // ç¯€é»æ–‡å­—ï¼ˆç™½è‰²èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—ï¼‰
                const textBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                const textWidth = module.name.length * 8;
                textBg.setAttribute('x', module.x - textWidth / 2);
                textBg.setAttribute('y', module.y - 8);
                textBg.setAttribute('width', textWidth);
                textBg.setAttribute('height', '16');
                textBg.setAttribute('fill', '#fff');
                textBg.setAttribute('opacity', '0.9');
                textBg.setAttribute('rx', '8');
                textBg.setAttribute('stroke', '#ccc');
                textBg.setAttribute('stroke-width', '1');
                svg.appendChild(textBg);
                
                const nodeText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                nodeText.setAttribute('x', module.x);
                nodeText.setAttribute('y', module.y + 4);
                nodeText.setAttribute('text-anchor', 'middle');
                nodeText.setAttribute('font-size', '12');
                nodeText.setAttribute('font-weight', 'bold');
                nodeText.setAttribute('fill', '#000');
                nodeText.textContent = module.name;
                svg.appendChild(nodeText);
                
                // TPSç­‰ç´šæ¨™ç±¤ï¼ˆç¯€é»ä¸‹æ–¹ï¼‰
                const tpsLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                tpsLabel.setAttribute('x', module.x);
                tpsLabel.setAttribute('y', module.y + module.radius + 15);
                tpsLabel.setAttribute('text-anchor', 'middle');
                tpsLabel.setAttribute('font-size', '9');
                tpsLabel.setAttribute('fill', '#666');
                tpsLabel.setAttribute('font-weight', 'bold');
                tpsLabel.textContent = module.tpsLevel;
                svg.appendChild(tpsLabel);
                
                // 3. é€£æ¥ç·šåˆ°åŸºç¤å±¤
                const targetLayer = infrastructureLayers.find(layer => layer.name === module.connection);
                if (targetLayer) {
                    const targetX = targetLayer.x + targetLayer.width / 2;
                    const targetY = targetLayer.y;
                    
                    // é€£æ¥ç·š
                    const connectionLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    connectionLine.setAttribute('x1', module.x);
                    connectionLine.setAttribute('y1', module.y + module.radius);
                    connectionLine.setAttribute('x2', targetX);
                    connectionLine.setAttribute('y2', targetY);
                    connectionLine.setAttribute('stroke', targetLayer.color);
                    connectionLine.setAttribute('stroke-width', '2');
                    connectionLine.setAttribute('opacity', '0.6');
                    connectionLine.setAttribute('stroke-dasharray', '4,2');
                    svg.appendChild(connectionLine);
                    
                    // ç®­é ­
                    const arrowX = targetX;
                    const arrowY = targetY - 8;
                    const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
                    arrow.setAttribute('points', `${arrowX-4},${arrowY} ${arrowX+4},${arrowY} ${arrowX},${arrowY+8}`);
                    arrow.setAttribute('fill', targetLayer.color);
                    arrow.setAttribute('opacity', '0.8');
                    svg.appendChild(arrow);
                }
            });
            
            // 4. æ·»åŠ åœ–ä¾‹
            const legend = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            
            // å±¤ç´šæ¨™é¡Œ
            const baseTitle = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            baseTitle.setAttribute('x', '20');
            baseTitle.setAttribute('y', '30');
            baseTitle.setAttribute('font-size', '14');
            baseTitle.setAttribute('font-weight', 'bold');
            baseTitle.setAttribute('fill', '#333');
            baseTitle.textContent = 'æ ¸å¿ƒå±¤ â†’ æœå‹™å±¤ â†’ é—œéµéƒ¨ç½²å±¤';
            svg.appendChild(baseTitle);
            
            // å„ªå…ˆç´šåœ–ä¾‹
            const highPriorityCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            highPriorityCircle.setAttribute('cx', '30');
            highPriorityCircle.setAttribute('cy', '60');
            highPriorityCircle.setAttribute('r', '8');
            highPriorityCircle.setAttribute('fill', '#ffc107');
            highPriorityCircle.setAttribute('stroke', '#28a745');
            highPriorityCircle.setAttribute('stroke-width', '2');
            svg.appendChild(highPriorityCircle);
            
            const highPriorityText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            highPriorityText.setAttribute('x', '45');
            highPriorityText.setAttribute('y', '65');
            highPriorityText.setAttribute('font-size', '10');
            highPriorityText.setAttribute('fill', '#333');
            highPriorityText.textContent = 'å„ªå…ˆéƒ¨ç½²ï¼ˆç¶ é‚Šæ¡†ï¼‰';
            svg.appendChild(highPriorityText);
            
            const lowPriorityCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            lowPriorityCircle.setAttribute('cx', '30');
            lowPriorityCircle.setAttribute('cy', '80');
            lowPriorityCircle.setAttribute('r', '8');
            lowPriorityCircle.setAttribute('fill', '#ffc107');
            lowPriorityCircle.setAttribute('stroke', '#6c757d');
            lowPriorityCircle.setAttribute('stroke-width', '2');
            svg.appendChild(lowPriorityCircle);
            
            const lowPriorityText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            lowPriorityText.setAttribute('x', '45');
            lowPriorityText.setAttribute('y', '85');
            lowPriorityText.setAttribute('font-size', '10');
            lowPriorityText.setAttribute('fill', '#333');
            lowPriorityText.textContent = 'å»¶å¾Œå„ªåŒ–ï¼ˆç°é‚Šæ¡†ï¼‰';
            svg.appendChild(lowPriorityText);
        }
        
        // æ¸²æŸ“å„ªå…ˆæ’åºçŸ©é™£åœ–ï¼ˆå³å´ï¼‰
        function renderPriorityMatrix() {
            const svg = document.getElementById('priority-matrix-svg');
            if (!svg) return;
            
            svg.innerHTML = '';
            
            // çŸ©é™£æ•¸æ“šï¼ˆæ¨™æº–æ•£é»åœ–ï¼Œçµ±ä¸€å¤§å°ï¼‰
            const matrixData = [
                { name: 'é›¶å”®ç¶²è·¯', tps: 1500, impact: 90, color: '#28a745', priority: 'high' },
                { name: 'é£Ÿå“ä¾›æ‡‰éˆ', tps: 800, impact: 85, color: '#28a745', priority: 'high' },
                { name: 'RWA', tps: 500, impact: 75, color: '#28a745', priority: 'high' },
                { name: 'äº¤æ˜“å ´åŸŸ', tps: 1000, impact: 55, color: '#ffc107', priority: 'medium' },
                { name: 'è·¨å¢ƒæ”¯ä»˜', tps: 300, impact: 45, color: '#6c757d', priority: 'low' },
                { name: 'æµ·å¤–ä¾›æ‡‰éˆ', tps: 200, impact: 35, color: '#6c757d', priority: 'low' }
            ];
            
            // è¨­ç½®åº§æ¨™ç³»
            const margin = { top: 50, right: 50, bottom: 80, left: 80 };
            const width = 400 - margin.left - margin.right;
            const height = 400 - margin.top - margin.bottom;
            
            // Xè»¸ï¼ˆTPSå£“åŠ›ï¼‰
            const xScale = (tps) => margin.left + (tps / 1600) * width;
            
            // Yè»¸ï¼ˆæˆ°ç•¥å½±éŸ¿åŠ›ï¼‰
            const yScale = (impact) => margin.top + height - (impact / 100) * height;
            
            // æ¨™æº–æ•£é»å¤§å°ï¼ˆçµ±ä¸€ï¼‰
            const standardRadius = 12;
            
            // ç¹ªè£½èƒŒæ™¯ç¶²æ ¼
            // Xè»¸åˆ†æ®µç·š
            const xSegments = [500, 1000, 1500];
            xSegments.forEach(tps => {
                const x = xScale(tps);
                const gridLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                gridLine.setAttribute('x1', x);
                gridLine.setAttribute('y1', margin.top);
                gridLine.setAttribute('x2', x);
                gridLine.setAttribute('y2', height + margin.top);
                gridLine.setAttribute('stroke', '#e0e0e0');
                gridLine.setAttribute('stroke-width', '1');
                gridLine.setAttribute('stroke-dasharray', '3,3');
                svg.appendChild(gridLine);
                
                // Xè»¸åˆ»åº¦æ¨™ç±¤
                const xTickLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                xTickLabel.setAttribute('x', x);
                xTickLabel.setAttribute('y', height + margin.top + 20);
                xTickLabel.setAttribute('text-anchor', 'middle');
                xTickLabel.setAttribute('font-size', '9');
                xTickLabel.setAttribute('fill', '#666');
                xTickLabel.textContent = tps;
                svg.appendChild(xTickLabel);
            });
            
            // Yè»¸åˆ†æ®µç·š
            const ySegments = [33, 66, 100];
            const yLabels = ['ä½æˆ°ç•¥å½±éŸ¿åŠ›', 'ä¸­æˆ°ç•¥å½±éŸ¿åŠ›', 'é«˜æˆ°ç•¥å½±éŸ¿åŠ›'];
            ySegments.forEach((impact, index) => {
                const y = yScale(impact);
                const gridLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                gridLine.setAttribute('x1', margin.left);
                gridLine.setAttribute('y1', y);
                gridLine.setAttribute('x2', width + margin.left);
                gridLine.setAttribute('y2', y);
                gridLine.setAttribute('stroke', '#e0e0e0');
                gridLine.setAttribute('stroke-width', '1');
                gridLine.setAttribute('stroke-dasharray', '3,3');
                svg.appendChild(gridLine);
                
                // Yè»¸åˆ†æ®µæ¨™ç±¤
                const yTickLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                yTickLabel.setAttribute('x', margin.left - 30);
                yTickLabel.setAttribute('y', y + 4);
                yTickLabel.setAttribute('text-anchor', 'middle');
                yTickLabel.setAttribute('font-size', '9');
                yTickLabel.setAttribute('fill', '#666');
                yTickLabel.textContent = yLabels[index];
                svg.appendChild(yTickLabel);
            });
            
            // ç¹ªè£½åº§æ¨™è»¸
            // Xè»¸
            const xAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            xAxis.setAttribute('x1', margin.left);
            xAxis.setAttribute('y1', height + margin.top);
            xAxis.setAttribute('x2', width + margin.left);
            xAxis.setAttribute('y2', height + margin.top);
            xAxis.setAttribute('stroke', '#333');
            xAxis.setAttribute('stroke-width', '2');
            svg.appendChild(xAxis);
            
            // Yè»¸
            const yAxis = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            yAxis.setAttribute('x1', margin.left);
            yAxis.setAttribute('y1', margin.top);
            yAxis.setAttribute('x2', margin.left);
            yAxis.setAttribute('y2', height + margin.top);
            yAxis.setAttribute('stroke', '#333');
            yAxis.setAttribute('stroke-width', '2');
            svg.appendChild(yAxis);
            
            // Xè»¸æ¨™ç±¤
            const xLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            xLabel.setAttribute('x', margin.left + width / 2);
            xLabel.setAttribute('y', height + margin.top + 50);
            xLabel.setAttribute('text-anchor', 'middle');
            xLabel.setAttribute('font-size', '12');
            xLabel.setAttribute('font-weight', 'bold');
            xLabel.setAttribute('fill', '#333');
            xLabel.textContent = 'å³°å€¼ TPS éœ€æ±‚ â†’';
            svg.appendChild(xLabel);
            
            // Yè»¸æ¨™ç±¤
            const yLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            yLabel.setAttribute('x', 25);
            yLabel.setAttribute('y', margin.top + height / 2);
            yLabel.setAttribute('text-anchor', 'middle');
            yLabel.setAttribute('font-size', '12');
            yLabel.setAttribute('font-weight', 'bold');
            yLabel.setAttribute('fill', '#333');
            yLabel.setAttribute('transform', `rotate(-90, 25, ${margin.top + height / 2})`);
            yLabel.textContent = 'æˆ°ç•¥å½±éŸ¿åŠ› â†‘';
            svg.appendChild(yLabel);
            
            // ç¹ªè£½æ•£é»
            matrixData.forEach(item => {
                const x = xScale(item.tps);
                const y = yScale(item.impact);
                
                // æ¨™æº–æ•£é»ï¼ˆçµ±ä¸€å¤§å°ï¼‰
                const point = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                point.setAttribute('cx', x);
                point.setAttribute('cy', y);
                point.setAttribute('r', standardRadius);
                point.setAttribute('fill', item.color);
                point.setAttribute('opacity', '0.8');
                point.setAttribute('stroke', item.color);
                point.setAttribute('stroke-width', '2');
                svg.appendChild(point);
                
                // æ¨™ç±¤èƒŒæ™¯ï¼ˆç¢ºä¿å¯è®€æ€§ï¼‰
                const labelBg = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                const labelWidth = item.name.length * 8;
                labelBg.setAttribute('x', x - labelWidth / 2);
                labelBg.setAttribute('y', y - 10);
                labelBg.setAttribute('width', labelWidth);
                labelBg.setAttribute('height', '16');
                labelBg.setAttribute('fill', '#fff');
                labelBg.setAttribute('opacity', '0.95');
                labelBg.setAttribute('rx', '8');
                labelBg.setAttribute('stroke', '#999');
                labelBg.setAttribute('stroke-width', '1');
                svg.appendChild(labelBg);
                
                // æ¨™ç±¤æ–‡å­—ï¼ˆé»‘è‰²ï¼‰
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', x);
                label.setAttribute('y', y - 1);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('font-size', '11');
                label.setAttribute('font-weight', 'bold');
                label.setAttribute('fill', '#000');
                label.textContent = item.name;
                svg.appendChild(label);
                
                // æ•¸æ“šæ¨™ç±¤ï¼ˆå³°å€¼TPSå’Œæˆ°ç•¥å½±éŸ¿åŠ›ï¼‰
                const dataLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                dataLabel.setAttribute('x', x);
                dataLabel.setAttribute('y', y + standardRadius + 18);
                dataLabel.setAttribute('text-anchor', 'middle');
                dataLabel.setAttribute('font-size', '8');
                dataLabel.setAttribute('fill', '#666');
                dataLabel.textContent = `TPS:${item.tps} | å½±éŸ¿:${item.impact}%`;
                svg.appendChild(dataLabel);
            });
            
            // åœ–ä¾‹
            const legendData = [
                { color: '#28a745', label: 'å„ªå…ˆéƒ¨ç½²', x: 280, y: 25 },
                { color: '#ffc107', label: 'ä¸­æœŸéƒ¨ç½²', x: 280, y: 40 },
                { color: '#6c757d', label: 'å»¶å¾Œå„ªåŒ–', x: 280, y: 55 }
            ];
            
            legendData.forEach(item => {
                const legendCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                legendCircle.setAttribute('cx', item.x);
                legendCircle.setAttribute('cy', item.y);
                legendCircle.setAttribute('r', '6');
                legendCircle.setAttribute('fill', item.color);
                legendCircle.setAttribute('opacity', '0.8');
                svg.appendChild(legendCircle);
                
                const legendText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                legendText.setAttribute('x', item.x + 15);
                legendText.setAttribute('y', item.y + 4);
                legendText.setAttribute('font-size', '10');
                legendText.setAttribute('fill', '#333');
                legendText.textContent = item.label;
                svg.appendChild(legendText);
            });
            
            // æŒ‡æ¨™å®šç¾©èªªæ˜æ¡†
            const definitionBox = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
            definitionBox.setAttribute('x', '20');
            definitionBox.setAttribute('y', '15');
            definitionBox.setAttribute('width', '180');
            definitionBox.setAttribute('height', '45');
            definitionBox.setAttribute('fill', '#f8f9fa');
            definitionBox.setAttribute('stroke', '#dee2e6');
            definitionBox.setAttribute('stroke-width', '1');
            definitionBox.setAttribute('rx', '4');
            svg.appendChild(definitionBox);
            
            const definitionTitle = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            definitionTitle.setAttribute('x', '25');
            definitionTitle.setAttribute('y', '30');
            definitionTitle.setAttribute('font-size', '10');
            definitionTitle.setAttribute('font-weight', 'bold');
            definitionTitle.setAttribute('fill', '#495057');
            definitionTitle.textContent = 'æŒ‡æ¨™å®šç¾©ï¼š';
            svg.appendChild(definitionTitle);
            
            const definition1 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            definition1.setAttribute('x', '25');
            definition1.setAttribute('y', '43');
            definition1.setAttribute('font-size', '8');
            definition1.setAttribute('fill', '#6c757d');
            definition1.textContent = 'â€¢ å³°å€¼TPSéœ€æ±‚ï¼šæ¨¡çµ„åœ¨é«˜å³°æœŸçš„äº¤æ˜“è™•ç†é‡éœ€æ±‚';
            svg.appendChild(definition1);
            
            const definition2 = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            definition2.setAttribute('x', '25');
            definition2.setAttribute('y', '55');
            definition2.setAttribute('font-size', '8');
            definition2.setAttribute('fill', '#6c757d');
            definition2.textContent = 'â€¢ æˆ°ç•¥å½±éŸ¿åŠ›ï¼šæ¨¡çµ„å°æ•´é«”ç”Ÿæ…‹çš„æˆ°ç•¥å¿…è¦æ€§';
            svg.appendChild(definition2);
        }
        
        // æ¸²æŸ“åˆ†æç”Ÿæ…‹åœ–
        function renderAnalysisEcosystem(svg, analysisType) {
            // ç¢ºä¿SVGå­˜åœ¨
            if (!svg) {
                console.error('SVG element not found');
                return;
            }
            
            // è¨­ç½®SVGåŸºæœ¬å±¬æ€§ (èª¿æ•´viewBoxä»¥å®¹ç´1.5å€æ”¾å¤§çš„åœ–å½¢)
            svg.setAttribute('viewBox', '0 0 1200 1200');  // é€²ä¸€æ­¥æ“´å¤§ç¯„åœ
            svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
            svg.style.width = '100%';
            svg.style.height = '800px';  // å¢åŠ é¡¯ç¤ºé«˜åº¦åˆ°800px
            
            // æ¸…ç©ºSVG
            svg.innerHTML = '';
            
            // å‰µå»ºä¸»è¦çµ„
            const mainGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            svg.appendChild(mainGroup);
            
            // å¦‚æœæ˜¯é¢¨éšªåˆ†æï¼Œä½¿ç”¨æ–°çš„ç’°å½¢åˆ†å±¤è¨­è¨ˆ
            if (analysisType === 'risk-analysis') {
                renderRingRiskAnalysis(mainGroup);
                return;
            }
            
            // ç°¡åŒ–çš„ç¯€é»ä½ç½®ï¼ˆé©åˆå°å‹é¡¯ç¤ºï¼‰
            const miniNodes = [
                { id: 'stablecoin', name: 'ç©©å®šå¹£', x: 400, y: 200, type: 'core' },
                { id: 'retail', name: 'é›¶å”®', x: 200, y: 100, type: 'business' },
                { id: 'food', name: 'é£Ÿå“', x: 600, y: 100, type: 'business' },
                { id: 'crossborder', name: 'è·¨å¢ƒ', x: 150, y: 200, type: 'business' },
                { id: 'construction', name: 'å»ºè¨­', x: 300, y: 300, type: 'business' },
                { id: 'rwa', name: 'RWA', x: 500, y: 300, type: 'finance' },
                { id: 'exchange', name: 'äº¤æ˜“æ‰€', x: 650, y: 200, type: 'finance' }
            ];
            
            // ç¹ªè£½é€£æ¥ç·š
            const connections = [
                { from: 'stablecoin', to: 'retail' },
                { from: 'stablecoin', to: 'food' },
                { from: 'stablecoin', to: 'crossborder' },
                { from: 'stablecoin', to: 'construction' },
                { from: 'stablecoin', to: 'rwa' },
                { from: 'stablecoin', to: 'exchange' }
            ];
            
            connections.forEach(conn => {
                const sourceNode = miniNodes.find(n => n.id === conn.from);
                const targetNode = miniNodes.find(n => n.id === conn.to);
                
                if (sourceNode && targetNode) {
                    const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                    line.setAttribute('x1', sourceNode.x);
                    line.setAttribute('y1', sourceNode.y);
                    line.setAttribute('x2', targetNode.x);
                    line.setAttribute('y2', targetNode.y);
                    line.setAttribute('stroke', '#ccc');
                    line.setAttribute('stroke-width', '2');
                    line.setAttribute('opacity', '0.6');
                    mainGroup.appendChild(line);
                }
            });
            
            // æ ¹æ“šåˆ†æé¡å‹è¨­ç½®ä¸åŒçš„è¦–è¦ºæ•ˆæœ
            miniNodes.forEach(node => {
                const nodeGroup = document.createElementNS('http://www.w3.org/2000/svg', 'g');
                
                // åŸºç¤åœ“å½¢
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', node.x);
                circle.setAttribute('cy', node.y);
                circle.setAttribute('r', '54');
                circle.setAttribute('fill', getAnalysisNodeColor(node.type, analysisType));
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '2');
                
                // ç¯€é»æ–‡å­—
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', node.x);
                text.setAttribute('y', node.y + 5);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('fill', 'white');
                text.setAttribute('font-size', '12');
                text.setAttribute('font-weight', 'bold');
                text.textContent = node.name;
                
                // æ ¹æ“šåˆ†æé¡å‹æ·»åŠ ç‰¹æ•ˆ
                if (analysisType === 'value-flow') {
                    addValueFlowEffect(nodeGroup, node);
                } else if (analysisType === 'risk-analysis') {
                    addRiskEffect(nodeGroup, node);
                } else if (analysisType === 'tech-infrastructure') {
                    addTechEffect(nodeGroup, node);
                } else if (analysisType === 'efficiency') {
                    addEfficiencyEffect(nodeGroup, node);
                }
                
                nodeGroup.appendChild(circle);
                nodeGroup.appendChild(text);
                mainGroup.appendChild(nodeGroup);
            });
        }
        
        
        // ç²å–åˆ†æç¯€é»é¡è‰²
        function getAnalysisNodeColor(type, analysisType) {
            if (analysisType === 'value-flow') {
                return type === 'core' ? '#667eea' : '#2ECC71';
            } else if (analysisType === 'risk-analysis') {
                return type === 'core' ? '#667eea' : '#E74C3C';
            } else if (analysisType === 'tech-infrastructure') {
                return type === 'core' ? '#667eea' : '#3498DB';
            } else if (analysisType === 'efficiency') {
                return type === 'core' ? '#667eea' : '#27AE60';
            }
            return getNodeColor(type);
        }
        
        // æ·»åŠ åƒ¹å€¼æµæ•ˆæœ
        function addValueFlowEffect(nodeGroup, node) {
            if (['retail', 'crossborder', 'food'].includes(node.id)) {
                const pulse = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                pulse.setAttribute('cx', node.x);
                pulse.setAttribute('cy', node.y);
                pulse.setAttribute('r', '35');
                pulse.setAttribute('fill', 'none');
                pulse.setAttribute('stroke', '#FFD700');
                pulse.setAttribute('stroke-width', '3');
                pulse.setAttribute('opacity', '0.8');
                nodeGroup.appendChild(pulse);
            }
        }
        
        // æ·»åŠ é¢¨éšªæ•ˆæœ
        function addRiskEffect(nodeGroup, node) {
            const riskColors = {
                'crossborder': '#E74C3C',
                'construction': '#E74C3C', 
                'rwa': '#F39C12',
                'exchange': '#F39C12',
                'food': '#F39C12'
            };
            
            if (riskColors[node.id]) {
                const riskRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                riskRing.setAttribute('cx', node.x);
                riskRing.setAttribute('cy', node.y);
                riskRing.setAttribute('r', '35');
                riskRing.setAttribute('fill', 'none');
                riskRing.setAttribute('stroke', riskColors[node.id]);
                riskRing.setAttribute('stroke-width', '3');
                riskRing.setAttribute('opacity', '0.8');
                nodeGroup.appendChild(riskRing);
            }
        }
        
        
        // æ·»åŠ æŠ€è¡“æ•ˆæœ
        function addTechEffect(nodeGroup, node) {
            const techColors = {
                'retail': '#3498DB',
                'food': '#3498DB',
                'rwa': '#2ECC71',
                'exchange': '#2ECC71',
                'construction': '#9B59B6',
                'crossborder': '#2ECC71'
            };
            
            if (techColors[node.id]) {
                const techRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                techRing.setAttribute('cx', node.x);
                techRing.setAttribute('cy', node.y);
                techRing.setAttribute('r', '35');
                techRing.setAttribute('fill', 'none');
                techRing.setAttribute('stroke', techColors[node.id]);
                techRing.setAttribute('stroke-width', '3');
                techRing.setAttribute('stroke-dasharray', '6,3');
                techRing.setAttribute('opacity', '0.8');
                nodeGroup.appendChild(techRing);
            }
        }
        
        // æ·»åŠ æ•ˆç›Šåˆ†ææ•ˆæœ
        function addEfficiencyEffect(nodeGroup, node) {
            const efficiencyColors = {
                'retail': '#27AE60',
                'food': '#27AE60',
                'construction': '#F39C12',
                'rwa': '#F39C12',
                'crossborder': '#3498DB',
                'exchange': '#3498DB'
            };
            
            if (efficiencyColors[node.id]) {
                const efficiencyRing = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                efficiencyRing.setAttribute('cx', node.x);
                efficiencyRing.setAttribute('cy', node.y);
                efficiencyRing.setAttribute('r', '35');
                efficiencyRing.setAttribute('fill', 'none');
                efficiencyRing.setAttribute('stroke', efficiencyColors[node.id]);
                efficiencyRing.setAttribute('stroke-width', '3');
                efficiencyRing.setAttribute('stroke-dasharray', '4,2');
                efficiencyRing.setAttribute('opacity', '0.8');
                
                // æ·»åŠ å‹•ç•«æ•ˆæœ
                const animate = document.createElementNS('http://www.w3.org/2000/svg', 'animate');
                animate.setAttribute('attributeName', 'stroke-dashoffset');
                animate.setAttribute('from', '0');
                animate.setAttribute('to', '12');
                animate.setAttribute('dur', '3s');
                animate.setAttribute('repeatCount', 'indefinite');
                efficiencyRing.appendChild(animate);
                
                nodeGroup.appendChild(efficiencyRing);
            }
        }
        
        // ç¶œåˆæ•ˆç›Šåˆ†æ
        function showEfficiencyAnalysis() {
            showAnalysisDetailPage('efficiency-analysis', 'ğŸ’° ç¶œåˆæ•ˆç›Šåˆ†æ', 'çµ±ä¸€é›†åœ˜å°å…¥ç©©å®šå¹£èˆ‡å€å¡ŠéˆæŠ€è¡“çš„å®Œæ•´æ•ˆç›Šè©•ä¼°èˆ‡æˆæœ¬åˆ†æ');
        }
        
        // ç¶œåˆæ•ˆç›Šåˆ†æå…§å®¹
        function loadEfficiencyAnalysisContent(contentDiv, summaryDiv, metricsDiv, ecosystemSvg) {
            contentDiv.innerHTML = `
                <div class="detail-section">
                    <h2>ğŸ’° ç©©å®šå¹£èˆ‡å€å¡Šéˆå°å…¥æ•ˆç›Šåˆ†æ</h2>
                    
                    <div class="detail-card">
                        <h4>ğŸ’µ ä¸€ã€ç›´æ¥æˆæœ¬ç¯€çœï¼ˆå¹´åº¦ï¼‰</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #d4edda, #c3e6cb);">
                                <div class="kpi-value" style="color: #27AE60; font-size: 20px;">15-60å„„</div>
                                <div class="kpi-label">æ‰‹çºŒè²»ç¯€çœ</div>
                                <div style="font-size: 11px; margin-top: 5px;">ä¿¡ç”¨å¡/åæ‰‹çºŒè²»1.5-3% â†’ éˆä¸Šåˆ†ä¹‹å¹¾</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #cce5ff, #b3d9ff);">
                                <div class="kpi-value" style="color: #0066cc; font-size: 20px;">1-3å„„</div>
                                <div class="kpi-label">è·¨å¢ƒåŒ¯å…Œæˆæœ¬é™ä½</div>
                                <div style="font-size: 11px; margin-top: 5px;">è·¨å¢ƒåŒ¯æ¬¾2-5% â†’ å³æ™‚å€å¡Šéˆè½‰å¸³</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e);">
                                <div class="kpi-value" style="color: #e17055; font-size: 20px;">0.5-1å„„</div>
                                <div class="kpi-label">æµç¨‹è‡ªå‹•åŒ–é™æœ¬</div>
                                <div style="font-size: 11px; margin-top: 5px;">å°å¸³/ç¨½æ ¸è‡ªå‹•åŒ–ï¼Œæ™ºèƒ½åˆç´„è‡ªå‹•åŒ–</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffe6cc, #ffd9b3);">
                                <div class="kpi-value" style="color: #cc6600; font-size: 20px;">2.5å„„</div>
                                <div class="kpi-label">é£Ÿå“å¬å›é™æœ¬</div>
                                <div style="font-size: 11px; margin-top: 5px;">ç²¾æº–æº¯æºæ¯æ¡ˆæœ€é«˜2.5å„„</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ“ˆ äºŒã€é–‹æºé …ç›®ï¼ˆæ–°æ”¶ç›Šä¾†æºï¼‰</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #d4edda, #c3e6cb);">
                                <div class="kpi-value" style="color: #27AE60; font-size: 18px;">4-10å„„</div>
                                <div class="kpi-label">ç©©å®šå¹£è³‡é‡‘æ²‰æ¾±åˆ©æ¯</div>
                                <div style="font-size: 11px; margin-top: 5px;">å„²å‚™é‡‘è¦æ¨¡èˆ‡çŸ­å‚µå®šå­˜åˆ©å·®</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #cce5ff, #b3d9ff);">
                                <div class="kpi-value" style="color: #0066cc; font-size: 18px;">2-8å„„</div>
                                <div class="kpi-label">NFT/ç¦®åˆ¸äºŒç´šå¸‚å ´</div>
                                <div style="font-size: 11px; margin-top: 5px;">å¹³å°æŠ½æˆï¼Œåƒè€ƒæ˜Ÿå·´å…‹/æ¨‚å¤©æ¡ˆä¾‹</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e);">
                                <div class="kpi-value" style="color: #e17055; font-size: 18px;">2-6å„„</div>
                                <div class="kpi-label">ä¾›æ‡‰éˆé‡‘èæ–°æ”¶å…¥</div>
                                <div style="font-size: 11px; margin-top: 5px;">B2Bæ™ºèƒ½çµç®—åŠ å€¼ã€èè³‡æœå‹™</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffe6cc, #ffd9b3);">
                                <div class="kpi-value" style="color: #cc6600; font-size: 18px;">3-7å„„</div>
                                <div class="kpi-label">æœƒå“¡ç¶“æ¿Ÿæ´»åŒ–</div>
                                <div style="font-size: 11px; margin-top: 5px;">è·¨å¹³å°è¡ŒéŠ·å¢æ”¶ã€ç”¨æˆ¶å¢é•·</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #f0ccff, #e6b3ff);">
                                <div class="kpi-value" style="color: #8000ff; font-size: 18px;">1-3å„„</div>
                                <div class="kpi-label">è·¨å¢ƒåŒ¯æ¬¾æœå‹™</div>
                                <div style="font-size: 11px; margin-top: 5px;">ç§»å·¥å¸‚å ´æœå‹™æ”¶å…¥</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffcccc, #ffb3b3);">
                                <div class="kpi-value" style="color: #cc0000; font-size: 18px;">0.5-2å„„</div>
                                <div class="kpi-label">API/ç”Ÿæ…‹æˆæ¬Š</div>
                                <div style="font-size: 11px; margin-top: 5px;">å¹³å°æ•¸æ“š/é‡‘æµAPIæŠ€è¡“å¹´è²»</div>
                            </div>
                        </div>
                        <p style="margin-top: 15px; font-size: 14px; color: #666;"><strong>å°è¨ˆï¼š</strong>12.5-36å„„ï¼ˆä¿å®ˆä¼°ç®—ï¼Œéœ€è¦–å¯¦éš›æ¨å»£æˆæ•ˆèª¿æ•´ï¼‰</p>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ“ˆ ä¸‰ã€æ½›åœ¨åˆ©ç›Šèˆ‡æ­£é¢æ•ˆç›Š</h4>
                        <ul style="font-size: 16px; line-height: 1.8;">
                            <li><strong style="color: #27AE60;">ğŸ’° çµç®—æ•ˆç‡æå‡</strong>ï¼š24/7å³æ™‚çµç®—ï¼Œè³‡é‡‘ç„¡éœ€åœ¨é€”ï¼Œæ¸›å°‘æµå‹•è³‡é‡‘é–’ç½®æå¤±</li>
                            <li><strong style="color: #3498DB;">ğŸ¯ æ¶ˆè²»èª˜å› å‰µæ–°</strong>ï¼šç©©å®šå¹£å°ˆå±¬æŠ˜æ‰£ã€ç¾é‡‘å›é¥‹ã€æŒæœ‰åˆ©æ¯ï¼Œæå‡æœƒå“¡é»è‘—åº¦</li>
                            <li><strong style="color: #E67E22;">ğŸ‘¥ æ–°å®¢å±¤æ‹“å±•</strong>ï¼šç§»å·¥ã€å¹´è¼•æ—ç¾¤ã€ç„¡å¡æˆ¶æ›´æ˜“é€²å…¥æ•¸ä½æ”¯ä»˜åœˆ</li>
                            <li><strong style="color: #9B59B6;">ğŸ“Š æ•¸æ“šè‡ªä¸»æ¬Š</strong>ï¼šå®Œæ•´æŒæ§äº¤æ˜“æ•¸æ“šï¼Œå±•é–‹å…¨ç”Ÿæ…‹æœƒå“¡åˆ†æèˆ‡ç²¾æº–è¡ŒéŠ·</li>
                            <li><strong style="color: #E74C3C;">ğŸ¤ è­°åƒ¹èƒ½åŠ›æå‡</strong>ï¼šè‡ªå®¶çµç®—ç³»çµ±å¼·åŒ–èˆ‡éŠ€è¡Œã€é‡‘èæ©Ÿæ§‹è«‡åˆ¤åŠ›</li>
                            <li><strong style="color: #F39C12;">âš¡ ä¾›æ‡‰éˆå‰µæ–°</strong>ï¼šæ™ºèƒ½åˆç´„ã€Œé©—æ”¶å³æ’¥æ¬¾ã€ï¼Œç¸®çŸ­è«‹æ¬¾æµç¨‹</li>
                            <li><strong style="color: #2ECC71;">ğŸ¨ æ•¸ä½è³‡ç”¢ç¶“æ¿Ÿ</strong>ï¼šNFTæœƒå“¡ã€ç©åˆ†æµé€šã€æ•¸ä½æ”¶è—å“æ–°æ”¶ç›Š</li>
                            <li><strong style="color: #34495E;">ğŸŒ± ESGæ°¸çºŒåŠ åˆ†</strong>ï¼šç¢³æ¬Šäº¤æ˜“ã€ESGè³‡è¨Šä¸Šéˆï¼Œå¼·åŒ–å“ç‰Œæ°¸çºŒå½¢è±¡</li>
                        </ul>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ¯ ä¸‰ã€ä¸­é•·æœŸæˆ°ç•¥å¥½è™•</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #e8f8f5, #d1f2eb);">
                                <div style="color: #27AE60; font-weight: bold;">è³‡é‡‘éŸŒæ€§</div>
                                <div style="font-size: 12px; margin-top: 5px;">é™ä½å°å‚³çµ±éŠ€è¡Œæ¸…ç®—çš„ä¾è³´ï¼Œç¢ºä¿è³‡é‡‘å³æ™‚çµç®—èˆ‡æµå‹•</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ebf3fd, #d6eaff);">
                                <div style="color: #3498DB; font-weight: bold;">å…§å¤–é›™å¾ªç’°ç¶“æ¿Ÿ</div>
                                <div style="font-size: 12px; margin-top: 5px;">ç©©å®šå¹£åŒæ™‚æ”¯æŒä¼æ¥­å…§éƒ¨çµç®—èˆ‡å°å¤–æ”¯ä»˜ï¼Œå…¼é¡§å…§éƒ¨æ•ˆç‡èˆ‡å¤–éƒ¨å•†æ¥­åƒ¹å€¼</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #fff9e6, #fff2cc);">
                                <div style="color: #F39C12; font-weight: bold;">æ•¸ä½é‡‘èé ˜å…ˆ</div>
                                <div style="font-size: 12px; margin-top: 5px;">ç‡å…ˆæ¨å‹•åˆè¦ç©©å®šå¹£åœ¨é›¶å”®ã€ä¾›æ‡‰éˆã€è·¨å¢ƒé ˜åŸŸçš„æ‡‰ç”¨</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #f4e6ff, #e6ccff);">
                                <div style="color: #9B59B6; font-weight: bold;">ç”¢æ¥­æ¨™æº–åˆ¶å®š</div>
                                <div style="font-size: 12px; margin-top: 5px;">ç©©å®šå¹£æ‡‰ç”¨æ¨¡å¼æˆç‚ºé›¶å”®èˆ‡ä¾›æ‡‰éˆè¡Œæ¥­çš„åƒè€ƒæ¨™æº–ï¼Œæå‡è­°åƒ¹èˆ‡è©±èªæ¬Š</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ“Š å››ã€ç¸½åˆè¨ˆç®—</h4>
                        <div class="kpi-grid">
                            <div class="kpi-item" style="background: linear-gradient(135deg, #d4edda, #c3e6cb); border: 3px solid #27AE60;">
                                <div class="kpi-value" style="color: #27AE60; font-size: 24px; font-weight: bold;">16.5-66.5å„„</div>
                                <div class="kpi-label" style="font-weight: bold;">ç›´æ¥é‡‘æµç¯€çœ</div>
                                <div style="font-size: 11px; margin-top: 5px;">å¹´åŒ–è¨ˆç®—ï¼Œä¸å«å¶ç™¼å¬å›æ¡ˆä¾‹</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #cce5ff, #b3d9ff); border: 3px solid #0066cc;">
                                <div class="kpi-value" style="color: #0066cc; font-size: 24px; font-weight: bold;">12.5-36å„„</div>
                                <div class="kpi-label" style="font-weight: bold;">é–‹æºé …ç›®æ”¶ç›Š</div>
                                <div style="font-size: 11px; margin-top: 5px;">ä¿å®ˆä¼°ç®—ï¼Œéœ€è¦–æ¨å»£æˆæ•ˆèª¿æ•´</div>
                            </div>
                            <div class="kpi-item" style="background: linear-gradient(135deg, #ffeaa7, #fdcb6e); border: 3px solid #f39c12;">
                                <div class="kpi-value" style="color: #e17055; font-size: 26px; font-weight: bold;">28.5-102.5å„„</div>
                                <div class="kpi-label" style="font-weight: bold;">ç¸½åˆè¨ˆæ•ˆç›Š</div>
                                <div style="font-size: 11px; margin-top: 5px;">è‹¥å«å¤šæ¡ˆå¬å›ã€ç”¢æ¥­å‡ç´šæˆæ•ˆå¯ä¸Šçœ‹120å„„</div>
                            </div>
                        </div>
                        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #28a745;">
                            <p style="margin: 0; font-size: 14px; color: #333;"><strong>é™„è¨»ï¼š</strong>ç¯€çœéƒ¨åˆ†é‡‘é¡ä¾æ“šå¹´äº¤æ˜“é¡ã€æ‰‹çºŒè²»ç‡ã€ç¾æœ‰å•†æ¥­æ¡ˆä¾‹ç›´æ¥æ›ç®—ã€‚é–‹æºéƒ¨åˆ†å¤šå±¬å½ˆæ€§æ¨ä¼°ï¼Œéœ€è¦–å¯¦éš›æ¨å»£æˆæ•ˆèª¿æ•´ã€‚</p>
                        </div>
                    </div>
                    
                    <div class="detail-card">
                        <h4>ğŸ“‹ äº”ã€æ•ˆç›Šç¸½çµè¡¨</h4>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; font-size: 14px; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: #34495e; color: white;">
                                        <th style="padding: 12px; text-align: left;">é¡å‹</th>
                                        <th style="padding: 12px;">é ä¼°æ•ˆç›Š</th>
                                        <th style="padding: 12px;">èªªæ˜</th>
                                        <th style="padding: 12px;">ç”¢æ¥­è­‰æ“š</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="background: #d4edda;">
                                        <td style="padding: 10px; font-weight: bold;">æ‰‹çºŒè²»ç¯€çœ</td>
                                        <td style="padding: 10px;">15-60å„„å…ƒ/å¹´</td>
                                        <td style="padding: 10px;">ä¾æ“šå¤–éƒ¨å®¢æˆ¶æ”¶å…¥åŸºç¤è¨ˆç®—</td>
                                        <td style="padding: 10px;">Walmartã€CVSå¯¦è­‰</td>
                                    </tr>
                                    <tr style="background: #cce5ff;">
                                        <td style="padding: 10px; font-weight: bold;">åŒ¯å…Œç¯€çœ</td>
                                        <td style="padding: 10px;">1-3å„„å…ƒ/å¹´</td>
                                        <td style="padding: 10px;">è·¨å¢ƒå€å¡Šéˆæ‡‰ç”¨</td>
                                        <td style="padding: 10px;">ç¾è¡Œäº¤æ˜“è¦æ¨¡æ¨ç®—</td>
                                    </tr>
                                    <tr style="background: #ffe6cc;">
                                        <td style="padding: 10px; font-weight: bold;">é£Ÿå“å¬å›</td>
                                        <td style="padding: 10px;">æ¯æ¡ˆæœ€é«˜2.5å„„</td>
                                        <td style="padding: 10px;">ç²¾æº–å¬å›vså‚³çµ±æ–¹å¼</td>
                                        <td style="padding: 10px;">IBM Food Trustæ¡ˆä¾‹</td>
                                    </tr>
                                    <tr style="background: #f0ccff;">
                                        <td style="padding: 10px; font-weight: bold;">æµç¨‹è‡ªå‹•åŒ–</td>
                                        <td style="padding: 10px;">æ•¸åƒè¬-1å„„+/å¹´</td>
                                        <td style="padding: 10px;">å°å¸³ã€åˆç´„ã€æ’¥æ¬¾è‡ªå‹•åŒ–</td>
                                        <td style="padding: 10px;">ç¾åœ‹æ”¿åºœæ¡è³¼æ¡ˆä¾‹</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
            
            summaryDiv.innerHTML = `
                <p><strong>æœ€é«˜å¹´ç¯€çœï¼š</strong>66.5å„„/å¹´</p>
                <p><strong>ç¶œåˆæ•ˆç›Šï¼š</strong>28.5-102.5å„„/å¹´</p>
                <p><strong>æˆ°ç•¥åƒ¹å€¼ï¼š</strong>æ¥µé«˜</p>
                <p><strong>ç”¢æ¥­åœ°ä½ï¼š</strong>å…ˆè¡Œè€…å„ªå‹¢</p>
            `;
            
            metricsDiv.innerHTML = `
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <div class="kpi-value">66.5å„„</div>
                        <div class="kpi-label">æœ€é«˜å¹´ç¯€çœ</div>
                    </div>
                    <div class="kpi-item">
                        <div class="kpi-value">28.5-102.5å„„</div>
                        <div class="kpi-label">ç¶œåˆæ•ˆç›Š</div>
                    </div>
                </div>
            `;
            
            // Chart removed as requested
        }
        
        // æœå°‹ç¯€é»
        function searchNodes(query) {
            if (!query) {
                resetView();
                return;
            }
            
            const lowQuery = query.toLowerCase();
            
            // é‡ç½®æ‰€æœ‰ç¯€é»
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '0.3';
            });
            
            // é«˜äº®åŒ¹é…çš„ç¯€é»
            nodes.forEach(node => {
                if (node.name.toLowerCase().includes(lowQuery) || 
                    node.info.toLowerCase().includes(lowQuery)) {
                    const nodeElement = document.querySelector(`[data-id="${node.id}"]`);
                    if (nodeElement) {
                        nodeElement.style.opacity = '1';
                        
                        // æ·»åŠ æœç´¢é«˜äº®æ•ˆæœ
                        const circle = nodeElement.querySelector('circle');
                        circle.setAttribute('filter', 'url(#glow)');
                    }
                }
            });
        }
        
        // æŒ‰é¡å‹éæ¿¾
        function filterByType(type) {
            // é‡ç½®æ‰€æœ‰å…ƒç´ 
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '0.3';
            });
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '0.1';
            });
            
            // åªé«˜äº®é¸ä¸­é¡å‹çš„ç¯€é»ï¼Œä¸é¡¯ç¤ºé€£æ¥
            nodes.filter(n => n.type === type).forEach(node => {
                const nodeElement = document.querySelector(`[data-id="${node.id}"]`);
                if (nodeElement) {
                    nodeElement.style.opacity = '1';
                }
            });
            
            // åªé«˜äº®åŒé¡å‹ç¯€é»ä¹‹é–“çš„é€£ç·š
            const typeNodeIds = nodes.filter(n => n.type === type).map(n => n.id);
            document.querySelectorAll('.link').forEach(link => {
                const source = link.dataset.source;
                const target = link.dataset.target;
                if (typeNodeIds.includes(source) && typeNodeIds.includes(target)) {
                    link.style.opacity = '0.8';
                }
            });
        }
        
        // é‡ç½®è¦–åœ–
        function resetView() {
            // é‡ç½®æ‰€æœ‰å…ƒç´ 
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '1';
            });
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '0.6';
                const linkData = links.find(link => 
                    (link.source === l.dataset.source && link.target === l.dataset.target) ||
                    (link.source === l.dataset.target && link.target === l.dataset.source)
                );
                l.setAttribute('stroke-width', linkData?.strength || '2');
                l.setAttribute('stroke', getLineColor(linkData?.type || 'flow'));
            });
            
            // ç§»é™¤è‡¨æ™‚å…ƒç´ 
            document.querySelectorAll('.flow-number').forEach(n => n.remove());
            document.querySelectorAll('.risk-indicator').forEach(n => n.remove());
            document.querySelectorAll('.flow-particle').forEach(n => n.remove());
            
            // éš±è—ä¿¡æ¯é¢æ¿
            hideInfoPanel();
            
            // æ¢å¾©åœ–ä¾‹é¡¯ç¤ºï¼Œéš±è—æµç¨‹èªªæ˜
            document.querySelector('.legend').style.display = 'block';
            document.getElementById('flow-description').style.display = 'none';
            
            // é‡ç½®æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
        }
        
        // åˆ‡æ›å‹•ç•«
        function toggleAnimation() {
            animationEnabled = !animationEnabled;
            event.target.classList.toggle('active');
            initSVG();
        }
        
        // é¡¯ç¤ºæ‰€æœ‰é€£æ¥
        function resetView() {
            // é‡ç½®æ‰€æœ‰ç¯€é»å’Œé€£ç·šçš„é€æ˜åº¦
            document.querySelectorAll('.node').forEach(n => {
                n.style.opacity = '1';
            });
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '0.6';
                l.style.strokeWidth = '2';
            });
            
            // é‡ç½®æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
        }

        function showAllConnections() {
            resetView();
            event.target.classList.add('active');
            
            // ç¢ºä¿åœ–ä¾‹é¡¯ç¤º
            document.querySelector('.legend').style.display = 'block';
            document.getElementById('flow-description').style.display = 'none';
            
            // é«˜äº®æ‰€æœ‰é€£æ¥ç·š
            document.querySelectorAll('.link').forEach(l => {
                l.style.opacity = '1';
                const linkData = links.find(link => 
                    (link.source === l.dataset.source && link.target === l.dataset.target) ||
                    (link.source === l.dataset.target && link.target === l.dataset.source)
                );
                l.setAttribute('stroke-width', (linkData?.strength || 2) + 1);
            });
            
            // ç‚ºä¸åŒé¡å‹çš„é€£æ¥æ·»åŠ è¦–è¦ºå€åˆ†
            links.forEach((link, index) => {
                setTimeout(() => {
                    const linkElement = document.querySelector(
                        `[data-source="${link.source}"][data-target="${link.target}"], 
                         [data-source="${link.target}"][data-target="${link.source}"]`
                    );
                    if (linkElement) {
                        linkElement.style.animation = `pulse 1s ${index * 0.1}s ease-in-out infinite`;
                    }
                }, index * 50);
            });
        }
        
        // è¨­ç½®ç¸®æ”¾åŠŸèƒ½
        function setupDragAndZoom() {
            // æ»¾è¼ªç¸®æ”¾
            svg.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = svg.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                const newZoom = currentZoom * delta;
                
                if (newZoom >= 0.8 && newZoom <= 2) {
                    currentZoom = newZoom;
                    updateTransform();
                }
            });
            
            // è§¸æ§æ”¯æŒ
            let touches = [];
            svg.addEventListener('touchstart', (e) => {
                touches = Array.from(e.touches);
            });
            
            svg.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (e.touches.length === 2 && touches.length === 2) {
                    // é›™æŒ‡ç¸®æ”¾
                    const dist1 = Math.hypot(
                        touches[0].clientX - touches[1].clientX,
                        touches[0].clientY - touches[1].clientY
                    );
                    const dist2 = Math.hypot(
                        e.touches[0].clientX - e.touches[1].clientX,
                        e.touches[0].clientY - e.touches[1].clientY
                    );
                    
                    const scale = dist2 / dist1;
                    const newZoom = currentZoom * scale;
                    if (newZoom >= 0.8 && newZoom <= 2) {
                        currentZoom = newZoom;
                        updateTransform();
                    }
                    
                    touches = Array.from(e.touches);
                }
            });
        }
        
        
        function updateTransform() {
            const mainGroup = document.getElementById('main-group');
            if (mainGroup) {
                mainGroup.setAttribute('transform', `scale(${currentZoom})`);
            }
        }
        
        // ç¸®æ”¾æ§åˆ¶
        function zoomIn() {
            currentZoom *= 1.2;
            currentZoom = Math.min(currentZoom, 3);
            updateTransform();
        }
        
        function zoomOut() {
            currentZoom *= 0.8;
            currentZoom = Math.max(currentZoom, 0.5);
            updateTransform();
        }
        
        function resetZoom() {
            currentZoom = 1;
            updateTransform();
            resetView();
        }
        
        // æ·»åŠ CSSå‹•ç•«
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0%, 100% { opacity: 0.6; }
                50% { opacity: 1; }
            }
            
            .node {
                transition: opacity 0.3s ease;
            }
            
            .link {
                transition: opacity 0.3s ease, stroke-width 0.3s ease;
            }
            
            .flow-particle {
                mix-blend-mode: screen;
            }
            
            .info-panel-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.5);
                z-index: 1000;
                display: none;
            }
            
            .flow-description {
                background: #f8f9fa;
                border-radius: 15px;
                padding: 25px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                border-left: 4px solid #667eea;
                animation: slideIn 0.3s ease;
                height: 100%;
                overflow-y: auto;
            }
            
            .flow-header {
                border-bottom: 2px solid #e9ecef;
                padding-bottom: 20px;
                margin-bottom: 25px;
            }
            
            .flow-section {
                background: white;
                border-radius: 10px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            }
            
            .flow-section h4 {
                color: #2c3e50;
                font-size: 1.1em;
                margin-bottom: 15px;
                display: flex;
                align-items: center;
                gap: 8px;
                border-bottom: 1px solid #e9ecef;
                padding-bottom: 10px;
            }
            
            .flow-section ul {
                margin: 15px 0;
                padding-left: 20px;
            }
            
            .flow-section li {
                color: #555;
                font-size: 0.95em;
                line-height: 1.6;
                margin: 10px 0;
                padding: 5px 0;
            }
            
            .flow-section p {
                color: #666;
                font-size: 1em;
                line-height: 1.6;
                margin: 10px 0;
            }
            
            /* æµç¨‹è©³æƒ…é é¢æ¨£å¼ */
            .flow-detail-page {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background: #f8f9fa;
                z-index: 2000;
                overflow-y: auto;
                padding: 40px;
                box-sizing: border-box;
            }
            
            .flow-detail-header {
                display: flex;
                align-items: center;
                gap: 30px;
                margin-bottom: 40px;
                padding-bottom: 30px;
                border-bottom: 3px solid #e9ecef;
            }
            
            .back-btn {
                background: linear-gradient(135deg, #667eea, #764ba2);
                color: white;
                border: none;
                padding: 15px 25px;
                border-radius: 10px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
                transition: all 0.3s;
                display: flex;
                align-items: center;
                gap: 8px;
            }
            
            .back-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
            }
            
            .flow-detail-title h1 {
                font-size: 2.5em;
                margin: 0;
                background: linear-gradient(135deg, #667eea, #764ba2);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            
            .flow-detail-title p {
                font-size: 1.2em;
                color: #666;
                margin: 10px 0 0 0;
            }
            
            .flow-detail-content {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 40px;
                margin-bottom: 40px;
            }
            
            .detail-section {
                margin-bottom: 30px;
            }
            
            .detail-section h2 {
                color: #2c3e50;
                font-size: 1.5em;
                margin-bottom: 15px;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            
            .detail-card {
                background: white;
                border-radius: 15px;
                padding: 25px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.08);
                border-left: 4px solid #667eea;
            }
            
            .detail-card p {
                font-size: 1.1em;
                line-height: 1.8;
                color: #555;
                margin: 0;
            }
            
            .detail-card ul {
                margin: 0;
                padding-left: 20px;
            }
            
            .detail-card li {
                font-size: 1.05em;
                line-height: 1.8;
                color: #555;
                margin: 15px 0;
                padding: 10px 0;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .kpi-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .kpi-item {
                background: linear-gradient(135deg, #f8f9fa, #e9ecef);
                padding: 20px;
                border-radius: 10px;
                text-align: center;
                border-left: 4px solid #667eea;
            }
            
            .kpi-value {
                font-size: 2em;
                font-weight: bold;
                color: #667eea;
                margin-bottom: 5px;
            }
            
            .kpi-label {
                color: #666;
                font-size: 0.9em;
            }
            
            .flow-detail-ecosystem {
                background: white;
                border-radius: 20px;
                padding: 30px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.1);
                border: 2px solid #e9ecef;
            }
            
            .flow-detail-ecosystem h2 {
                color: #2c3e50;
                font-size: 1.8em;
                margin-bottom: 20px;
                text-align: center;
            }
            
            .mini-ecosystem {
                background: #fafafa;
                border-radius: 15px;
                overflow: hidden;
                border: 1px solid #e9ecef;
            }
            
            .related-nodes {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
            
            .related-node-item {
                background: linear-gradient(135deg, #f8f9fa, #e9ecef);
                padding: 15px;
                border-radius: 10px;
                border-left: 4px solid #667eea;
                transition: all 0.3s;
            }
            
            .related-node-item:hover {
                transform: translateX(5px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            
            .related-node-name {
                font-weight: bold;
                color: #2c3e50;
                margin-bottom: 5px;
            }
            
            .related-node-desc {
                color: #666;
                font-size: 0.9em;
                line-height: 1.5;
            }
        `;
        document.head.appendChild(style);
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initSVG();
        });
    </script>
    
    <!-- å¿…è¦å…ƒç´ ï¼šTooltip -->
    <div id="tooltip" style="position: absolute; background: rgba(0,0,0,0.9); color: white; padding: 10px; border-radius: 5px; font-size: 12px; pointer-events: none; opacity: 0; transition: opacity 0.3s; z-index: 1000;"></div>
</body>
</html>
